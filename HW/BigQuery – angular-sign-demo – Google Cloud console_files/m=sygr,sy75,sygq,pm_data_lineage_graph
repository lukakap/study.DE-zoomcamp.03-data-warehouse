"use strict";this.default_r_tvffkgi=this.default_r_tvffkgi||{};(function(_){var window=this;
try{
var qil,ril,sil,til,uil,vil,wil,xil,yil,zil,Ail,Bil,Eil,Fil,Gil,Hil,Iil,Cil,Jil;qil=function(a){a&1&&(_.M(0),_.S(1),_.N());a&2&&(a=_.Q(),_.y(),_.T(" ",a.label," "))};ril=function(a){if(a&1){const b=_.t();_.I(0,"cfc-tree-node-expander",10);_.P("onExpanderClick",function(){_.v(b);const c=_.Q();return _.x(c.toggleCollapsed())});_.K()}a&2&&(a=_.Q(),_.H("state",a.isCollapsed()?1:2))};
sil=function(a){if(a&1){const b=_.t();_.I(0,"cfc-message",11)(1,"cfc-message-text");_.O(2,0);_.K();_.I(3,"cfc-message-actions")(4,"button",12);_.P("click",function(){_.v(b);const c=_.Q();return _.x(c.toggleCollapsed())});_.O(5,1);_.K()()()}};
til=function(a){if(a&1){const b=_.t();_.I(0,"button",13);_.P("click",function(){_.v(b);const c=_.Q();return _.x(c.deleteNode(c.node))});_.L(1,"cfc-icon",14);_.K()}a&2&&(a=_.Q(),_.Ag("focused",a.isFocused),_.H("cfcTooltip",a.deleteTooltipText)("cfcTooltipRich",!1),_.wg("aria-label",a.getDeleteRowAriaLabel()))};
uil=function(a,b){a&1&&(_.I(0,"div",18),_.L(1,"div",19)(2,"cfc-tree-editor-node",20),_.K());a&2&&(a=b.$implicit,b=_.Q(2),_.y(),_.Ag("withchildren",a.nodeType!==b.TreeEditorNodeType.LEAF)("highlighted",b.isHighlighted()),_.y(),_.H("addLabel",b.addLabel)("deleteTooltipText",b.deleteTooltipText)("node",a)("nodeTemplate",b.nodeTemplate))};
vil=function(a){if(a&1){const b=_.t();_.I(0,"div",18);_.L(1,"div",21);_.I(2,"div",22);_.S(3);_.K();_.I(4,"cfc-tree-editor-add-button",23);_.P("focusin",function(c){_.v(b);var d=_.Q(2);d.treeEditor.highlightedRowID=d.node.rowID;c.stopPropagation();return _.x(void 0)})("focusout",function(c){_.v(b);const d=_.Q(2);return _.x(d.onFocusOut(c))})("onAdd",function(){_.v(b);const c=_.Q(2);return _.x(c.addChild(c.node))});_.K()()}a&2&&(a=_.Q(2),_.y(),_.Ag("highlighted",a.isHighlighted()),_.y(2),_.ih(a.nextNodeNumber),
_.y(),_.H("label",a.addLabel)("ariaLabel",_.jk("Add node {ROW_ID}",{ROW_ID:a.nextNodeNumber}))("showLabel",a.isHighlighted()))};wil=function(a){a&1&&(_.I(0,"div",15),_.G(1,uil,3,8,"div",16)(2,vil,5,6,"div",17),_.K());a&2&&(a=_.Q(),_.Ag("highlighted",a.isHighlighted()),_.y(),_.H("ngForOf",a.node.children)("ngForTrackBy",a.trackByRowID),_.y(),_.H("ngIf",a.canHaveChildren()))};
xil=function(a){a&1&&_.L(0,"div",5);if(a&2){a=_.Q().$implicit;const b=_.Q();_.Ag("withchildren",a.nodeType!==b.TreeEditorNodeType.LEAF)("highlighted",b.isHighlighted())}};yil=function(a,b){a&1&&(_.I(0,"div",2),_.G(1,xil,1,4,"div",3),_.L(2,"cfc-tree-editor-node",4),_.K());a&2&&(a=b.$implicit,b=_.Q(),_.y(),_.H("ngIf",!0),_.y(),_.H("addLabel",b.addNodeLabel)("deleteTooltipText",b.deleteNodeTooltipText)("node",a)("nodeTemplate",b.nodeTemplateRef))};
zil=function(a){a&1&&(_.I(0,"div",9),_.S(1),_.K());a&2&&(a=_.Q(2),_.y(),_.T(" ",a.nextNodeNumber," "))};
Ail=function(a){if(a&1){const b=_.t();_.I(0,"div",2);_.L(1,"div",6);_.G(2,zil,2,1,"div",7);_.I(3,"cfc-tree-editor-add-button",8);_.P("focusin",function(){_.v(b);const c=_.Q();return _.x(c.highlightedRowID="root")})("onAdd",function(){_.v(b);const c=_.Q();return _.x(c.addChild())});_.K()()}a&2&&(a=_.Q(),_.y(),_.Ag("highlighted",a.isHighlighted()),_.y(),_.H("ngIf",a.nodeComponents&&0<a.nodeComponents.length),_.y(),_.H("label",a.addNodeLabel)("ariaLabel",_.jk("Add node {ROW_ID}",{ROW_ID:a.nextNodeNumber}))("showLabel",
a.isHighlighted()))};_.Dil=function(a,b,c,d){const e=a.array([]);d=d||e;for(const f of b)e.push(Bil(a,f,c,d));if(c.uniqueNodeControlName)for(const f of e.controls)a=f.get("value"),Cil(a,e,d,c.uniqueNodeControlName,c.uniquenessConstraint||0);return e};Bil=function(a,b,c,d){d=_.Dil(a,b.children||[],c,d);b=c.createFormGroup(a,b.value);return a.group({value:b,children:d})};Eil=function(a,b){b=[b];a.validator&&b.unshift(a.validator);a.setValidators(b);a.updateValueAndValidity()};
Fil=function(a,b){return c=>c.value?1===a.controls.map(d=>d.get("value").get(b).value).filter(d=>d===c.value).length?null:{cfcTreeEditorNotUnique:!0}:null};Gil=function(a,b){return c=>{if(!c.value)return null;const d=[...a.controls];for(;0<d.length;){var e=d.pop();const f=e.get("value").get(b);if(c!==f&&f.value===c.value)return{cfcTreeEditorNotUnique:!0};e=e.get("children");d.push(...e.controls)}return null}};
Hil=function(a,b,c){a.controls.map(d=>d.get("value")).map(d=>d.get(b)).forEach(d=>{(!c||c&&d!==c)&&d.updateValueAndValidity({emitEvent:!1})})};Iil=function(a,b,c){for(a=[...a.controls];0<a.length;){var d=a.pop();const e=d.get("value").get(b);(!c||c&&e!==c)&&e.updateValueAndValidity({emitEvent:!1});d=d.get("children");a.push(...d.controls)}};
Cil=function(a,b,c,d,e){const f=a.get(d);if(!f)throw Error("qt`"+d);0===e?(Eil(f,Fil(b,d)),f.valueChanges.subscribe(()=>{setTimeout(()=>{Hil(b,d,f)})})):(Eil(f,Gil(c,d)),f.valueChanges.subscribe(()=>{setTimeout(()=>{Iil(c,d,f)})}))};Jil={OBJECT:"OBJECT",ARRAY:"ARRAY",LEAF:"LEAF"};var Kil=class{constructor(){this.onAdd=new _.ms}ngOnInit(){}addChild(){this.onAdd.emit()}focus(){this.button.focus()}};Kil.\u0275fac=function(a){return new (a||Kil)};
Kil.\u0275cmp=_.m({type:Kil,selectors:[["cfc-tree-editor-add-button"]],viewQuery:function(a,b){a&1&&_.ch(_.hw,5);if(a&2){let c;_.eh(c=_.gh())&&(b.button=c.first)}},inputs:{label:"label",showLabel:"showLabel",ariaLabel:"ariaLabel"},outputs:{onAdd:"onAdd"},decls:3,vars:5,consts:[["mat-button","","type","button","cfcTooltipPosition","right",1,"cfc-color-secondary","cfc-tree-editor-add-child",3,"click","cfcTooltip","cfcTooltipDisabled","cfcTooltipRich"],["icon","create","size","small"],[4,"ngIf"]],template:function(a,
b){a&1&&(_.I(0,"button",0),_.P("click",function(){return b.addChild()}),_.L(1,"cfc-icon",1),_.G(2,qil,2,1,"ng-container",2),_.K());if(a&2){let c;_.H("cfcTooltip",b.label)("cfcTooltipDisabled",b.showLabel)("cfcTooltipRich",!1);_.wg("aria-label",null!==(c=b.ariaLabel)&&void 0!==c?c:b.label);_.y(2);_.H("ngIf",b.showLabel)}},dependencies:[_.bz,_.xs,_.Gv,_.Jy,_.hw,_.Gy,_.$z],encapsulation:2});var Lil=a=>({$implicit:a}),Mil=new _.Gd("TreeEditor"),Nil=class{constructor(a,b,c){this.treeEditor=a;this.liveAnnouncer=b;this.elementRef=c;this.rowIdWithoutPrefix="";this.TreeEditorNodeType=Jil;this.isFocused=!1;this.nodeComponents=new _.ah}ngOnInit(){this.rowIdWithoutPrefix=this.node.rowID.substring(5)}deleteNode(a){this.liveAnnouncer.announce("Node removed.");this.treeEditor.deleteNode(a)}addChild(a){this.treeEditor.addChild(a.group,a)}canHaveChildren(){return"LEAF"!==this.node.nodeType}isCollapsed(){return this.treeEditor.isCollapsed(this.node)}toggleCollapsed(){this.treeEditor.setCollapsed(this.node,
!this.isCollapsed())}trackByRowID(a,b){return b.rowID}onFocusIn(a){this.isFocused=!0;const b=this.node.rowID.substring(0,this.node.rowID.lastIndexOf("."));this.treeEditor.highlightedRowID=b;a.stopPropagation()}onFocusOut(a){this.isFocused=!1;this.treeEditor.highlightedRowID=void 0;a.stopPropagation()}isHighlighted(){return this.node.rowID===this.treeEditor.highlightedRowID}getDeleteRowAriaLabel(){return _.jk("Delete resource. Row {ROW_ID}",{ROW_ID:this.rowIdWithoutPrefix})}get nextNodeNumber(){return`${this.rowIdWithoutPrefix}.${this.nodeComponents.length+
1}`}focusFirstFocusableElement(){let a;null==(a=_.Ai(this.elementRef.nativeElement,!0)[0])||a.focus()}};Nil.\u0275fac=function(a){return new (a||Nil)(_.A(Mil),_.A(_.Eu),_.A(_.me))};
Nil.\u0275cmp=_.m({type:Nil,selectors:[["cfc-tree-editor-node"]],viewQuery:function(a,b){a&1&&(_.ch(Kil,5),_.ch(Nil,5));if(a&2){let c;_.eh(c=_.gh())&&(b.addButton=c.first);_.eh(c=_.gh())&&(b.nodeComponents=c)}},hostBindings:function(a,b){a&1&&_.P("focusin",function(c){return b.onFocusIn(c)})("focusout",function(c){return b.onFocusOut(c)})},inputs:{nodeTemplate:"nodeTemplate",node:"node",addLabel:"addLabel",deleteTooltipText:"deleteTooltipText"},decls:9,vars:11,consts:()=>[" One or more collapsed fields need your attention. Expand for details. ",
" Show ",["fxLayout","row","role","group",1,"cfc-tree-editor-node"],["class","cfc-tree-editor-expander",3,"state","onExpanderClick",4,"ngIf"],[1,"cfc-tree-editor-node-index",3,"id"],["fxFlex","0 0 auto",1,"cfc-tree-editor-node-outlet"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","error",4,"ngIf"],["mat-icon-button","","type","button","class","cfc-tree-editor-delete","cfcTooltipPosition","right",3,"focused","cfcTooltip","cfcTooltipRich","click",4,"ngIf"],["class","cfc-tree-editor-vertical-guide-line",
3,"highlighted",4,"ngIf"],[1,"cfc-tree-editor-expander",3,"onExpanderClick","state"],["type","error"],["mat-raised-button","",3,"click"],["mat-icon-button","","type","button","cfcTooltipPosition","right",1,"cfc-tree-editor-delete",3,"click","cfcTooltip","cfcTooltipRich"],["icon","delete","size","small"],[1,"cfc-tree-editor-vertical-guide-line"],["fxLayout","row",4,"ngFor","ngForOf","ngForTrackBy"],["fxLayout","row",4,"ngIf"],["fxLayout","row"],[1,"cfc-tree-editor-horizontal-guide"],[3,"addLabel",
"deleteTooltipText","node","nodeTemplate"],[1,"cfc-tree-editor-add-child-horizontal-guide"],[1,"cfc-tree-editor-add-child-index"],[3,"focusin","focusout","onAdd","label","ariaLabel","showLabel"]],template:function(a,b){a&1&&(_.I(0,"div",2),_.G(1,ril,1,1,"cfc-tree-node-expander",3),_.I(2,"div",4),_.S(3),_.K(),_.I(4,"div",5),_.Kg(5,6),_.G(6,sil,6,0,"cfc-message",7),_.K(),_.G(7,til,2,5,"button",8),_.K(),_.G(8,wil,3,5,"div",9));if(a&2){_.wg("aria-labelledby",b.rowIdWithoutPrefix);_.y();_.H("ngIf",b.canHaveChildren());
_.y();_.H("id",b.rowIdWithoutPrefix);_.y();_.ih(b.rowIdWithoutPrefix);_.y(2);a=_.H("ngTemplateOutlet",b.nodeTemplate);var c={parentNodeType:b.node.parentNodeType,id:b.node.rowID,formGroup:b.node.group.get("value"),indexInParent:b.node.indexInParent,isTopLevel:!b.node.parent,level:b.node.level};a("ngTemplateOutletContext",_.qh(9,Lil,c));_.y();_.H("ngIf",b.isCollapsed()&&!b.node.group.get("children").valid);_.y();_.H("ngIf",b.node.canBeDeleted);_.y();_.H("ngIf",!b.isCollapsed())}},dependencies:[_.bz,
_.ws,_.xs,_.Es,_.kL,_.mL,_.Gv,_.Jy,_.hw,_.jw,_.Gy,_.Hv,_.Jv,_.Iv,_.$z,_.MOd,Nil,Kil],styles:['.cfc-tree-editor-add-child-index[_ngcontent-%COMP%]{color:var(--cm-sys-color-on-surface-variant,rgba(0,0,0,.66));font:var(--cm-sys-type-title-small,400 18px/24px "Roboto");padding-top:4px}.cfc-tree-editor-vertical-guide-line[_ngcontent-%COMP%]{border-left-width:1px;border-style:solid;-webkit-border-image:-webkit-linear-gradient(bottom,transparent,transparent 16px,var(--cm-sys-color-hairline,rgba(0,0,0,.12)) 16px) 1 100%;border-image:linear-gradient(to top,transparent,transparent 16px,var(--cm-sys-color-hairline,rgba(0,0,0,.12)) 16px) 1 100%}.cfc-tree-editor-vertical-guide-line.highlighted[_ngcontent-%COMP%]{-webkit-border-image:-webkit-linear-gradient(bottom,transparent,transparent 16px,var(--cm-sys-color-on-surface-variant,rgba(0,0,0,.66)) 16px) 1 100%;border-image:linear-gradient(to top,transparent,transparent 16px,var(--cm-sys-color-on-surface-variant,rgba(0,0,0,.66)) 16px) 1 100%}.cfc-tree-editor-add-child-horizontal-guide[_ngcontent-%COMP%], .cfc-tree-editor-horizontal-guide[_ngcontent-%COMP%]{width:24px;min-width:24px;margin-right:4px;border-top:var(--cm-sys-color-hairline,rgba(0,0,0,.12)) solid 1px}.cfc-tree-editor-add-child-horizontal-guide.highlighted[_ngcontent-%COMP%], .cfc-tree-editor-horizontal-guide.highlighted[_ngcontent-%COMP%]{border-top-color:var(--cm-sys-color-on-surface-variant,rgba(0,0,0,.66))}.cfc-tree-editor-add-child-horizontal-guide.withchildren[_ngcontent-%COMP%], .cfc-tree-editor-horizontal-guide.withchildren[_ngcontent-%COMP%]{width:4px;min-width:4px}.cfc-tree-editor-horizontal-guide[_ngcontent-%COMP%]{margin-top:27px}.cfc-tree-editor-add-child-horizontal-guide[_ngcontent-%COMP%]{margin-top:16px}.cfc-tree-editor-node-index[_ngcontent-%COMP%]{color:var(--cm-sys-color-on-surface-variant,rgba(0,0,0,.66));font:var(--cm-sys-type-title-small,400 18px/24px "Roboto");padding-top:16px;padding-right:4px}.cm-button.cfc-tree-editor-delete[_ngcontent-%COMP%]{--cm-icon-button-color:var(--cm-sys-color-on-surface-variant,rgba(0,0,0,.66));opacity:0;margin-top:8px}.cm-button.cfc-tree-editor-delete.focused[_ngcontent-%COMP%]{opacity:1}.cfc-tree-editor-node[_ngcontent-%COMP%]:hover   .cfc-tree-editor-delete[_ngcontent-%COMP%]{opacity:1}.cfc-tree-editor-expander[_ngcontent-%COMP%]{margin-top:16px}.cfc-tree-editor-vertical-guide-line[_ngcontent-%COMP%]{margin-left:8px}.cfc-tree-editor-node-outlet[_ngcontent-%COMP%]{margin-top:4px}']});var Pil,Qil,Ril;_.Oil=class{constructor(a){this.template=a}};_.Oil.\u0275fac=function(a){return new (a||_.Oil)(_.A(_.Zg))};_.Oil.\u0275dir=_.Bd({type:_.Oil,selectors:[["","cfcTreeEditorTemplate",""]]});
Pil=function(a,b){b.get("value").valueChanges.pipe(_.eg(a.destroy),_.cg(b.get("value").value),_.D(c=>({value:c,canHaveChildren:a.canHaveChildren(a.manager.getNodeType(c))})),_.Ff((c,d)=>c.canHaveChildren===d.canHaveChildren),_.Sf()).subscribe(([,c])=>{if(!a.isDeletingNode)if(c.canHaveChildren)a.addChild(b,void 0,c.value);else{for(c=b.get("children");c.length;)c.removeAt(0);_.ua(a.collapsedNodes,b)}});for(const c of b.get("children").controls)Pil(a,c)};
Qil=function(a,b){setTimeout(()=>{if(b){for(var c=[],d=b;d;)c.push(d.indexInParent),d=d.parentNode;if(0!==c.length){for(d=a.nodeComponents.get(c.pop());0<c.length;)d=d.nodeComponents.get(c.pop());d&&d.nodeComponents.get(d.nodeComponents.length-1).focusFirstFocusableElement()}}else(c=a.nodeComponents.get(a.nodeComponents.length-1))&&c.focusFirstFocusableElement()})};
Ril=function(a,b,c,d,e,f,g){return c.controls.map((n,p)=>{const r=`${b}${p+1}`;p={rowID:r,children:[],group:n,nodeType:a.manager.getNodeType(n.get("value").value),parent:f,parentNodeType:d,indexInParent:p,canBeDeleted:!0,level:e,parentNode:g};p.children.push(...Ril(a,`${r}.`,n.get("children"),a.manager.getNodeType(n.get("value").value),e+1,n,p));return p})};
_.Sil=class{constructor(a,b){this.fb=a;this.cdref=b;this.addNodeLabel="Add node";this.deleteNodeTooltipText="Delete node";this.nodeComponents=new _.ah;this.TreeEditorNodeType=Jil;this.collapsedNodes=[];this.destroy=new _.Yf;this.isDeletingNode=!1}ngOnInit(){for(const a of this.nodesFormArray.controls)Pil(this,a);this.nodesFormArray.valueChanges.pipe(_.eg(this.destroy)).subscribe(()=>{this.nodes=Ril(this,"root.",this.nodesFormArray,"OBJECT",0)});this.nodes=Ril(this,"root.",this.nodesFormArray,"OBJECT",
0)}addChild(a,b,c){var d=a?a.value:void 0;c&&(d.value=c);c=this.manager.createChild(a?d:void 0);a=a?a.get("children"):this.nodesFormArray;c=Bil(this.fb,{value:c},this.manager,this.nodesFormArray);Pil(this,c);a.push(c);this.manager.uniqueNodeControlName&&(d=this.manager.uniquenessConstraint||0,Cil(c.get("value"),a,this.nodesFormArray,this.manager.uniqueNodeControlName,d));Qil(this,b);this.cdref.detectChanges()}setCollapsed(a,b){a=a.group;b?_.Eaa(this.collapsedNodes,a):_.ua(this.collapsedNodes,a)}isCollapsed(a){return _.ta(this.collapsedNodes,
a.group)}deleteNode(a){this.isDeletingNode=!0;const b=a.parent?a.parent.get("children"):this.nodesFormArray;b.removeAt(a.indexInParent);this.manager.uniqueNodeControlName&&(0===(this.manager.uniquenessConstraint||0)?Hil(b,this.manager.uniqueNodeControlName):Iil(this.nodesFormArray,this.manager.uniqueNodeControlName));this.isDeletingNode=!1;this.moveFocusOnDelete(a);this.cdref.detectChanges()}ngAfterContentInit(){this.nodeTemplateRef=this.nodeTemplate.template;this.cdref.detectChanges()}ngOnDestroy(){this.destroy.next()}trackByRowID(a,
b){return b.rowID}isHighlighted(){return"root"===this.highlightedRowID}get nextNodeNumber(){return this.nodeComponents.length+1}moveFocusOnDelete(a){setTimeout(()=>{const b=[];for(var c=a;c;)b.push(c.indexInParent),c=c.parentNode;c=this.addBtn;let d=this.nodeComponents.get(b.pop());for(;0<b.length;)c=d.addButton,d=d.nodeComponents.get(b.pop());d?d.focusFirstFocusableElement():c.focus()})}canHaveChildren(a){return"LEAF"!==a}};_.Sil.\u0275fac=function(a){return new (a||_.Sil)(_.A(_.Dy),_.A(_.gs))};
_.Sil.\u0275cmp=_.m({type:_.Sil,selectors:[["cfc-tree-editor"]],contentQueries:function(a,b,c){a&1&&_.dh(c,_.Oil,5);if(a&2){let d;_.eh(d=_.gh())&&(b.nodeTemplate=d.first)}},viewQuery:function(a,b){a&1&&(_.ch(Kil,5),_.ch(Nil,5));if(a&2){let c;_.eh(c=_.gh())&&(b.addBtn=c.first);_.eh(c=_.gh())&&(b.nodeComponents=c)}},inputs:{manager:"manager",nodesFormArray:"nodesFormArray",addNodeLabel:"addNodeLabel",deleteNodeTooltipText:"deleteNodeTooltipText"},features:[_.nh([{provide:Mil,useExisting:_.Sil}])],decls:3,
vars:7,consts:[["fxLayout","row",4,"ngFor","ngForOf","ngForTrackBy"],["fxLayout","row",4,"ngIf"],["fxLayout","row"],["class","cfc-tree-editor-horizontal-guide",3,"withchildren","highlighted",4,"ngIf"],[3,"addLabel","deleteTooltipText","node","nodeTemplate"],[1,"cfc-tree-editor-horizontal-guide"],[1,"cfc-tree-editor-add-child-horizontal-guide"],["class","cfc-tree-editor-add-child-index",4,"ngIf"],[3,"focusin","onAdd","label","ariaLabel","showLabel"],[1,"cfc-tree-editor-add-child-index"]],template:function(a,
b){a&1&&(_.I(0,"div"),_.G(1,yil,3,5,"div",0)(2,Ail,4,6,"div",1),_.K());a&2&&(_.Ag("cfc-tree-editor-vertical-guide-line",!0)("highlighted",b.isHighlighted()),_.y(),_.H("ngForOf",b.nodes)("ngForTrackBy",b.trackByRowID),_.y(),_.H("ngIf",!0))},dependencies:[_.ws,_.xs,_.kL,Nil,Kil],styles:['.cfc-tree-editor-add-child-index[_ngcontent-%COMP%]{color:var(--cm-sys-color-on-surface-variant,rgba(0,0,0,.66));font:var(--cm-sys-type-title-small,400 18px/24px "Roboto");padding-top:4px}.cfc-tree-editor-vertical-guide-line[_ngcontent-%COMP%]{border-left-width:1px;border-style:solid;-webkit-border-image:-webkit-linear-gradient(bottom,transparent,transparent 16px,var(--cm-sys-color-hairline,rgba(0,0,0,.12)) 16px) 1 100%;border-image:linear-gradient(to top,transparent,transparent 16px,var(--cm-sys-color-hairline,rgba(0,0,0,.12)) 16px) 1 100%}.cfc-tree-editor-vertical-guide-line.highlighted[_ngcontent-%COMP%]{-webkit-border-image:-webkit-linear-gradient(bottom,transparent,transparent 16px,var(--cm-sys-color-on-surface-variant,rgba(0,0,0,.66)) 16px) 1 100%;border-image:linear-gradient(to top,transparent,transparent 16px,var(--cm-sys-color-on-surface-variant,rgba(0,0,0,.66)) 16px) 1 100%}.cfc-tree-editor-add-child-horizontal-guide[_ngcontent-%COMP%], .cfc-tree-editor-horizontal-guide[_ngcontent-%COMP%]{width:24px;min-width:24px;margin-right:4px;border-top:var(--cm-sys-color-hairline,rgba(0,0,0,.12)) solid 1px}.cfc-tree-editor-add-child-horizontal-guide.highlighted[_ngcontent-%COMP%], .cfc-tree-editor-horizontal-guide.highlighted[_ngcontent-%COMP%]{border-top-color:var(--cm-sys-color-on-surface-variant,rgba(0,0,0,.66))}.cfc-tree-editor-add-child-horizontal-guide.withchildren[_ngcontent-%COMP%], .cfc-tree-editor-horizontal-guide.withchildren[_ngcontent-%COMP%]{width:4px;min-width:4px}.cfc-tree-editor-horizontal-guide[_ngcontent-%COMP%]{margin-top:27px}.cfc-tree-editor-add-child-horizontal-guide[_ngcontent-%COMP%]{margin-top:16px}']});_.Til=class{};_.Til.\u0275fac=function(a){return new (a||_.Til)};_.Til.\u0275mod=_.q({type:_.Til});_.Til.\u0275inj=_.k({imports:[_.UA,_.Ms,_.pL,_.Uv,_.Ky,_.Vv,_.hB,_.UOd]});
}catch(e){_._DumpException(e)}
try{
_.DSg=(0,_.Fi)`<svg data-icon-name="downloadIcon" viewBox="0 0 18 18" width="18" height="18"><path fill-rule="evenodd" d="M7 6V2h4v4h4l-6 7-6-7h4zm-4 8h12v2H3v-2z"/></svg>`;
}catch(e){_._DumpException(e)}
try{
var Uil,Wil,$il,Zil,Vil,Xil,Yil,hjl,ijl,jjl,kjl,ljl,mjl,pjl,qjl,rjl,sjl,tjl,ujl,vjl,wjl,xjl,yjl,zjl,Ajl,Bjl,Cjl,Djl,Ejl,Fjl,Gjl,Hjl,Ijl,Kjl,Ljl,Mjl,Njl,Rjl,Ojl,Ujl,Wjl,ojl,Xjl,Yjl;Uil=function(a,b={}){return"string"===typeof a?a:a.format(b)};Wil=function(a,b){return Vil(a)?b?JSON.stringify(b.fromSchema(a),null,4):JSON.stringify(a,null,4):a.map(({name:c,type:d})=>`${c}:${d}`).join(",\n")};$il=function(a,b){a=/^\s*\[/.test(a)?Xil(a,b):Yil(a);if(Array.isArray(a))for(const c of a){const d=Zil(c,b);if(d)return d}return a};
Zil=function(a,b){a.name=a.name||"";a.type=(a.type||"STRING").toUpperCase();if(!r7.currentSupportedTypes.includes(a.type))return Uil(ajl,{type:a.type,types:r7.currentSupportedTypes.join(", ")});if((b&&b.fieldKeys||bjl).includes("mode")&&(a.mode=(a.mode||"NULLABLE").toUpperCase(),!_.cjl.includes(a.mode)))return Uil(djl,{mode:a.mode,modes:_.cjl.join(", ")});if(null!=a.fields)for(const c of a.fields)Zil(c)};
Vil=function(a){return a.some(b=>b.mode&&"NULLABLE"!==b.mode||"RECORD"===(b.type||"").toUpperCase()||b.maxLength||b.precision||b.scale||b.roundingMode?!0:!!b.description)};Xil=function(a,b){try{const c=JSON.parse(a),d=b&&b.fieldKeys||bjl;for(const e of c){const f=Object.keys(e).filter(g=>!d.includes(g));if(0<f.length)return Uil(ejl,{allKeys:d.join(", "),unknownKeys:f.join(", ")})}return b?b.toSchema(JSON.parse(a)):JSON.parse(a)}catch(c){return Uil(fjl,{message:c.message})}};
Yil=function(a){const b=[];if(a=a.trim()){a=a.split(",");for(const d of a){var c=d.split(":");if(2<c.length)return Uil(gjl,{format:d});a=c[0].trim();c=2===c.length?c[1].trim().toUpperCase():"STRING";if("RECORD"===c)return Uil("RECORD type is not supported in simple schema syntax. Use JSON syntax instead");const e=hjl();if(!e.includes(c))return Uil(ajl,{type:c,types:e.join(", ")});b.push({name:a,type:c})}}return b};hjl=function(){return r7.currentSupportedTypes.filter(a=>"RECORD"!==a)};
ijl=function(a){a&1&&(_.I(0,"mat-slide-toggle",20),_.O(1,0),_.K())};jjl=function(a){a&1&&(_.I(0,"span"),_.S(1),_.K());a&2&&(a=_.Q(2),_.y(),_.T(" ",a.code.errors.schemaError," "))};kjl=function(a){a&1&&(_.M(0),_.L(1,"cfc-code-editor",21),_.I(2,"cfc-form-error",22),_.G(3,jjl,2,1,"span",18),_.K(),_.N());a&2&&(a=_.Q(),_.y(),_.H("height",a.CODE_EDITOR_HEIGHT)("options",a.testEditorOptions),_.y(),_.H("control",a.code),_.y(),_.H("ngIf",a.code.errors))};
ljl=function(a){a&1&&(_.I(0,"cm-error",37),_.O(1,3),_.K());a&2&&(a=_.Q(3),_.y(),_.Qg(a.fieldNameMaxLength),_.Rg(1))};mjl=function(a){a&1&&(_.I(0,"cm-error",37),_.O(1,4),_.K())};pjl=function(a){a&1&&(_.I(0,"cm-error",37),_.S(1),_.K());a&2&&(_.Q(3),_.y(),_.T(" ",njl.format({url:_.Gk(ojl)})," "))};qjl=function(a){a&1&&(_.I(0,"cm-error",37),_.O(1,5),_.K())};rjl=function(a,b){a&1&&(_.I(0,"mat-option",38),_.S(1),_.K());a&2&&(a=b.$implicit,_.H("value",a),_.y(),_.T(" ",a," "))};
sjl=function(a){a&1&&(_.I(0,"mat-option",38),_.S(1),_.K());a&2&&(a=_.Q(3),_.H("value",a.field.controls.type.value),_.y(),_.T(" ",a.field.controls.type.value," "))};tjl=function(a,b){a&1&&(_.I(0,"mat-option",38),_.S(1),_.K());a&2&&(a=b.$implicit,_.H("value",a),_.y(),_.T(" ",a," "))};ujl=function(a){a&1&&(_.M(0,39),_.I(1,"mat-form-field",30)(2,"mat-label"),_.O(3,6),_.K(),_.I(4,"cfc-select",40),_.G(5,tjl,2,2,"mat-option",32),_.K()(),_.N());a&2&&(a=_.Q(3),_.y(5),_.H("ngForOf",a.rangeElementTypes))};
vjl=function(a,b){a&1&&(_.I(0,"mat-option",38),_.S(1),_.K());a&2&&(a=b.$implicit,_.H("value",a),_.y(),_.T(" ",a," "))};wjl=function(a){a&1&&(_.I(0,"mat-form-field",30)(1,"mat-label"),_.O(2,7),_.K(),_.I(3,"cfc-select",41),_.G(4,vjl,2,2,"mat-option",32),_.K()());a&2&&(a=_.Q(3),_.y(4),_.H("ngForOf",a.modes))};xjl=function(a){a&1&&(_.I(0,"cm-error",37),_.O(1,9),_.K());a&2&&(a=_.Q(4),_.y(),_.Qg(a.VALUE_TEMPLATE_MAX_LENGTH),_.Rg(1))};
yjl=function(a){a&1&&(_.I(0,"mat-form-field",30)(1,"mat-label"),_.O(2,8),_.K(),_.I(3,"textarea",42),_.S(4," "),_.K(),_.G(5,xjl,2,1,"cm-error",29),_.K());a&2&&(_.y(3),_.H("rows",2),_.y(2),_.H("cfcDebounceErrorFor","maxlength"))};zjl=function(a){a&1&&(_.I(0,"cm-error",37),_.S(1,"Max length must be a number."),_.K())};Ajl=function(a){a&1&&(_.I(0,"mat-form-field",43)(1,"mat-label"),_.O(2,10),_.K(),_.L(3,"input",44),_.G(4,zjl,2,0,"cm-error",29),_.K());a&2&&(_.y(4),_.H("cfcDebounceErrorFor","number"))};
Bjl=function(a){a&1&&(_.I(0,"cm-error",37),_.S(1,"Precision must be a number."),_.K())};Cjl=function(a){a&1&&(_.I(0,"mat-form-field",43)(1,"mat-label"),_.O(2,11),_.K(),_.L(3,"input",45),_.G(4,Bjl,2,0,"cm-error",29),_.K());a&2&&(_.y(4),_.H("cfcDebounceErrorFor","number"))};Djl=function(a){a&1&&(_.I(0,"cm-error",37),_.S(1,"Scale must be a number."),_.K())};
Ejl=function(a){a&1&&(_.I(0,"mat-form-field",43)(1,"mat-label"),_.O(2,12),_.K(),_.L(3,"input",46),_.G(4,Djl,2,0,"cm-error",29),_.K());a&2&&(_.y(4),_.H("cfcDebounceErrorFor","number"))};Fjl=function(a,b){a&1&&(_.I(0,"mat-option",38),_.S(1),_.K());a&2&&(a=b.$implicit,_.H("value",a),_.y(),_.T(" ",a," "))};Gjl=function(a){a&1&&(_.I(0,"mat-form-field",30)(1,"mat-label"),_.O(2,13),_.K(),_.I(3,"cfc-select",47),_.G(4,Fjl,2,2,"mat-option",32),_.K()());a&2&&(a=_.Q(3),_.y(4),_.H("ngForOf",a.roundingModes))};
Hjl=function(a){a&1&&(_.I(0,"cm-error",37),_.O(1,15),_.K());a&2&&(a=_.Q(4),_.y(),_.Qg(a.DESCRIPTION_MAX_LENGTH),_.Rg(1))};Ijl=function(a){a&1&&(_.I(0,"mat-form-field",30)(1,"mat-label"),_.O(2,14),_.K(),_.I(3,"textarea",48),_.S(4," "),_.K(),_.G(5,Hjl,2,1,"cm-error",29),_.K());a&2&&(_.y(3),_.H("rows",1),_.y(2),_.H("cfcDebounceErrorFor","maxlength"))};
Kjl=function(a,b){a&1&&(_.I(0,"div",26)(1,"mat-form-field",27)(2,"mat-label"),_.O(3,1),_.K(),_.L(4,"input",28),_.G(5,ljl,2,1,"cm-error",29)(6,mjl,2,0,"cm-error",29)(7,pjl,2,1,"cm-error",29)(8,qjl,2,0,"cm-error",29),_.K(),_.I(9,"mat-form-field",30)(10,"mat-label"),_.O(11,2),_.K(),_.I(12,"cfc-select",31),_.G(13,rjl,2,2,"mat-option",32)(14,sjl,2,2,"mat-option",33),_.K()(),_.G(15,ujl,6,1,"ng-container",34)(16,wjl,5,1,"mat-form-field",35)(17,yjl,6,2,"mat-form-field",35)(18,Ajl,5,1,"mat-form-field",36)(19,
Cjl,5,1,"mat-form-field",36)(20,Ejl,5,1,"mat-form-field",36)(21,Gjl,5,1,"mat-form-field",35)(22,Ijl,6,2,"mat-form-field",35),_.K());if(a&2){a=b.$implicit;b=_.Q(2);_.H("formGroup",a.formGroup);_.y();_.H("ngClass","cfc-dc-schema-form-name-input-"+a.level);_.y(4);_.H("cfcDebounceErrorFor","maxlength");_.y();_.H("cfcDebounceErrorFor","required");_.y();_.H("cfcDebounceErrorFor","pattern");_.y();_.H("cfcDebounceErrorFor","cfcTreeEditorNotUnique");_.y(5);_.H("ngForOf",b.types);_.y();var c=(c=a.formGroup.controls.type.value)&&
!b.types.includes(c);_.H("ngIf",c);_.y();_.H("ngIf","RANGE"===a.formGroup.controls.type.value);_.y();_.H("ngIf",b.enabledFieldKeys.includes("mode"));_.y();_.H("ngIf",b.enabledFieldKeys.includes("valueTemplate"));_.y();b.allowTypeParameters?(c=a.formGroup.controls.type.value,c="STRING"===c||"BYTES"===c):c=!1;_.H("ngIf",c);_.y();_.H("ngIf",Jjl(b,a.formGroup));_.y();_.H("ngIf",Jjl(b,a.formGroup));_.y();_.H("ngIf",Jjl(b,a.formGroup));_.y();_.H("ngIf",b.enabledFieldKeys.includes("description"))}};
Ljl=function(a){a&1&&(_.I(0,"div",23)(1,"cfc-tree-editor",24),_.G(2,Kjl,23,16,"ng-template",25),_.K()());a&2&&(a=_.Q(),_.y(),_.H("nodesFormArray",a.fieldArray)("manager",a.treeManager))};Mjl=function(a,b={}){return{schemaError:"string"===typeof a?a:a.format(b)}};
_.Qjl=function({fb:a,fields:b,editAsText:c=!1,treeManager:d,converter:e,fieldNameMaxLength:f}){const g=a.group({editAsText:[c]}),n=Njl(e?e.toSchema(b):b),p=r=>Ojl(r,e);d=d||new Pjl(f,[]);c?g.addControl("code",a.control(Wil(b,e),[p])):(b=_.Dil(a,n,d),g.addControl("fields",b));return a.group({schemaEditor:g})};Njl=function(a){return a.map(b=>Rjl(b,0))};
Rjl=function(a,b){const c={value:{name:a.name,type:a.type,mode:a.mode,description:a.description,valueTemplate:a.valueTemplate,maxLength:a.maxLength,precision:a.precision,scale:a.scale,depth:b}};a=a.fields||[];0<a.length&&(c.children=a.map(d=>Rjl(d,b+1)));return c};Ojl=function(a,b){a=$il(a.value||"",b);if(!Array.isArray(a))return Mjl(a);for(b=0;b<a.length;++b)if(!a[b].name)return Mjl(Sjl,{index:b});b=new Set;for(const {name:c}of a){if(b.has(c))return Mjl(Tjl,{name:c});b.add(c)}return null};
_.Vjl=function(a){{a=a.get("schemaEditor");const b=a.value;if(b.editAsText){if(a=$il(b.code),!Array.isArray(a))throw Error("rt");}else a=Ujl(a.get("fields"))}return a};Ujl=function(a){return a.value.map(b=>Wjl(b))};
Wjl=function({value:a,children:b}){const c=a.type,d=a.mode,e=a.description,f=a.valueTemplate,g=a.maxLength,n=a.precision,p=a.scale,r=a.roundingMode,u=a.rangeElementType;return Object.assign({},{name:a.name,type:c},d&&{mode:d},e&&{description:e},f&&{valueTemplate:f},b&&b.length&&{fields:b.map(Wjl)},g&&{maxLength:g},n&&{precision:n},p&&{scale:p},r&&{roundingMode:r},"RANGE"===c&&(null==u?void 0:u.type)&&{rangeElementType:u})};ojl={type:1,path:"/bigquery/docs/schemas#column_names"};
_.cjl=["NULLABLE","REQUIRED","REPEATED"];Xjl=["NULLABLE","REPEATED"];Yjl=new _.$r("45412633");var r7=class{static get currentSupportedTypes(){return Zjl}static get currentSupportedRangeElementTypes(){return $jl}constructor(a){_.Xc(Yjl)?(Zjl=akl.concat("RANGE"),$jl=bkl):_.gG(a,378).pipe(_.D(b=>b?{types:akl.concat(["RANGE"]),rangeElementTypes:bkl}:{types:akl,rangeElementTypes:[]}),_.hg(({types:b,rangeElementTypes:c})=>{Zjl=b;$jl=c})).subscribe()}init(){}},akl=_.alg.concat("JSON"),Zjl=akl,bkl=["DATE","DATETIME","TIMESTAMP"],$jl=[];r7.\u0275fac=function(a){return new (a||r7)(_.l(_.hG))};
r7.\u0275prov=_.h({token:r7,factory:r7.\u0275fac,providedIn:"root"});var bjl=["name","type","mode","description","fields"];var ajl=new _.ck("Invalid type {type}. Supported types are: {types}"),ejl=new _.ck("Unknown key(s): {unknownKeys}. Supported keys are: {allKeys}"),djl=new _.ck("Invalid mode {mode}. Supported modes are: {modes}"),fjl=new _.ck("Invalid JSON. Original error message: {message}"),gjl=new _.ck("Invalid format {format}. Expected name:type");var Tjl,Sjl,njl,Pjl,Jjl,dkl;Tjl=new _.ck("Duplicate field name {name}");Sjl=new _.ck("Field name required at index {index}");njl=new _.ck("For allowed characters, please refer to {url}");
Pjl=class{constructor(a=64,b){this.fieldNameMaxLength=a;this.enabledFieldKeys=b;this.uniqueNodeControlName="name";this.uniquenessConstraint=0}getNodeType(a){return"RECORD"===a.type?"OBJECT":"LEAF"}createChild(a){a={name:"",type:"STRING",depth:a?a.value.depth+1:0};this.enabledFieldKeys.includes("mode")&&(a.mode="NULLABLE");a.rangeElementType={type:"DATE"};return a}createFormGroup(a,b){const c=b.rangeElementType;return a.group({name:[b.name,[_.ok(this.fieldNameMaxLength),_.qp,_.pk(/^[\p{L}\p{N}\p{Pc}\p{Pd}\p{M}\s&%=>+:'<#|]+$/u)]],
type:[b.type,[_.qp]],mode:[b.mode],description:[b.description,[_.ok(2E3)]],valueTemplate:[b.valueTemplate,[_.ok(2E3)]],maxLength:[b.maxLength],precision:[b.precision],scale:[b.scale],roundingMode:[b.roundingMode],rangeElementType:a.group({type:[null==c?void 0:c.type]})})}};Jjl=function(a,b){if(!a.allowTypeParameters)return!1;a=b.controls.type.value;return"NUMERIC"===a||"BIGNUMERIC"===a};
_.ckl=class{get types(){return r7.currentSupportedTypes}get rangeElementTypes(){return r7.currentSupportedRangeElementTypes}get modes(){return this.nonRequiredModeOnly?Xjl:_.cjl}get formGroup(){return this.parentFormGroupName.control.controls.schemaEditor}get editAsTextControl(){return this.formGroup.controls.editAsText}get fieldArray(){return this.formGroup.controls.fields}get code(){return this.formGroup.controls.code}constructor(a,b,c){this.parentFormGroupName=a;this.fb=b;this.fields=[];this.allowTypeParameters=
this.nonRequiredModeOnly=!1;this.fieldNameMaxLength=64;this.enableEditAsText=!0;this.enabledFieldKeys=["mode","description","roundingMode"];this.roundingModes=Object.keys(_.CEd);this.testEditorOptions={minimap:{enabled:!1}};this.CODE_EDITOR_HEIGHT="600px";this.VALUE_TEMPLATE_MAX_LENGTH=this.DESCRIPTION_MAX_LENGTH=2E3;this.schemaError=d=>Ojl(d,this.converter);this.destroy$=new _.Yf;this.validFields=[];c.init()}ngOnInit(){this.treeManager=new Pjl(this.fieldNameMaxLength,this.enabledFieldKeys);this.editAsTextControl.valueChanges.pipe(_.eg(this.destroy$)).subscribe(a=>
{if(a){var b=Ujl(this.fieldArray);this.validFields=b;this.formGroup.removeControl("fields");this.formGroup.addControl("code",this.fb.control(Wil(b,this.converter),[this.schemaError]))}else a=null==(b=this.code)?void 0:b.value,b=$il(a||"",this.converter),Array.isArray(b)||(b=this.validFields||[]),this.formGroup.removeControl("code"),b=Njl(b),b=_.Dil(this.fb,b,this.treeManager),this.formGroup.addControl("fields",b);this.formGroup.updateValueAndValidity()})}ngOnDestroy(){this.destroy$.next()}};
_.ckl.\u0275fac=function(a){return new (a||_.ckl)(_.A(_.wy,8),_.A(_.Dy),_.A(r7))};
_.ckl.\u0275cmp=_.m({type:_.ckl,selectors:[["dc-schema-form-editor"]],inputs:{fields:"fields",converter:"converter",nonRequiredModeOnly:"nonRequiredModeOnly",allowTypeParameters:"allowTypeParameters",fieldNameMaxLength:"fieldNameMaxLength",enableEditAsText:"enableEditAsText",enabledFieldKeys:"enabledFieldKeys"},features:[_.nh([],[_.ND])],decls:4,vars:3,consts:()=>[" Edit as text "," Field name "," Type "," Field name should not exceed \ufffd0\ufffd characters. "," Field name is required "," Duplicate field name ",
" Range element type "," Mode "," Value template "," Value template should not exceed \ufffd0\ufffd characters. "," Max length "," Precision "," Scale "," Rounding Mode "," Description "," Description should not exceed \ufffd0\ufffd characters. ",["formArrayName","schemaEditor"],["formControlName","editAsText",4,"ngIf"],[4,"ngIf"],["role","group",4,"ngIf"],["formControlName","editAsText"],["language","json","formControlName","code","name","codeditor","aria-label","Edit schema as text",3,"height",
"options"],["errorFor","schemaError",3,"control"],["role","group"],["addNodeLabel","Add field","deleteNodeTooltipText","Delete field",1,"cfc-space-above-base",3,"nodesFormArray","manager"],["cfcTreeEditorTemplate",""],[1,"cfc-inline-form-row","cfc-dc-schema-inline-form-row",3,"formGroup"],[1,"cfc-inline-form-control",3,"ngClass"],"formControlName name required  matInput ".split(" "),["matError","",4,"cfcDebounceErrorFor"],[1,"cfc-inline-form-control"],"formControlName;type;required;;optionsAriaLabel;Type options".split(";"),
[3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["formGroupName","rangeElementType",4,"ngIf"],["class","cfc-inline-form-control",4,"ngIf"],["class","cfc-inline-form-control cfc-dc-schema-form-type-parameters",4,"ngIf"],["matError",""],[3,"value"],["formGroupName","rangeElementType"],["formControlName","type","optionsAriaLabel","Range element type options for range types"],["formControlName","mode","optionsAriaLabel","Mode options"],["matInput","","formControlName","valueTemplate",3,"rows"],[1,
"cfc-inline-form-control","cfc-dc-schema-form-type-parameters"],"matInput  formControlName maxLength cfcNumberInput ".split(" "),"matInput  formControlName precision cfcNumberInput ".split(" "),"matInput  formControlName scale cfcNumberInput ".split(" "),["formControlName","roundingMode"],["matInput","","formControlName","description",3,"rows"]],template:function(a,b){a&1&&(_.I(0,"div",16),_.G(1,ijl,2,0,"mat-slide-toggle",17)(2,kjl,4,4,"ng-container",18)(3,Ljl,3,2,"div",19),_.K());a&2&&(_.y(),_.H("ngIf",
b.enableEditAsText),_.y(),_.H("ngIf",b.editAsTextControl.value&&b.code),_.y(),_.H("ngIf",!b.editAsTextControl.value&&b.fieldArray))},dependencies:[_.bz,_.qR,_.vs,_.ws,_.xs,_.Xy,_.tE,_.Oy,_.Ly,_.Py,_.mx,_.hx,_.fx,_.Uy,_.Vy,_.Sy,_.iv,_.sk,_.ny,_.oy,_.zy,_.vk,_.xy,_.wy,_.uk,_.BA,_.AA,_.HA,_.NA,_.OA,_.MA,_.Sil,_.Oil],styles:[".cfc-dc-schema-inline-form-row[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-bottom:0}.cfc-dc-schema-inline-form-row[_ngcontent-%COMP%]   .mat-form-field-type-cfc-select[_ngcontent-%COMP%]{width:100%;max-width:120px}.cfc-dc-schema-form-type-parameters[_ngcontent-%COMP%]{max-width:80px}@media (max-width:335px){.cfc-dc-schema-form-name-input-0[_ngcontent-%COMP%]{width:192px}.cfc-dc-schema-form-name-input-1[_ngcontent-%COMP%]{width:176px}.cfc-dc-schema-form-name-input-2[_ngcontent-%COMP%]{width:160px}.cfc-dc-schema-form-name-input-3[_ngcontent-%COMP%]{width:144px}.cfc-dc-schema-form-name-input-4[_ngcontent-%COMP%]{width:128px}.cfc-dc-schema-form-name-input-5[_ngcontent-%COMP%]{width:112px}.cfc-dc-schema-form-name-input-6[_ngcontent-%COMP%]{width:96px}}@media (min-width:335px){.cfc-dc-schema-form-name-input-0[_ngcontent-%COMP%]{width:256px}.cfc-dc-schema-form-name-input-1[_ngcontent-%COMP%]{width:240px}.cfc-dc-schema-form-name-input-2[_ngcontent-%COMP%]{width:224px}.cfc-dc-schema-form-name-input-3[_ngcontent-%COMP%]{width:208px}.cfc-dc-schema-form-name-input-4[_ngcontent-%COMP%]{width:192px}.cfc-dc-schema-form-name-input-5[_ngcontent-%COMP%]{width:176px}.cfc-dc-schema-form-name-input-6[_ngcontent-%COMP%]{width:160px}}\n/*# sourceMappingURL=schema_form_editor.css.map */"]});
dkl=[_.UA,_.rR,_.Ms,_.Yy,_.uE,_.BF,_.Qy,_.Wy,_.lv,_.KE,_.Fy,_.dD,_.PA,_.Til];_.s7=class{};_.s7.\u0275fac=function(a){return new (a||_.s7)};_.s7.\u0275mod=_.q({type:_.s7});_.s7.\u0275inj=_.k({imports:[dkl]});
}catch(e){_._DumpException(e)}
try{
_.$h("pm_data_lineage_graph");
var ZIl=function(a){const b=_.$4e.create(),c=b.link();c.set(b.bucketName,a);c.set(b.tab,"objects");return c.build()},$Il=function(a){a=_.Oaa(a.map(b=>[_.qC({keyId:"id",keyType:10,value:b}),_.qC({value:"OR",isOperator:!0})]));a.pop();return a},aJl=function(a){a=_.Oaa(a.map(b=>[_.qC({keyId:"task_id",keyType:10,value:b}),_.qC({value:"OR",isOperator:!0})]));a.pop();return a},bJl=function(a){var b,c;const d={};a.selectedTimeRange&&(d.e=JSON.stringify(a.selectedTimeRange));a.selectAllDagRunsTableRow&&(d.h=
"true");a.selectedDagRunIds&&(d.r=a.selectedDagRunIds);a.selectedTaskIds&&(d.g=a.selectedTaskIds);var e=null!=(b=a.dagRunList)?b:{};b={};e.dagRunIdsFilter&&(e=$Il(e.dagRunIdsFilter),e=_.tp(e),b.f=e);a=null!=(c=a.taskInstanceList)?c:{};c={};a.taskIdsFilter&&0<a.taskIdsFilter.length&&(a=aJl(a.taskIdsFilter),a=_.tp(a),c.f=a);return{dagRunsTab:d,dagRunList:b,taskInstanceList:c}},cJl=function(a){if(void 0===a)return{startTime:"1970-01-01T00:00:00.000Z",endTime:"3000-01-01T00:00:00.000Z"};const b=new Date(a.getTime()),
c=new Date(a.getTime());c.setMilliseconds(a.getMilliseconds()+1);return{startTime:b.toISOString(),endTime:c.toISOString()}},dJl=function(a){const {system:b,subtype:c,path:d}=_.P_(a),[e,f,...g]=_.Q_(d);return{system:b,subtype:c,projectId:e,locationId:f,rest:g}},eJl=function(a){const {system:b,projectId:c,locationId:d,rest:e}=dJl(a);if("dataproc_metastore"!==b)return null;const [f,g,n]=e;return{projectId:c,locationId:d,serviceId:f,databaseId:g,tableId:n}},fJl=function(a){switch(a){case "BIGQUERY_TABLE":return"BigQuery table";
case "BIGQUERY_VIEW":return"BigQuery view";case "BIGQUERY_MATERIALIZED_VIEW":return"BigQuery materialized view";case "BIGQUERY_SHARDED_TABLE":return"BigQuery sharded table";case "TABLE_SOURCE_TYPE_UNSPECIFIED":return"BigQuery unspecified table";default:return"BigQuery unspecified table"}},gJl=function(a){return"COMPRESSION_FORMAT_UNSPECIFIED"===a?"Uncompressed":a},hJl=function(a){switch(a){case "QUERY":return"Query";case "LOAD":return"Load";case "EXTRACT":return"Extract";case "COPY":return"Copy";
case "UNKNOWN":return"Unknown";default:return"Unknown"}},iJl=function(){return new _.Sj("path","id")},jJl=function(a){return!0===a.hasSqlDatabaseSystemInfo},kJl=function(a){return!0===a.hasBasicInfo},lJl=function(a){return!0===a.hasTableInfo},mJl=function(a){return!0===a.hasSchema&&0<a.schema.length},nJl=function(a){return!0===a.hasBigqueryInfo},oJl=function(a){return!0===a.hasDataSource},pJl=function(a){return!0===a.hasDataplexSpec},qJl=function(a){return kJl(a)&&void 0!==a.fullyQualifiedName},rJl=
function(a){return kJl(a)&&void 0!==a.createTime},sJl=function(a){return kJl(a)&&void 0!==a.updateTime},tJl=function(a){return kJl(a)&&void 0!==a.expireTime},uJl=function(a){let b;return kJl(a)&&0<(null==(b=a.description)?void 0:b.length)},vJl=function(a){return"BQ_TABLE"===a.kind},wJl=function(a){return(a||[]).map(({column:b,type:c,mode:d,description:e,subcolumns:f})=>({column:b,type:c,mode:d,description:e,subcolumns:wJl(f)}))},yJl=function(a){var b=a.name.match(/^projects\/([^\/]+)\/locations\/([^\/]+)\/entryGroups\/([^\/]+)\/entries\/([^\/]+)$/).slice(1,
5);b={id:b[3],entryGroupId:b[2],projectId:b[0],locationId:b[1],name:a.displayName,schema:{columns:wJl(a.hasSchema?a.schema.columns:[])},description:a.description,resourceName:a.name,createTime:a.sourceSystemTimestamps?a.sourceSystemTimestamps.createTime:void 0,updateTime:a.sourceSystemTimestamps?a.sourceSystemTimestamps.updateTime:void 0};a.userSpecifiedType?(b.userSpecifiedType=a.userSpecifiedType,b.linkedResource=a.linkedResource):(a=a.type,a=Object.values(xJl).includes(a)?a:"ENTRY_TYPE_UNSPECIFIED",
b.type=a);return b},zJl=function(a){let b="",c=a.gcsFilesetSpec.filePatterns||[];if(0<c.length){const d=c[0].match(/^gs:\/\/([^\/]+)\//);d&&1<d.length&&(b=d[1],c=c.map(e=>e.substr(d[0].length)))}a=yJl(a);a.typeSpec=0;a.bucket=b;a.patterns=c;return a},AJl=function(a,b){switch(a){case "DC_SELF_SERVICE":case "VERTEX_AI_MODEL":case "VERTEX_AI_DATASET":return b?[b.updateTagPermission]:[];case "BQ_TABLE":return["bigquery.tables.update","bigquery.tables.updateTag"];case "BQ_DATASET":return["bigquery.datasets.update",
"bigquery.datasets.updateTag","bigquery.tables.list","bigquery.models.list","bigquery.routines.list"];case "BQ_ROUTINE":return["bigquery.routines.updateTag"];case "BQ_CONNECTION":return["bigquery.connections.updateTag"];case "BQ_MODEL":return["bigquery.models.updateMetadata","bigquery.models.updateTag"];case "PUBSUB_TOPIC":return["pubsub.topics.update","pubsub.topics.updateTag"];case "KAFKA_TOPIC":case "KAFKA_CLUSTER":case "DC_CUSTOM":case "DC_FILESET":return["datacatalog.entries.update","datacatalog.entries.updateTag",
"datacatalog.entries.delete"];case "DPMS_TABLE":return["metastore.tables.update"];case "DPMS_DATABASE":return["metastore.databases.update"];case "DPMS_SERVICE":return["metastore.services.update"];case "DATAPLEX_TABLE":return["dataplex.entities.update"];case "DATAPLEX_FILESET":return["dataplex.entities.update"];case "DATAPLEX_LAKE":return["dataplex.lakes.update"];case "DATAPLEX_ZONE":return["dataplex.zones.update"];case "MY_SQL_SERVICE":case "MY_SQL_SCHEMA":case "MY_SQL_TABLE":case "POSTGRE_SQL_SERVICE":case "POSTGRE_SQL_DATABASE":case "POSTGRE_SQL_SCHEMA":case "POSTGRE_SQL_TABLE":case "LOOKER_SERVICE":case "LOOKER_DASHBOARD":case "LOOKER_LOOK":case "LOOKER_EXPLORE":return["datacatalog.entries.updateTag"];
case "SPANNER_TABLE":case "SPANNER_DATABASE":return["spanner.databases.updateTag"];case "SPANNER_SERVICE":return["spanner.instances.updateTag"];case "BIGTABLE_TABLE":return["bigtable.tables.update"];case "BIGTABLE_SERVICE":return["bigtable.instances.update"];default:_.Qc(a,void 0)}},BJl=function(a){var b=new Map([["0","a_"],["1","b_"],["2","c_"],["3","d_"],["4","e_"],["5","f_"],["6","g_"],["7","h_"],["8","i_"],["9","j_"]]);a=encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,(c,d)=>String.fromCharCode(Number("0x"+
d)));a=_.OHb(a,4).replace(/_/g,"z_").replace(/-/g,"y_");b=b.get(a[0]);return void 0!==b?b+a.substr(1):a},CJl=function(a){const b=[];for(a=a.substring(a.indexOf(":")+1);-1<a.indexOf(".")&&2>b.length;)b.push(a.substring(a.lastIndexOf(".")+1)),a=a.substring(0,a.lastIndexOf("."));b.push(a);return`//bigquery.googleapis.com/projects/${b[2]}/datasets/${b[1]}/tables/${b[0]}`},DJl=function(a,b=!1){var c=a.split("/");a=c[4];const d=c[6];c=c[8];return b?`bigquery:sharded:${a}.${d}.${c}`:`bigquery:${a}.${d}.${c}`},
EJl=function(a,b){return a.map(c=>_.k_g(c,!1!==b.get(c.template))).sort((c,d)=>c.displayName.localeCompare(d.displayName))},FJl=function(a){a=a.split("/");return{projectId:a[1],locationId:a[3],entryGroupId:a[5],entryId:a[7]}},GJl=function(a,b){var {entryGroupId:c}=FJl(a.name);if("@pubsub"===c)return"PUBSUB_TOPIC";if("DATAPLEX"===a.integratedSystem)return _.Jmg.get(a.type);if("DATAPROC_METASTORE"===a.integratedSystem)return _.Img.get(a.type);if("BIGQUERY"===a.integratedSystem)return _.Kmg.get(a.type);
if("CLOUD_SQL"===a.integratedSystem||"SQL_DATABASE"===a.userSpecifiedSystem)switch(a.sqlDatabaseSystemSpec.sqlEngine){case "MY_SQL":return _.Mmg.get(a.type);case "POSTGRE_SQL":return _.Nmg.get(a.type)}if("LOOKER"===a.integratedSystem)return _.Omg.get(a.type);if(!_.Xc(_.Bmg)&&"CLOUD_SPANNER"===a.integratedSystem)return _.Pmg.get(a.type);if("CLOUD_BIGTABLE"===a.integratedSystem)return _.Qmg.get(a.type);if("VERTEX_AI"===a.integratedSystem)return _.Rmg.get(a.type);if(c=_.Lmg.get(a.type))return c;if(b)return"DC_SELF_SERVICE";
if(a.userSpecifiedType||a.userSpecifiedSystem)return"DC_CUSTOM"},HJl=function(a,b,c){c=_.JTg(c);if("DC_CUSTOM"===a)return{system:b.userSpecifiedSystem,systemTranslated:b.userSpecifiedSystem,type:b.userSpecifiedType||b.type,typeTranslated:b.userSpecifiedType||b.type};if("KAFKA_TOPIC"===a)return{system:b.userSpecifiedSystem,systemTranslated:b.userSpecifiedSystem,type:"DATA_STREAM",typeTranslated:_.qTg("DATA_STREAM_TOPIC")};if("KAFKA_CLUSTER"===a)return{system:b.userSpecifiedSystem,systemTranslated:b.userSpecifiedSystem,
type:"CLUSTER",typeTranslated:_.qTg("CLUSTER")};if(c)return a=c.system,b=c.type,{system:a.name,systemTranslated:a.displayName,type:b.name.toUpperCase(),typeTranslated:b.displayName};const {system:d,type:e}=_.Smg.get(a);return{system:d,systemTranslated:_.rTg(d),type:e,typeTranslated:_.qTg(e)}},IJl=function(a,b){var c=b.apiEntry;({projectId:b}=FJl(c.name));var d=c.linkedResource;c.hasBigqueryDateShardedSpec&&c.bigqueryDateShardedSpec.latestShardResource&&(d=c.bigqueryDateShardedSpec.latestShardResource);
c=d.split("/");d=c[6];b=BJl(`projects/${b}/datasets/${d}`);return"BQ_TABLE"===a?{hasBigqueryInfo:!0,datasetId:d,datasetEntryId:b,tableId:c[c.length-1]}:"BQ_MODEL"===a?{hasBigqueryInfo:!0,datasetId:d,datasetEntryId:b,modelId:c[c.length-1]}:{hasBigqueryInfo:!0,datasetId:d,datasetEntryId:b}},e8=function({name:a,linkBuilder:b,displayDetails:c}){return Object.assign({},{url:b.asString(),commandArray:b.build(),queryCommands:b.buildQueryParams(),name:a},c&&{displayDetails:c})},LJl=function(a,b,c,{projectId:d}){var e=
a.split("/");a=e[6];if("BQ_TABLE"===b){b=_.OJc.create();let f=e=e[e.length-1];c.hasBigqueryDateShardedSpec&&c.bigqueryDateShardedSpec.tablePrefix&&(f=c.bigqueryDateShardedSpec.tablePrefix);return e8({name:`${d}.${a}.${f}`,linkBuilder:b.link().set(b.p,d).set(b.t,e).set(b.d,a)})}if("BQ_MODEL"===b)return c=JJl.create(),e=e[e.length-1],e8({name:`${d}.${a}.${e}`,linkBuilder:c.link().set(c.p,d).set(c.m,e).set(c.d,a)});if("BQ_ROUTINE"===b)return c=e[e.length-1],e=KJl.create(),e=e.link().set(e.p,d).set(e.d,
a).set(e.r,c),e8({name:`${d}.${a}.${c}`,linkBuilder:e});c=_.MJc.create();return e8({name:`${d}.${a}`,linkBuilder:c.link().set(c.p,d).set(c.d,a)})},NJl=function(a,{projectId:b,locationId:c}){c=`${b}.${c}.${a.split("/")[8]}`;a=a.substring(36);const d=MJl.create();b=d.link().set(d.p,b).set(d.c,a);return e8({name:c,linkBuilder:b})},OJl=function(a,{projectId:b}){a=a.split("/");a=a[a.length-1];const c=_.gge.create();return e8({name:`${b}.${a}`,linkBuilder:c.link().set(c.project,b).set(c.topicName,a)})},
PJl=function(a){return a.includes("http://")||a.includes("https://")?{url:a,name:a}:{url:"http://"+a,name:a}},YJl=function(a,b,c){var d=c.hasBigqueryDateShardedSpec&&c.bigqueryDateShardedSpec.latestShardResource?c.bigqueryDateShardedSpec.latestShardResource:c.linkedResource;if(d){if(2===d.indexOf("bigquery.googleapis.com"))return LJl(d,a,c,b);if(0===d.indexOf("//bigqueryconnection.googleapis.com/"))return NJl(d,b);if(2===d.indexOf("pubsub.googleapis.com"))return OJl(d,b);if(d.startsWith("//dataplex.googleapis.com")){b=
d.split("/");d=b[4];a=b[6];c=b[8];if(11===b.length){b=b[10];var e=QJl.create();d=e8({name:b,linkBuilder:e.link().set(e.project,d).set(e.location,a).set(e.id,c).set(e.zoneId,b)})}else 9===b.length?(b=RJl.create(),d=e8({name:c,linkBuilder:b.link().set(b.project,d).set(b.location,a).set(b.id,c)})):d=void 0;return d}if("LOOKER_SERVICE"===a||"LOOKER_DASHBOARD"===a||"LOOKER_LOOK"===a)return Object.assign({},PJl(d),{displayDetails:{icon:"LOOKER_SECTION",iconSet:"shelllogos",iconSize:"medium",label:"Open in Looker"}});
if(b=c.fullyQualifiedName){const {system:g,path:n,subtype:p}=_.P_(b);switch(g){case "spanner":var f=_.Q_(n);a:{if(!(3>f.length))switch(d=f[0],a=f[2],b=f[3],e=f[4],c={icon:"SPANNER_SECTION",iconSet:"shelllogos",iconSize:"medium",label:"Open in Spanner"},f.length){case 3:b=_.hLf.create();d=e8({name:a,linkBuilder:b.link().set(b.instanceId,a).set(b.project,d),displayDetails:c});break a;case 4:e=SJl.create();d=e8({name:b,linkBuilder:e.link().set(e.instanceId,a).set(e.databaseId,b).set(e.project,d),displayDetails:c});
break a;case 5:f=TJl.create();d=e8({name:e,linkBuilder:f.link().set(f.instanceId,a).set(f.databaseId,b).set(f.tableId,e).set(f.project,d),displayDetails:c});break a}d=void 0}return d;case "bigtable":e=_.Q_(n);a:{if(!(2>e.length))switch(d=e[0],a=e[1],b=e[2],c={icon:"BIGTABLE_SECTION",iconSet:"shelllogos",iconSize:"medium",label:"Open in Bigtable"},e.length){case 2:b=UJl.create();d=e8({name:a,linkBuilder:b.link().set(b.instanceId,a).set(b.project,d),displayDetails:c});break a;case 3:e=VJl.create();
d=e8({name:b,linkBuilder:e.link().set(e.instanceId,a).set(e.tableId,b).set(e.project,d),displayDetails:c});break a}d=void 0}return d;case "vertex_ai":e=_.Q_(n);a:{if(!(3>e.length)&&p){a=e[0];c=e[1];b=e[2];f=e[3];e={icon:"VERTEX_SECTION",iconSet:"shelllogos",iconSize:"medium",label:"Open in Vertex AI"};if("model"===p){const r=WJl.create();d=e8({name:d,linkBuilder:r.link().set(r.modelId,b).set(r.modelVersionId,f).set(r.locationId,c).set(r.projectId,a),displayDetails:e});break a}if("dataset"===p){f=
XJl.create();d=e8({name:d,linkBuilder:f.link().set(f.datasetId,b).set(f.locationId,c).set(f.projectId,a),displayDetails:e});break a}}d=void 0}return d}}if(("KAFKA_CLUSTER"===a||"KAFKA_TOPIC"===a||c.userSpecifiedType)&&c.linkedResource)return PJl(d)}},ZJl=function(a){return a.people.map(b=>({email:b.email,designation:b.designation}))},$Jl=function(a){const {system:b,path:c}=_.P_(a.fullyQualifiedName);a=new _.d0;_.dXg(a,c);_.gXg(a,b);const d=_.P3g.create();a=d.link().set(d.q,a.toString());return{hasChildResources:!0,
childResourcesUrl:{commandArray:a.build(),queryParams:a.buildQueryParams()}}},aKl=function(a){return{hasEntryTags:!0,entryTags:a.tags.filter(b=>!b.column)}},bKl=function(a){return{hasLabels:!0,labels:new Map(Object.entries(a.apiEntry.labels))}},cKl=function(a){return{hasDisplayName:!0,displayName:a.displayName}},dKl=function(a){a=a.apiEntry;return a.hasBigqueryDateShardedSpec&&0<Number(a.bigqueryDateShardedSpec.shardCount)?{hasTableInfo:!0,tableType:"BIGQUERY_SHARDED_TABLE",tableTypeTranslated:fJl("BIGQUERY_SHARDED_TABLE"),
shardCount:Number(a.bigqueryDateShardedSpec.shardCount)}:a.hasDatabaseTableSpec&&a.databaseTableSpec.hasDatabaseViewSpec?{hasTableInfo:!0,tableType:"STANDARD_VIEW",tableTypeTranslated:"View"}:a.hasBigqueryTableSpec?(a=a.bigqueryTableSpec.tableSourceType,{hasTableInfo:!0,tableType:a,tableTypeTranslated:fJl(a)}):{}},eKl=function(a){return a.hasBigqueryTableSpec&&a.bigqueryTableSpec.hasViewSpec&&a.bigqueryTableSpec.viewSpec.viewQuery?{hasViewQuery:!0,viewQuery:a.bigqueryTableSpec.viewSpec.viewQuery}:
a.hasDatabaseTableSpec&&a.databaseTableSpec.hasDatabaseViewSpec&&a.databaseTableSpec.databaseViewSpec.sqlQuery?{hasViewQuery:!0,viewQuery:a.databaseTableSpec.databaseViewSpec.sqlQuery}:{}},fKl=function(a){switch(a){case "INDEXING_TYPE_UNIQUE":return"Unique";case "INDEXING_TYPE_PRIMARY_KEY":return"Primary key";case "INDEXING_TYPE_NON_UNIQUE":return"Nonunique index"}},gKl=function(a,b){let c=[];const d=fKl(b.highestIndexingType);c.push(Object.assign({},{name:a,mode:b.mode,type:b.type,description:b.description},
b.gcRule&&{gcRule:b.gcRule},_.Z(b,"defaultValue")&&{defaultValue:b.defaultValue},d&&{columnKey:d}));if(b.hasSubcolumns&&b.subcolumns)for(const e of b.subcolumns)c=c.concat(gKl(`${a}.${e.column}`,e));return c},hKl=function(a,b){return a.ordinalPosition-b.ordinalPosition},iKl=function(a){return 0<a.length&&_.Z(a[0],"ordinalPosition")?(a=[...a],a.sort(hKl),a):a},jKl=function(a){const b=[];if(a.hasSubcolumns&&a.subcolumns)for(var c of a.subcolumns)b.push(jKl(c));c=fKl(a.highestIndexingType);return Object.assign({},
{column:a.column,mode:a.mode,type:a.type,description:a.description},a.gcRule&&{gcRule:a.gcRule},_.Z(a,"defaultValue")&&{defaultValue:a.defaultValue},c&&{columnKey:c},{subcolumns:b})},kKl=function(a,b){b=new Map(b.map(d=>[d.name.toLocaleLowerCase(),d.name]));const c=new Map;for(const d of a){a=d.column;if(!a)continue;a=b.get(a)||a;const e=c.has(a)?c.get(a):[],f=Object.assign({},d,{column:a});e.push(f);c.set(a,e)}return c},f8=function({apiEntry:a,tags:b}){if(a.hasSchema){var c=iKl(a.schema.columns);
var d=[];for(const f of c)d=d.concat(gKl(f.column,f));c=d}else c=[];if(a.hasSchema){a=iKl(a.schema.columns);d=[];for(e of a)d.push(jKl(e));var e=d}else e=[];return{hasSchema:!0,schema:c,nestedSchema:e,columnTags:kKl(b,c)}},lKl=function(a){const b=a.sqlDatabaseSystemSpec.sqlEngine,c=a.sqlDatabaseSystemSpec.instanceHost;a:switch(b){case "MY_SQL":var d="MySQL";break a;case "POSTGRE_SQL":d="PostgreSQL";break a;default:d="Unknown SQL Engine"}a:switch(c){case "SELF_HOSTED":var e="Self hosted";break a;case "CLOUD_SQL":e=
"Cloud SQL";break a;default:e="Unknown SQL instance host"}return{hasSqlDatabaseSystemInfo:!0,sqlEngine:b,sqlEngineTranslated:d,databaseVersion:a.sqlDatabaseSystemSpec.databaseVersion,instanceHost:c,instanceHostTranslated:e}},mKl=function(a){const {system:b,path:c}=_.P_(a.fullyQualifiedName);if("dataplex"!==b)return{};[,,a]=_.Q_(c);return{hasDataplexLakeInfo:!0,lake:a}},nKl=function(a){const {system:b,path:c}=_.P_(a.fullyQualifiedName);if("dataplex"!==b)return{};[,,,a]=_.Q_(c);return{hasDataplexZoneInfo:!0,
zone:a}},oKl=function(a){return a.hasAvro?"Avro":a.hasCsv?"CSV":a.hasOrc?"ORC":a.hasParquet?"Parquet":a.hasProtobuf?"Protobuf":a.hasThrift?"Thrift":""},pKl=function(a){return a.hasSchema&&a.schema.hasPhysicalSchema?{hasContentType:!0,contentType:oKl(a.schema.physicalSchema)}:{}},qKl=function(a){if(!a.hasDataStats)return{};var b=a.dataStats;a={hasDataStats:!0,itemCount:Number(b.itemCount),sizeBytes:b.sizeBytes};if(b.hasSourceTimestamps&&(a.sourceTimestamps={},b.sourceTimestamps.createTime&&(a.sourceTimestamps.createTime=
new Date(b.sourceTimestamps.createTime)),b.sourceTimestamps.updateTime&&(a.sourceTimestamps.updateTime=new Date(b.sourceTimestamps.updateTime)),b.sourceTimestamps.expireTime&&(a.sourceTimestamps.expireTime=new Date(b.sourceTimestamps.expireTime)),b.hasDataRange)){const c=new Date(b.dataRange.startTime);b=new Date(b.dataRange.endTime);a.dataRange={startTime:c,endTime:b,formatted:(new _.zye(2)).format(c,b)}}return a},rKl=function(a){var b=a.match(/^gs:\/\/([^/]*)\/(.*)$/),c=a.match(/^gs:\/\/([^/]*)$/);
if(b){c=b[1];b=b[2].replace(/\/\*$/,"");const d=_.qlc.create(),e=d.link();e.set(d.bucketName,c);e.set(d.objectPath,b);c=e.build();a={text:a,url:c}}else a=c?{text:a,url:ZIl(c[1])}:{text:a};return a},sKl=function(a){if(!a.hasDataSource)return{};a=a.dataSource;const b=a.resource;var c=a.service;const d=a.storageProperties;a:switch(c){case "CLOUD_STORAGE":var e="Cloud Storage";break a;case "BIGQUERY":e="BigQuery";break a;default:e="Unspecified"}c={hasDataSource:!0,resource:b,sourceEntry:a.sourceEntry,
service:c,entrySource:e};c.resourceUrl=rKl(b);a.hasStorageProperties&&(c.storageProperties={entryPaths:d.filePattern.map(rKl),fileType:d.fileType});return c},tKl=function(a){const b=_.Fmg("BIGQUERY"===a.system?a.googleCloudResource:a.fullyQualifiedName,"BIGQUERY"===a.system?"linkedResource":"fullyQualifiedName");if("BIGQUERY"===a.system){var c;if(c=a.googleCloudResource.match(_.zmg)){var [,d,e,f]=c;c={projectId:d,datasetId:e,tableId:f}}else c=null;var g=c;c=g.projectId;const p=g.datasetId;g=g.tableId;
var n=_.OJc.create();n=n.link().set(n.p,c).set(n.t,g).set(n.d,p);return{bigqueryCommandArray:n.build(),bigqueryQueryCommands:n.buildQueryParams(),queryPart:`${c}.${p}.${g}`,system:a.system,linkedResource:a.googleCloudResource,fullyQualifiedName:a.fullyQualifiedName,systemTranslated:_.rTg("BIGQUERY"),entryDetailsLink:b,inDc:!1}}return"DATAPROC_METASTORE"===a.system?(c=eJl(a.fullyQualifiedName),{system:a.system,linkedResource:a.googleCloudResource,fullyQualifiedName:a.fullyQualifiedName,queryPart:`${c.serviceId}.${c.databaseId}.${c.tableId}`,
systemTranslated:_.rTg("DATAPROC_METASTORE"),inDc:!1,entryDetailsLink:b}):{system:a.system,linkedResource:a.googleCloudResource,fullyQualifiedName:a.fullyQualifiedName,queryPart:a.fullyQualifiedName,systemTranslated:_.rTg(a.system),inDc:!1,entryDetailsLink:b}},uKl=function(a){return a.databaseTableSpec&&a.databaseTableSpec.dataplexTable?(a=a.databaseTableSpec.dataplexTable.externalTables.map(tKl),0!==a.length?{hasExternalTables:!0,externalTables:a}:{}):{}},vKl=function(a){return`${"MODE_UNSPECIFIED"===
a.mode?"":` ${a.mode}`}${a.name} ${a.type}`},g8=function(a){const b=_.JTg(a.entryInfo);var c=Object,d=c.assign;const e=a.apiEntry;var f=a.entryInfo;const g=FJl(e.name),n=g.projectId,p=g.locationId,r=g.entryGroupId,u=g.entryId;var w=e.displayName;const z=e.description,C=e.linkedResource;var E=e.personalDetails,J;const {createTime:R,updateTime:Y,expireTime:aa}=null!=(J=e.sourceSystemTimestamps)?J:{};J=GJl(e,f);if("DC_CUSTOM"!==J&&"KAFKA_TOPIC"!==J&&"KAFKA_CLUSTER"!==J&&C){var da=C.split("/");da=da[da.length-
1]}else da="";if("DATAPLEX_TABLE"===J||"DATAPLEX_FILESET"===J){const {system:wa,path:Ga}=_.P_(e.fullyQualifiedName);if("dataplex"!==wa)var ia=null;else ia=_.Q_(Ga),ia=ia[ia.length-1]}else ia=null;w=w||ia||da||u;E=E&&E.starred?E.starred:!1;da=e.businessContext.entryOverview.overview;ia=ZJl(e.businessContext.contacts);f=Object.assign({},{hasBasicInfo:!0,name:e.name,projectId:n,locationId:p,entryGroupId:r,entryId:u,shortName:w,description:z,linkedResource:C,starred:E,overview:da,contacts:ia},HJl(J,e,
f),{externalLink:YJl(J,g,e),permissionsToPreFetch:AJl(J,f)});R&&(f.createTime=new Date(R));Y&&(f.updateTime=new Date(Y));aa&&(f.expireTime=new Date(aa));e.fullyQualifiedName&&(f.fullyQualifiedName=e.fullyQualifiedName);"BQ_TABLE"===J&&(f.fullyQualifiedName=e.hasBigqueryDateShardedSpec&&e.bigqueryDateShardedSpec.latestShardResource?DJl(e.bigqueryDateShardedSpec.latestShardResource.substring(0,e.bigqueryDateShardedSpec.latestShardResource.length-8),!0):DJl(e.linkedResource));e.hasUsageSignal&&(e.usageSignal.hasUsageWithinTimeRange&&
e.usageSignal.usageWithinTimeRange["30D"]?f.thirtyDayUsage=e.usageSignal.usageWithinTimeRange["30D"].totalCompletions:e.usageSignal.hasCommonUsageWithinTimeRange&&e.usageSignal.commonUsageWithinTimeRange.Lifetime&&(f.lifetimeViewCount=+e.usageSignal.commonUsageWithinTimeRange.Lifetime.viewCount,f.favoriteCount=+e.usageSignal.favoriteCount));return d.call(c,{},f,aKl(a),b&&{entryInfo:b,coliseumEntryInfo:a.entryInfo},{apiEntry:a.apiEntry})},wKl=function(a){const b=GJl(a.apiEntry,a.entryInfo);if("BQ_TABLE"===
b)var c=Object.assign({},g8(a),eKl(a.apiEntry),bKl(a),dKl(a),f8(a),IJl(b,a),{kind:b});else{if("BQ_DATASET"===b)var d=Object.assign({},g8(a),bKl(a),IJl(b,a),{kind:b});else{if("BQ_ROUTINE"===b){var e=Object,f=e.assign,g=g8(a);const Nh=a.apiEntry.routineSpec;var n={hasRoutineSpec:!0,language:Nh.language,definitionBody:Nh.definitionBody,codeSnippetLanguage:Nh.language.toLowerCase(),returnType:Nh.returnType,importedLibraries:Nh.bigqueryRoutineSpec.importedLibraries,routineArguments:Nh.routineArguments&&
Nh.routineArguments.map(vKl).join(", "),routineType:Nh.routineType};var p=f.call(e,{},g,n,{kind:b})}else{if("BQ_CONNECTION"===b){var r=Object,u=r.assign,w=g8(a);{const Nh=a.apiEntry.dataSourceConnectionSpec.bigqueryConnectionSpec;if(Nh.hasCloudSql){const xp=Nh.cloudSql,jc=_.Tmg.get(xp.type);var z={hasCloudSqlBigQueryConnectionSpec:!0,instanceId:xp.instanceId,database:xp.database,connectionType:jc}}else z={}}var C=u.call(r,{},w,z,{kind:b})}else{if("BQ_MODEL"===b)var E=Object.assign({},g8(a),bKl(a),
IJl(b,a),{kind:b});else{if("PUBSUB_TOPIC"===b)var J=Object.assign({},g8(a),f8(a),{kind:b});else{if("DC_CUSTOM"===b)var R=Object.assign({},g8(a),cKl(a.apiEntry),f8(a),{kind:b});else{if("DC_FILESET"===b){var Y=Object,aa=Y.assign,da=g8(a),ia=cKl(a.apiEntry);const Nh=zJl(a.apiEntry);var wa={hasBucketAndPatterns:!0,bucket:Nh.bucket,patterns:Nh.patterns,bucketUrl:ZIl(Nh.bucket)};var Ga=aa.call(Y,{},da,ia,wa,f8(a),{kind:b})}else{if("KAFKA_TOPIC"===b){var Ra=Object,ab=Ra.assign,fa=g8(a);const Nh=a.apiEntry.dataStreamSpec.kafkaTopic;
var Aa=ab.call(Ra,{},fa,cKl(a.apiEntry),{hasKafkaTopicSpec:!0,topic:Nh.topic,clusterEntry:Nh.clusterEntry},f8(a),{kind:b})}else{if("KAFKA_CLUSTER"===b)var xa=Object.assign({},g8(a),cKl(a.apiEntry),{hasKafkaClusterSpec:!0,bootstrapServers:a.apiEntry.clusterSpec.kafkaCluster.bootstrapServers},{kind:b});else{if("DATAPLEX_TABLE"===b){var Ca=Object,Ea=Ca.assign,Ja=g8(a),cb=mKl(a.apiEntry),Za=nKl(a.apiEntry),Ta=qKl(a.apiEntry),lb=sKl(a.apiEntry);{var Bb=a.apiEntry;let Nh,xp;var bc=(null==(Nh=Bb.databaseTableSpec)?
0:null==(xp=Nh.dataplexTable)?0:xp.dataplexSpec)?{hasDataplexSpec:!0,asset:Bb.databaseTableSpec.dataplexTable.dataplexSpec.asset,compressionFormat:gJl(Bb.databaseTableSpec.dataplexTable.dataplexSpec.compressionFormat),projectIdInDataplexSpec:Bb.databaseTableSpec.dataplexTable.dataplexSpec.projectId,dataFormat:oKl(Bb.databaseTableSpec.dataplexTable.dataplexSpec.dataFormat)}:void 0}{var xb=a.apiEntry;let Nh;var Xb=null!=(Nh=xb.databaseTableSpec)&&Nh.dataplexTable?{hasUserManaged:!0,userManaged:xb.databaseTableSpec.dataplexTable.userManaged}:
void 0}var Gb=Ea.call(Ca,{},Ja,cb,Za,Ta,lb,bc,Xb,uKl(a.apiEntry),pKl(a.apiEntry),f8(a),{kind:b})}else{if("DATAPLEX_FILESET"===b){var Xa=Object,uc=Xa.assign,pc=g8(a),Kc=mKl(a.apiEntry),td=nKl(a.apiEntry),Wd=qKl(a.apiEntry),wf=sKl(a.apiEntry);{var Cf=a.apiEntry;let Nh,xp;var ng=(null==(Nh=Cf.filesetSpec)?0:null==(xp=Nh.dataplexFileset)?0:xp.dataplexSpec)?{hasDataplexSpec:!0,asset:Cf.filesetSpec.dataplexFileset.dataplexSpec.asset,compressionFormat:gJl(Cf.filesetSpec.dataplexFileset.dataplexSpec.compressionFormat),
projectIdInDataplexSpec:Cf.filesetSpec.dataplexFileset.dataplexSpec.projectId,dataFormat:oKl(Cf.filesetSpec.dataplexFileset.dataplexSpec.dataFormat)}:void 0}var gg=uc.call(Xa,{},pc,Kc,td,Wd,wf,ng,uKl(a.apiEntry),pKl(a.apiEntry),f8(a),{kind:b})}else{if("DATAPLEX_ZONE"===b)var bh=Object.assign({},g8(a),cKl(a.apiEntry),mKl(a.apiEntry),$Jl(a.apiEntry),{kind:b});else{if("DATAPLEX_LAKE"===b)var Gi=Object.assign({},g8(a),cKl(a.apiEntry),$Jl(a.apiEntry),{kind:b});else{if("DPMS_TABLE"===b){var id=Object,le=
id.assign,zf=g8(a),dg=sKl(a.apiEntry);const Nh=eJl(a.apiEntry.fullyQualifiedName);var ji=le.call(id,{},zf,dg,Nh?{hasDpmsTableInfo:!0,serviceId:Nh.serviceId,databaseId:Nh.databaseId,tableId:Nh.tableId}:{},f8(a),{kind:b})}else{if("DPMS_DATABASE"===b){var fh=Object,wl=fh.assign,Jn=g8(a),Nq=sKl(a.apiEntry);{const {system:xp,projectId:jc,locationId:hd,rest:Id}=dJl(a.apiEntry.fullyQualifiedName);if("dataproc_metastore"!==xp)var Ow=null;else{var [Kn,Kv]=Id;Ow={projectId:jc,locationId:hd,serviceId:Kn,databaseId:Kv}}}const Nh=
Ow;var jl=wl.call(fh,{},Jn,Nq,Nh?{hasDpmsDatabaseInfo:!0,serviceId:Nh.serviceId,databaseId:Nh.databaseId}:{},$Jl(a.apiEntry),{kind:b})}else{if("DPMS_SERVICE"===b)var Lv=Object.assign({},g8(a),$Jl(a.apiEntry),{kind:b});else{if("MY_SQL_TABLE"===b||"POSTGRE_SQL_TABLE"===b)var EA=Object.assign({},g8(a),f8(a),dKl(a),lKl(a.apiEntry),eKl(a.apiEntry),{kind:b});else{if(_.Xc(_.Bmg)||"SPANNER_TABLE"!==b){if("BIGTABLE_TABLE"===b)var Oq=Object.assign({},g8(a),f8(a),{kind:b,apiEntry:a.apiEntry});else{if(["MY_SQL_SERVICE",
"MY_SQL_SCHEMA","POSTGRE_SQL_SERVICE","POSTGRE_SQL_DATABASE","POSTGRE_SQL_SCHEMA"].includes(b))var xr=Object.assign({},g8(a),lKl(a.apiEntry),{kind:b});else{if("LOOKER_LOOK"===b){var RJ=Object,dN=RJ.assign,hW=g8(a),PG=a.apiEntry;var iW=dN.call(RJ,{},hW,PG.hasLookerSystemSpec?{hasLookerSpec:!0,modelId:PG.lookerSystemSpec.parentModelId}:{},{kind:b})}else{if("DC_SELF_SERVICE"===b)var jW=Object.assign({},g8(a),dKl(a),a.apiEntry.hasSchema&&f8(a),{kind:b});else{if("VERTEX_AI_MODEL"===b){var en=Object,Ci=
en.assign,rba=g8(a);const Nh=a.apiEntry.modelSpec;var UQ=Ci.call(en,{},rba,dKl(a),(null==Nh?0:Nh.hasVertexModelSpec)?{hasModelSpec:!0,vertexModelSpec:{versionId:Nh.vertexModelSpec.versionId,versionAliases:Nh.vertexModelSpec.versionAliases}}:{},a.apiEntry.hasSchema&&f8(a),{kind:b})}else{if("VERTEX_AI_DATASET"===b){var ot=Object,eN=ot.assign,As=g8(a);const Nh=a.apiEntry.datasetSpec;var FA=eN.call(ot,{},As,dKl(a),(null==Nh?0:Nh.hasVertexDatasetSpec)?{hasDatasetSpec:!0,vertexDatasetSpec:{dataType:Nh.vertexDatasetSpec.dataType,
dataItemCount:Nh.vertexDatasetSpec.dataItemCount}}:{},a.apiEntry.hasSchema&&f8(a),{kind:b})}else{if("BIGTABLE_SERVICE"===b){var fN=Object,Ab=fN.assign,Mv=g8(a);a:{const Nh=a.apiEntry.serviceSpec;if((null==Nh?0:Nh.hasCloudBigtableInstanceSpec)&&Nh.cloudBigtableInstanceSpec.hasCloudBigtableClusterSpecs){const xp=Nh.cloudBigtableInstanceSpec.cloudBigtableClusterSpecs;if(0!==(null==xp?void 0:xp.length)){const jc=[];for(const hd of xp)hd&&jc.push({displayName:hd.displayName,location:hd.location,linkedResource:hd.linkedResource,
type:hd.type});var pt={hasCloudBigtableClusterSpec:!0,cloudBigtableClusterSpec:jc};break a}}pt={}}var gN=Ab.call(fN,{},Mv,pt,{kind:b})}else gN=Object.assign({},g8(a),{kind:b});FA=gN}UQ=FA}jW=UQ}iW=jW}xr=iW}Oq=xr}var se=Oq}else se=Object.assign({},g8(a),dKl(a),f8(a),{kind:b});EA=se}Lv=EA}jl=Lv}ji=jl}Gi=ji}bh=Gi}gg=bh}Gb=gg}xa=Gb}Aa=xa}Ga=Aa}R=Ga}J=R}E=J}C=E}p=C}d=p}c=d}return c},yKl=function({kind:a,entryInfo:b}){return b?b.updateTagPermission:xKl[a]},zKl=function(a){switch(a){case "RUN_STARTED":return"status-running";
case "RUN_COMPLETED":return"status-success";case "RUN_FAILED":return"status-error";case "RUN_ABORTED":return"status-stopped";case "RUN_STATE_UNSPECIFIED":return"status-warning";default:_.Qc(a,"Unexpected data catalog run state")}},AKl=function(a){switch(a){case "RUN_STARTED":return"Started";case "RUN_COMPLETED":return"Completed";case "RUN_FAILED":return"Failed";case "RUN_ABORTED":return"Aborted";case "RUN_STATE_UNSPECIFIED":return"Unspecified";default:_.Qc(a,"Unexpected data catalog run state")}},
BKl=function(a){const [b,c]=a.split(":");return{system:b,fullName:c}},CKl=function(a){a=a.split("/");if(6>a.length)throw Error("jt");return{projectId:a[1],location:a[3],processId:a[5]}},h8=function(a,b){let c;return null==(c=a.attributes.find(d=>d.key===b))?void 0:c.value},DKl=function(a,b){const c=a.startsWith("bigquery:");b=b.startsWith("anon");a=a.includes("_");return c&&b&&a},EKl=function(a,b){let c;return null==(c=a.attributes.find(d=>d.key===b))?void 0:c.value},GKl=function(a){a=a.message.match(FKl);
return{env:(a[2]||"prod").toUpperCase(),projectRef:a[3]}},HKl=function(a){return{env:"PROD",projectRef:a.message.match(_.H4k)[1]}},IKl=function(a){switch(a){case "PROD":return"datalineage.googleapis.com";case "STAGING":return"staging-datalineage.sandbox.googleapis.com";case "AUTOPUSH":return"autopush-datalineage.sandbox.googleapis.com";default:throw Error("lt`"+a);}},KKl=function(a,b,c,d){const e=JKl.create();a=e.link().set(e.projectId,a).set(e.locationId,b).set(e.entryGroupId,c).set(e.entryId,d);
return{commands:a.build(),queryParams:a.buildQueryParams()}},LKl=function(a,b,c){a=_.PJc(a,b,c);return{commands:a.build(),queryParams:a.buildQueryParams()}},MKl=function(a){try{const {system:e,path:f}=_.P_(a);switch(e){case "bigquery":const g=_.Q_(f);if(3===g.length){var [b,c,d]=g;return{commands:_.Fmg(`//bigquery.googleapis.com/projects/${b}/datasets/${c}/tables/${d}`,"linkedResource"),queryParams:{}}}}}catch(e){}},NKl=function(a){try{const {system:e,path:f}=_.P_(a);switch(e){case "bigquery":const g=
_.Q_(f);if(3===g.length){var [b,c,d]=g;return{projectId:b,datasetId:c,tableId:d}}}}catch(e){}},OKl=function(a){switch(a){case "DATA":return"Data transfer";case "EXACT_COPY":return"Exact copy";case "OTHER":return"Other";default:return"Unspecified"}},PKl=function(a){switch(a){case "UPSTREAM":return"Upstream";case "DOWNSTREAM":return"Downstream";default:return"Unspecified"}},QKl=function(a){const b=d=>`${d.source.fullyQualifiedName}###${d.target.fullyQualifiedName}###${d.depth}`,c=new Map;for(const d of a)c.has(b(d))||
c.set(b(d),{order:c.size,links:[]}),c.get(b(d)).links.push(d);a=[...c.entries()];a.sort((d,e)=>d[1].order-e[1].order);return a.map(([,d])=>{const e=_.rc(d.links[0]);e.source.field=[];e.target.field=[];e.dependencyInfo=[];d=d.links.map(f=>f.processes).flat();e.processes=[...(new Map(d.map(f=>[f.processName,f]))).values()];return e})},SKl=function(a,b){RKl(a).pipe(_.Gf(1)).subscribe(c=>{c=new Blob([c],{type:"text/csv;"});const d=new _.ZN;d.init();d.download(c,b+".csv","text/csv;").then(()=>{d.dispose()},
()=>{d.dispose()})})},TKl=function(a){a=null==a?"":String(a);a=a.replace(/"/g,'""');const b=a.includes(","),c=a.includes("\n"),d=a.includes('"');if(b||c||d)a='"'+a+'"';return a},RKl=function(a){return(a.getAllRows?a.getAllRows():_.B([])).pipe(_.D(b=>{let c="";for(const d of a.tableCommands.visibleColumns){const e=TKl(d.header);c+=e+","}c+="\n";for(const d of b||[]){for(const e of a.tableCommands.visibleColumns)b=TKl((0,a.tableCommands.valueAccessor)(d,e.id)),c+=b+",";c+="\n"}return c}))},UKl=function(a){a&
1&&(_.M(0),_.L(1,"cm-icon",7),_.I(2,"div",8),_.O(3,2),_.K(),_.N());a&2&&(a=_.Q(),_.y(),_.H("icon",a.infoIcon))},VKl=function(a){if(a&1){const b=_.t();_.M(0);_.I(1,"button",11);_.P("click",function(){_.v(b);const c=_.Q();c.onEnvironmentEvent.emit({type:0,entry:c.entry,location:"NEW_TAB"});return _.x(void 0)});_.Ng(2,1);_.L(3,"cfc-icon",12);_.Og();_.K();_.I(4,"button",13);_.Ng(5,2);_.L(6,"cfc-icon",12);_.Og();_.K();_.I(7,"cfc-menu",14,0)(9,"cfc-menu-section")(10,"cfc-menu-item",15);_.P("click",function(){_.v(b);
const c=_.Q();return _.x(c.handleQueryNewTab())});_.K();_.I(11,"cfc-menu-item",16);_.P("click",function(){_.v(b);const c=_.Q();c.onEnvironmentEvent.emit({type:1,entry:c.entry,location:"SPLIT_TAB"});return _.x(void 0)});_.K()()();_.N()}if(a&2){a=_.hh(8);const b=_.Q();_.y();_.H("cfcDisable",b.isRoot);_.y(3);_.H("cfcMenuTriggerFor",a)}},WKl=function(a){a&1&&(_.M(0),_.I(1,"a",20),_.Ng(2,4),_.L(3,"cfc-icon",12),_.Og(),_.K(),_.N());a&2&&(a=_.Q(2),_.y(),_.H("cfcRouterLink",a.bigQueryLink.commands)("queryParams",
a.bigQueryLink.queryParams))},XKl=function(a){a&1&&(_.M(0),_.I(1,"a",17),_.Ng(2,3),_.L(3,"cfc-icon",18),_.Og(),_.K(),_.G(4,WKl,4,2,"ng-container",19),_.N());a&2&&(a=_.Q(),_.y(),_.H("cfcRouterLink",a.entryDetailsLink.commands)("queryParams",a.entryDetailsLink.queryParams)("cfcDisable",a.isRoot),_.y(3),_.H("ngIf",a.bigQueryLink))},YKl=function(a){a&1&&(_.I(0,"div")(1,"dt"),_.O(2,1),_.K(),_.I(3,"dd"),_.S(4),_.K()());a&2&&(a=_.Q(),_.y(4),_.ih(a.entry.shortName))},ZKl=function(a){a&1&&(_.I(0,"div")(1,
"dt"),_.O(2,2),_.K(),_.I(3,"dd"),_.S(4),_.K()());a&2&&(a=_.Q(),_.y(4),_.ih(a.entry.tableTypeTranslated))},$Kl=function(a){a&1&&(_.I(0,"div")(1,"dt"),_.O(2,3),_.K(),_.I(3,"dd"),_.S(4),_.K()());a&2&&(a=_.Q(),_.y(4),_.ih(a.entry.projectId))},aLl=function(a){a&1&&(_.I(0,"div")(1,"dt"),_.O(2,4),_.K(),_.I(3,"dd"),_.S(4),_.K()());a&2&&(a=_.Q(),_.y(4),_.ih(a.entry.datasetId))},bLl=function(a){a&1&&(_.I(0,"div")(1,"dt"),_.O(2,5),_.K(),_.I(3,"dd"),_.S(4),_.K()());a&2&&(a=_.Q(),_.y(4),_.ih(a.entry.systemTranslated))},
cLl=function(a){a&1&&(_.M(0),_.I(1,"div")(2,"dt"),_.O(3,6),_.K(),_.I(4,"dd"),_.S(5),_.K()(),_.I(6,"div")(7,"dt"),_.O(8,7),_.K(),_.I(9,"dd"),_.S(10),_.K()(),_.I(11,"div")(12,"dt"),_.O(13,8),_.K(),_.I(14,"dd"),_.S(15),_.K()(),_.N());a&2&&(a=_.Q(),_.y(5),_.ih(a.entry.sqlEngineTranslated),_.y(5),_.ih(a.entry.databaseVersion),_.y(5),_.ih(a.entry.instanceHostTranslated))},dLl=function(a){a&1&&(_.I(0,"a",22),_.S(1),_.K());a&2&&(a=_.Q(2),_.H("cfcRouterLink",a.dataplexAssetLink.commands)("queryParams",a.dataplexAssetLink.queryParams),
_.y(),_.T(" ",a.entry.asset," "))},eLl=function(a){a&1&&(_.I(0,"div"),_.S(1),_.K());a&2&&(a=_.Q(2),_.y(),_.T(" ",a.entry.asset," "))},fLl=function(a){a&1&&(_.I(0,"div")(1,"dt"),_.O(2,9),_.K(),_.I(3,"dd"),_.G(4,dLl,2,3,"a",21)(5,eLl,2,1,"div",20),_.K()());a&2&&(a=_.Q(),_.y(4),_.H("ngIf",!!a.dataplexAssetLink),_.y(),_.H("ngIf",!a.dataplexAssetLink))},gLl=function(a){a&1&&(_.I(0,"div")(1,"dt"),_.O(2,10),_.K(),_.I(3,"dd"),_.S(4),_.K()());a&2&&(a=_.Q(),_.y(4),_.ih(a.entry.entrySource))},hLl=function(a){a&
1&&(_.I(0,"a",24),_.S(1),_.K());a&2&&(a=_.Q(2),_.H("cfcRouterLink",a.entry.resourceUrl.url),_.y(),_.T(" ",a.entry.resourceUrl.text," "))},iLl=function(a){a&1&&(_.M(0),_.S(1),_.N());a&2&&(a=_.Q(2),_.y(),_.T(" ",a.entry.resource," "))},jLl=function(a){a&1&&(_.I(0,"div")(1,"dt"),_.O(2,11),_.K(),_.I(3,"dd"),_.G(4,hLl,2,2,"a",23)(5,iLl,2,1,"ng-container",20),_.K()());a&2&&(a=_.Q(),_.y(4),_.H("ngIf",a.entry.resourceUrl&&a.entry.resourceUrl.url),_.y(),_.H("ngIf",!a.entry.resourceUrl||!a.entry.resourceUrl.url))},
kLl=function(a){a&1&&(_.I(0,"div")(1,"dt"),_.O(2,12),_.K(),_.I(3,"dd"),_.S(4),_.K()());a&2&&(a=_.Q(),_.y(4),_.ih(a.entry.compressionFormat))},lLl=function(a){a&1&&(_.I(0,"div")(1,"dt"),_.O(2,13),_.K(),_.I(3,"dd"),_.S(4),_.V(5,"date"),_.K()());a&2&&(a=_.Q(),_.y(4),_.ih(_.uh(5,1,a.entry.createTime,"medium")))},mLl=function(a){a&1&&(_.I(0,"div")(1,"dt"),_.O(2,14),_.K(),_.I(3,"dd"),_.S(4),_.V(5,"date"),_.K()());a&2&&(a=_.Q(),_.y(4),_.ih(_.uh(5,1,a.entry.updateTime,"medium")))},nLl=function(a){a&1&&(_.I(0,
"div")(1,"dt"),_.O(2,15),_.K(),_.I(3,"dd"),_.S(4),_.V(5,"date"),_.K()());a&2&&(a=_.Q(),_.y(4),_.ih(_.uh(5,1,a.entry.expireTime,"medium")))},oLl=function(a){a&1&&(_.I(0,"div")(1,"dt"),_.O(2,16),_.K(),_.I(3,"dd"),_.S(4),_.V(5,"dcLocationDisplayName"),_.K()());a&2&&(a=_.Q(),_.y(4),_.ih(_.W(5,1,a.entry.locationId)))},pLl=function(a){if(a&1){const b=_.t();_.I(0,"dd")(1,"a",25);_.P("click",function(){_.v(b);const c=_.Q(2);return _.x(c.handleQueryNewTab())});_.S(2);_.K()()}a&2&&(a=_.Q(2),_.y(2),_.T(" ",
a.entry.fullyQualifiedName," "))},qLl=function(a){a&1&&(_.I(0,"dd")(1,"a",26),_.S(2),_.K()());a&2&&(a=_.Q(2),_.y(),_.H("cfcRouterLink",a.nativeAssetLinkFromFqn.commands)("queryParams",a.nativeAssetLinkFromFqn.queryParams),_.y(),_.T(" ",a.entry.fullyQualifiedName," "))},rLl=function(a){a&1&&(_.I(0,"dd"),_.S(1),_.K());a&2&&(a=_.Q(2),_.y(),_.T(" ",a.entry.fullyQualifiedName," "))},sLl=function(a){a&1&&(_.I(0,"div")(1,"dt"),_.O(2,17),_.K(),_.G(3,pLl,3,1,"dd",20)(4,qLl,3,3,"dd",20)(5,rLl,2,1,"dd",20),
_.K());a&2&&(a=_.Q(),_.y(3),_.H("ngIf",a.fqnLinkClickEnvironmentEvent),_.y(),_.H("ngIf",!a.fqnLinkClickEnvironmentEvent&&a.nativeAssetLinkFromFqn),_.y(),_.H("ngIf",!a.fqnLinkClickEnvironmentEvent&&!a.nativeAssetLinkFromFqn))},tLl=function(a){a&1&&(_.I(0,"div")(1,"dt"),_.O(2,18),_.K(),_.I(3,"dd"),_.S(4),_.K()());a&2&&(a=_.Q(),_.y(4),_.ih(a.entry.description))},uLl=function(a){a&1&&_.Kg(0)},vLl=function(a){a&1&&_.Kg(0)},wLl=function(a){a&1&&_.Kg(0)},xLl=function(a){a&1&&(_.M(0),_.I(1,"mat-tab-group",
8)(2,"mat-tab",9),_.G(3,uLl,1,0,"ng-container",10)(4,vLl,1,0,"ng-container",10),_.K(),_.I(5,"mat-tab",11),_.G(6,wLl,1,0,"ng-container",10),_.K()(),_.N());if(a&2){_.Q();a=_.hh(4);const b=_.hh(6),c=_.hh(8);_.y(3);_.H("ngTemplateOutlet",a);_.y();_.H("ngTemplateOutlet",c);_.y(2);_.H("ngTemplateOutlet",b)}},yLl=function(a){a&1&&(_.M(0),_.L(1,"cfc-breadcrumbs",12),_.N());a&2&&(a=_.Q(2),_.y(),_.H("breadcrumbs",a.breadcrumbs)("noFinalHighlight",!0))},zLl=function(a){a&1&&_.Kg(0)},ALl=function(a){a&1&&_.Kg(0)},
BLl=function(a){a&1&&(_.M(0),_.I(1,"cfc-unfold",13)(2,"cfc-unfold-header",14),_.O(3,3),_.K(),_.I(4,"cfc-unfold-hidden-content"),_.G(5,zLl,1,0,"ng-container",10),_.K()(),_.I(6,"cfc-unfold",13)(7,"cfc-unfold-header",15),_.O(8,4),_.K(),_.I(9,"cfc-unfold-hidden-content"),_.G(10,ALl,1,0,"ng-container",10),_.K()(),_.N());if(a&2){_.Q(2);a=_.hh(4);const b=_.hh(6);_.y();_.H("unfolded",!0);_.y(4);_.H("ngTemplateOutlet",a);_.y();_.H("unfolded",!0);_.y(4);_.H("ngTemplateOutlet",b)}},CLl=function(a){a&1&&_.L(0,
"dc-lineage-column-details",17);a&2&&(a=_.Q(3),_.H("columnDetails",a.entryColumn))},DLl=function(a){a&1&&(_.M(0),_.G(1,CLl,1,1,"dc-lineage-column-details",16),_.N());a&2&&(a=_.Q(2),_.y(),_.H("ngIf",a.entryColumn))},ELl=function(a){a&1&&_.Kg(0)},FLl=function(a){a&1&&(_.M(0),_.G(1,yLl,2,2,"ng-container",7)(2,BLl,11,4,"ng-container",7)(3,DLl,2,1,"ng-container",7)(4,ELl,1,0,"ng-container",10),_.N());if(a&2){a=_.Q();const b=_.hh(8);_.y();_.H("ngIf",a.breadcrumbs);_.y();_.H("ngIf",a.displayType===a.layoutType.ASSET);
_.y();_.H("ngIf",a.displayType===a.layoutType.COLUMN);_.y();_.H("ngTemplateOutlet",b)}},GLl=function(a){a&1&&_.Kg(0)},HLl=function(a){a&1&&_.Kg(0)},ILl=function(a){a&1&&(_.M(0),_.G(1,GLl,1,0,"ng-container",10)(2,HLl,1,0,"ng-container",10),_.N());if(a&2){_.Q();a=_.hh(4);const b=_.hh(8);_.y();_.H("ngTemplateOutlet",a);_.y();_.H("ngTemplateOutlet",b)}},JLl=function(a){if(a&1){const b=_.t();_.I(0,"dc-lineage-asset-default-details",18);_.P("onEnvironmentEvent",function(c){_.v(b);const d=_.Q();return _.x(d.onEnvironmentEvent.emit(c))});
_.K()}a&2&&(a=_.Q(),_.H("entry",a.entry)("showEntryName",a.inlineLayout)("host",a.host)("hasExtraPadding",a.inlineLayout))},KLl=function(a){a&1&&_.L(0,"dc-lineage-asset-default-schema-viewer-container",20);a&2&&(a=_.Q(2),_.H("entry",a.entry))},LLl=function(a){a&1&&_.G(0,KLl,1,1,"dc-lineage-asset-default-schema-viewer-container",19);a&2&&(a=_.Q(),_.H("ngIf",a.hasSchema(a.entry)))},MLl=function(a){if(a&1){const b=_.t();_.I(0,"button",25);_.P("click",function(){_.v(b);const c=_.Q(2);return _.x(c.handleQueryNewTab())});
_.O(1,5);_.K()}a&2&&(a=_.Q(2),_.H("ve",a.ve.DataCatalogLineageVisualizeLineageButton)("veClick",!0))},NLl=function(a){a&1&&(_.I(0,"a",26),_.O(1,6),_.K());a&2&&(a=_.Q(2),_.H("cfcRouterLink",a.assetDetailsLink.commands)("queryParams",a.assetDetailsLink.queryParams)("ve",a.ve.DataCatalogLineageVisualizeLineageLink)("veClick",!0))},OLl=function(a){a&1&&(_.I(0,"div",21)(1,"p",22),_.S(2," View lineage for "),_.I(3,"strong"),_.S(4),_.K()(),_.G(5,MLl,2,2,"button",23)(6,NLl,2,4,"a",24),_.K());a&2&&(a=_.Q(),
_.y(4),_.ih(a.entry.shortName),_.y(),_.H("ngIf",a.isBigQueryLink),_.y(),_.H("ngIf",!a.isBigQueryLink&&a.assetDetailsLink))},PLl=function(a){a&1&&(_.I(0,"div",4)(1,"cfc-message",5)(2,"cfc-message-text"),_.O(3,0),_.K(),_.I(4,"cfc-message-actions")(5,"a",6),_.O(6,1),_.K()()()());a&2&&(a=_.Q(),_.y(),_.H("verticalAlignment",!0),_.y(4),_.H("cfcRouterLink",a.searchPageLink.commands)("queryParams",a.searchPageLink.queryParams))},QLl=function(a){a&1&&(_.M(0),_.I(1,"a",7),_.Ng(2,0),_.L(3,"cfc-icon",8),_.Og(),
_.K(),_.N());a&2&&(a=_.Q(),_.y(),_.H("cfcRouterLink",a.composerEnvironmentLink.commands)("queryParams",a.composerEnvironmentLink.queryParams)("ve",a.ve.DataCatalogLineageComposerEnvButton)("veClick",!0))},RLl=function(a){a&1&&(_.M(0),_.I(1,"a",7),_.L(2,"cfc-icon",8),_.I(3,"span"),_.O(4,1),_.K()(),_.N());a&2&&(a=_.Q(),_.y(),_.H("cfcRouterLink",a.composerDagLink.commands)("queryParams",a.composerDagLink.queryParams)("ve",a.ve.DataCatalogLineageComposerDagButton)("veClick",!0))},SLl=function(a){a&1&&
(_.M(0),_.I(1,"a",7),_.L(2,"cfc-icon",9),_.I(3,"span"),_.O(4,2),_.K()(),_.N());a&2&&(a=_.Q(),_.y(),_.H("cfcRouterLink",a.dataFusionInstanceLink.commands)("queryParams",a.dataFusionInstanceLink.queryParams)("ve",a.ve.DataCatalogLineageDataFusionInstanceButton)("veClick",!0))},TLl=function(a){a&1&&(_.M(0),_.I(1,"a",25),_.Ng(2,2),_.L(3,"cfc-icon",26),_.Og(),_.K(),_.N());a&2&&(a=_.Q(2),_.y(),_.H("cfcRouterLink",a.cloudComposerLink.commands)("queryParams",a.cloudComposerLink.queryParams))},ULl=function(a){a&
1&&(_.M(0),_.I(1,"button",27),_.Ng(2,3),_.L(3,"cfc-icon",26),_.Og(),_.K(),_.N());a&2&&(_.y(),_.H("cfcDisable",!0))},VLl=function(a){a&1&&(_.I(0,"div"),_.G(1,TLl,4,2,"ng-container",16)(2,ULl,4,1,"ng-container",16),_.K());a&2&&(a=_.Q(),_.y(),_.H("ngIf",a.cloudComposerLink),_.y(),_.H("ngIf",!a.cloudComposerLink&&(null==a.run?null:null==a.run.cloudComposerSpec?null:null==a.run.cloudComposerSpec.unreachable?null:a.run.cloudComposerSpec.unreachable.length)))},XLl=function(a){a&1&&(_.M(0),_.I(1,"div")(2,
"a",28),_.L(3,"cfc-icon",29),_.I(4,"span"),_.O(5,4),_.K()(),_.I(6,"a",30),_.L(7,"cfc-icon",29),_.I(8,"span"),_.O(9,5),_.K()()(),_.N());if(a&2){let b,c,d,e;a=_.Q();_.y(2);_.H("cfcRouterLink",null!==(b=null==a.dataprocClusterLink?null:a.dataprocClusterLink.commands)&&void 0!==b?b:"")("queryParams",null!==(c=null==a.dataprocClusterLink?null:a.dataprocClusterLink.queryParams)&&void 0!==c?c:_.ph(10,WLl))("ve",a.ve.DataCatalogLineageDataprocOpenClusterButton)("veClick",!0)("cfcDisable",!a.dataprocClusterLink);
_.y(4);_.H("cfcRouterLink",null!==(d=null==a.dataprocJobLink?null:a.dataprocJobLink.commands)&&void 0!==d?d:"")("queryParams",null!==(e=null==a.dataprocJobLink?null:a.dataprocJobLink.queryParams)&&void 0!==e?e:_.ph(11,WLl))("ve",a.ve.DataCatalogLineageDataprocOpenJobButton)("veClick",!0)("cfcDisable",!a.dataprocJobLink)}},YLl=function(a,b){a&1&&(_.I(0,"div")(1,"dt"),_.S(2),_.K(),_.I(3,"dd"),_.S(4),_.K()());a&2&&(a=b.$implicit,b=_.Q(2),_.y(2),_.ih(b.CORE_RUN_ATTRIBUTES.get(a.key)),_.y(2),_.ih(a.value))},
$Ll=function(a){a&1&&(_.I(0,"dl",31)(1,"div")(2,"dt"),_.O(3,6),_.K(),_.I(4,"dd"),_.S(5),_.K()(),_.I(6,"div")(7,"dt"),_.O(8,7),_.K(),_.I(9,"dd"),_.S(10),_.K()(),_.I(11,"div")(12,"dt"),_.O(13,8),_.K(),_.I(14,"dd"),_.L(15,"cfc-icon",32),_.S(16),_.K()(),_.I(17,"div")(18,"dt"),_.O(19,9),_.K(),_.I(20,"dd"),_.S(21),_.V(22,"date"),_.K()(),_.I(23,"div")(24,"dt"),_.O(25,10),_.K(),_.I(26,"dd"),_.S(27),_.V(28,"date"),_.K()(),_.G(29,YLl,5,2,"div",33),_.K());a&2&&(a=_.Q(),_.y(5),_.ih(a.run.name),_.y(5),_.ih(a.run.displayName),
_.y(5),_.H("icon",a.getIconForState(a.run.state)),_.y(),_.T(" ",a.getLabelForState(a.run.state)," "),_.y(5),_.ih(_.uh(22,7,a.run.startTime,"medium")),_.y(6),_.ih(a.run.endTime?_.uh(28,10,a.run.endTime,"medium"):""),_.y(2),_.H("ngForOf",ZLl(a)))},aMl=function(a){if(a&1){const b=_.t();_.I(0,"cfc-expand-button",34);_.P("toggle",function(){_.v(b);const c=_.Q();c.isAdvancedSectionExpanded=!c.isAdvancedSectionExpanded;return _.x(void 0)});_.K()}a&2&&(a=_.Q(),_.H("collapsed",!a.isAdvancedSectionExpanded))},
bMl=function(a,b){a&1&&(_.I(0,"div")(1,"dt"),_.S(2),_.K(),_.I(3,"dd"),_.S(4),_.K()());a&2&&(a=b.$implicit,_.y(2),_.ih(a.key),_.y(2),_.ih(a.value))},dMl=function(a){a&1&&(_.I(0,"dl",35),_.G(1,bMl,5,2,"div",33),_.K());a&2&&(a=_.Q(),_.y(),_.H("ngForOf",cMl(a)))},eMl=function(a){a&1&&(_.I(0,"cfc-message",36)(1,"cfc-message-text"),_.O(2,11),_.K()())},fMl=function(){},gMl=function(a){a&1&&_.G(0,fMl,0,0,"ng-template")},hMl=function(){},iMl=function(a){a&1&&_.G(0,hMl,0,0,"ng-template")},jMl=function(a){a&
1&&(_.I(0,"mat-tab-group",11)(1,"mat-tab",12),_.G(2,gMl,1,0,null,13),_.K(),_.I(3,"mat-tab",14),_.G(4,iMl,1,0,null,13),_.K()());if(a&2){_.Q();a=_.hh(3);const b=_.hh(5);_.y(2);_.H("ngTemplateOutlet",a);_.y(2);_.H("ngTemplateOutlet",b)}},kMl=function(){},lMl=function(a){a&1&&_.G(0,kMl,0,0,"ng-template")},mMl=function(){},nMl=function(a){a&1&&_.G(0,mMl,0,0,"ng-template")},oMl=function(){},pMl=function(a){a&1&&_.G(0,oMl,0,0,"ng-template")},qMl=function(a){a&1&&(_.M(0),_.G(1,lMl,1,0,null,13)(2,nMl,1,0,
null,13)(3,pMl,1,0,null,13),_.N());if(a&2){_.Q();a=_.hh(3);const b=_.hh(5),c=_.hh(7);_.y();_.H("ngTemplateOutlet",c);_.y();_.H("ngTemplateOutlet",a);_.y();_.H("ngTemplateOutlet",b)}},rMl=function(a){a&1&&(_.I(0,"div")(1,"dt"),_.O(2,4),_.K(),_.I(3,"dd"),_.S(4),_.K()());a&2&&(a=_.Q(2),_.y(4),_.ih(a.getTranslatedBigQueryProcessType(a.bigQuerySpec.type)))},sMl=function(a,b){a&1&&(_.I(0,"div")(1,"dt"),_.S(2),_.K(),_.I(3,"dd"),_.S(4),_.K()());a&2&&(a=b.$implicit,_.y(2),_.ih(a.key),_.y(2),_.ih(a.value))},
tMl=function(a){if(a&1){const b=_.t();_.I(0,"mat-slide-toggle",20);_.P("change",function(){_.v(b);const c=_.Q(2);c.isSqlExpanded=!c.isSqlExpanded;return _.x(void 0)});_.O(1,5);_.K()}a&2&&(a=_.Q(2),_.H("checked",a.isSqlExpanded))},wMl=function(a){a&1&&_.L(0,"cfc-code-snippet",21);if(a&2){a=_.Q(2);if(a.isSqlExpanded){{var b=uMl(a);const d=vMl(a);if(b&&d&&b!==d&&-1!==d.indexOf(b)){var c=(null!=d?d:"").indexOf(b);b=c+b.length;";"===d[b]&&b++;c=[d.substring(0,c),d.substring(c,b),d.substring(b)].join("\n------------------------------\n")}else c=
d}}else c=uMl(a);a=void 0===c?"":-1<c.indexOf("\n")?c:a.queryFormatter.formatQuery(c);_.H("content",a)("hideCopyButton",!0)}},xMl=function(a){a&1&&(_.I(0,"div",22)(1,"cfc-message",23)(2,"cfc-message-text"),_.O(3,6),_.K()()());a&2&&(a=_.Q(2),_.y(3),_.Qg(a.projectId),_.Rg(3))},yMl=function(a){a&1&&(_.I(0,"dl",15)(1,"div")(2,"dt"),_.O(3,3),_.K(),_.I(4,"dd"),_.S(5),_.K()(),_.G(6,rMl,5,1,"div",10)(7,sMl,5,2,"div",16),_.K(),_.G(8,tMl,2,1,"mat-slide-toggle",17)(9,wMl,1,2,"cfc-code-snippet",18)(10,xMl,4,
1,"div",19));a&2&&(a=_.Q(),_.y(5),_.ih(a.process.name),_.y(),_.H("ngIf",a.bigQuerySpec),_.y(),_.H("ngForOf",a.attributes),_.y(),_.H("ngIf",!!vMl(a)&&!!uMl(a)&&uMl(a)!==vMl(a)),_.y(),_.H("ngIf",uMl(a)||vMl(a)),_.y(),_.H("ngIf",a.bigQuerySpecMissingPermissions))},zMl=function(a,b){a&1&&(_.M(0),_.L(1,"cfc-icon",31),_.N());a&2&&(a=b.rowData,b=_.Q(2),_.y(),_.H("icon",b.getIconForState(a.state)))},AMl=function(a,b){a&1&&(_.M(0),_.S(1),_.N());a&2&&(a=b.rowData,_.y(),_.T(" ",a.displayName||a.name," "))},
BMl=function(a,b){a&1&&(_.M(0),_.S(1),_.V(2,"date"),_.N());a&2&&(a=b.rowData,_.y(),_.T(" ",_.uh(2,1,a.startTime,"medium")," "))},CMl=function(a){a&1&&(_.I(0,"cfc-table-column",32),_.G(1,BMl,3,4,"ng-container",26),_.K());a&2&&(_.y(),_.H("cfcTableTemplate","body"))},DMl=function(a){a&1&&(_.I(0,"span"),_.S(1),_.V(2,"date"),_.K());a&2&&(a=_.Q().rowData,_.y(),_.T(" ",_.uh(2,1,a.endTime,"medium")," "))},EMl=function(a,b){a&1&&(_.M(0),_.G(1,DMl,3,4,"span",10),_.N());a&2&&(a=b.rowData,_.y(),_.H("ngIf",!!a.endTime))},
FMl=function(a){a&1&&(_.I(0,"cfc-table-column",33),_.G(1,EMl,2,1,"ng-container",26),_.K());a&2&&(_.y(),_.H("cfcTableTemplate","body"))},HMl=function(a){if(a&1){const b=_.t();_.M(0);_.I(1,"button",34);_.P("click",function(){const c=_.v(b).rowData;_.Q(2).dialog.open(GMl,{data:{runName:c.name}});return _.x(void 0)});_.O(2,7);_.K();_.N()}a&2&&(a=_.Q(2),_.y(),_.H("ve",a.ve.DataCatalogLineageRunDetailLink)("veClick",!0))},IMl=function(a){a&1&&(_.I(0,"cfc-table",24)(1,"cfc-table-column",25),_.G(2,zMl,2,
1,"ng-container",26),_.K(),_.I(3,"cfc-table-column",27),_.G(4,AMl,2,1,"ng-container",26),_.K(),_.G(5,CMl,2,1,"cfc-table-column",28)(6,FMl,2,1,"cfc-table-column",29),_.I(7,"cfc-table-column",30),_.G(8,HMl,3,2,"ng-container",26),_.K()());a&2&&(a=_.Q(),_.H("tableManager",a.tokenTableManager)("rowsPerPage",a.rowsPerPage)("pagination",!0)("layoutFixed",!0)("fillContainerWidth",!0)("fullBleedConfig",a.tableFullBleedConfig)("tableRendererV2",!1),_.y(),_.H("wrapHeader",!0),_.y(),_.H("cfcTableTemplate","body"),
_.y(2),_.H("cfcTableTemplate","body"),_.y(),_.H("ngIf","BOTTOM"===a.detailsPanelPosition),_.y(),_.H("ngIf","BOTTOM"===a.detailsPanelPosition),_.y(2),_.H("cfcTableTemplate","body"))},JMl=function(a,b){a&1&&(_.I(0,"mat-option",38),_.S(1),_.K());a&2&&(a=b.$implicit,_.H("value",a.name),_.y(),_.T(" ",a.id," "))},KMl=function(a){if(a&1){const b=_.t();_.I(0,"form",35)(1,"mat-form-field")(2,"mat-label");_.O(3,8);_.K();_.I(4,"cfc-select",36);_.P("change",function(c){_.v(b);const d=_.Q();return _.x(d.handleProcessChange(c))});
_.G(5,JMl,2,2,"mat-option",37);_.K()()()}a&2&&(a=_.Q(),_.y(4),_.H("value",a.process.name),_.y(),_.H("ngForOf",a.processList))},LMl=function(a){a&1&&_.Kg(0)},MMl=function(a){a&1&&_.Kg(0)},NMl=function(a){a&1&&_.L(0,"cfc-icon",23);a&2&&(a=_.Q(2),_.H("iconset",a.DataCatalogIconSetName))},OMl=function(a){a&1&&_.L(0,"cfc-icon",24);a&2&&(a=_.Q(2),_.H("iconset",a.DataCatalogIconSetName))},PMl=function(a){if(a&1){const b=_.t();_.I(0,"button",20);_.P("click",function(){_.v(b);const c=_.Q();return _.x(c.toggleDetailsPanelPosition.emit())});
_.G(1,NMl,1,1,"cfc-icon",21)(2,OMl,1,1,"cfc-icon",22);_.K()}a&2&&(a=_.Q(),_.y(),_.H("ngIf","RIGHT"===a.detailsPanelPosition),_.y(),_.H("ngIf","BOTTOM"===a.detailsPanelPosition))},QMl=function(a){a&1&&_.Kg(0)},RMl=function(a){if(a&1){const b=_.t();_.M(0);_.I(1,"dc-lineage-asset-action-bar",26);_.P("onEnvironmentEvent",function(c){_.v(b);const d=_.Q(3);return _.x(d.onEnvironmentEvent.emit(c))});_.I(2,"div",27);_.G(3,QMl,1,0,"ng-container",19);_.K()();_.N()}if(a&2){a=_.Q(3);const b=_.hh(3);_.y();_.H("entry",
a.fetchedData.data)("isRoot",a.fetchedData.isRoot)("host",a.host)("actionBarConfig",a.actionBarConfig);_.y(2);_.H("ngTemplateOutlet",b)}},SMl=function(a){a&1&&_.Kg(0)},TMl=function(a){a&1&&(_.M(0),_.I(1,"dc-lineage-process-action-bar",28)(2,"div",27),_.G(3,SMl,1,0,"ng-container",19),_.K()(),_.N());if(a&2){a=_.Q(3);const b=_.hh(3);_.y();_.H("process",a.fetchedData.data)("actionBarConfig",a.actionBarConfig);_.y(2);_.H("ngTemplateOutlet",b)}},UMl=function(a){a&1&&_.Kg(0)},VMl=function(a){a&1&&(_.M(0),
_.I(1,"cfc-action-bar",29)(2,"div",27),_.G(3,UMl,1,0,"ng-container",19),_.K()(),_.N());if(a&2){a=_.Q(3);const b=_.hh(3);_.y();_.H("id",a.actionBarConfig.id)("cfcTitle",a.actionBarConfig.title)("cdkFocusInitialOnTitle",a.actionBarConfig.focusInitialOnTitle);_.y(2);_.H("ngTemplateOutlet",b)}},ZMl=function(a){a&1&&(_.M(0),_.G(1,RMl,4,5,"ng-container",25)(2,TMl,4,3,"ng-container",25)(3,VMl,4,4,"ng-container",25),_.N());a&2&&(a=_.Q(2),_.y(),_.H("ngIf",WMl(a.fetchedData)),_.y(),_.H("ngIf",XMl(a.fetchedData)),
_.y(),_.H("ngIf",YMl(a.fetchedData)))},$Ml=function(a){a&1&&_.Kg(0)},aNl=function(a){a&1&&(_.M(0),_.I(1,"cfc-action-bar",29)(2,"div",27),_.G(3,$Ml,1,0,"ng-container",19),_.K()(),_.N());if(a&2){a=_.Q(2);const b=_.hh(3);_.y();_.H("id",a.actionBarConfig.id)("cfcTitle",a.actionBarConfig.title)("cdkFocusInitialOnTitle",a.actionBarConfig.focusInitialOnTitle);_.y(2);_.H("ngTemplateOutlet",b)}},bNl=function(a){a&1&&_.G(0,ZMl,4,3,"ng-container",25)(1,aNl,4,4,"ng-container",25);a&2&&(a=_.Q(),_.H("ngIf",a.detailsLoadingStatus===
a.loadingStatus.SUCCESS),_.y(),_.H("ngIf",a.detailsLoadingStatus!==a.loadingStatus.SUCCESS))},cNl=function(a){a&1&&(_.I(0,"dl",34)(1,"div")(2,"dt"),_.O(3,3),_.K(),_.I(4,"dd"),_.S(5),_.K()()());a&2&&(a=_.Q(2),_.y(5),_.ih(a.targetOpenEntity.fullyQualifiedName))},dNl=function(a){if(a&1){const b=_.t();_.I(0,"cfc-message",37)(1,"cfc-message-text");_.Ng(2,4);_.L(3,"b");_.Og();_.K();_.I(4,"cfc-message-actions")(5,"cfc-progress-button",38)(6,"button",39);_.P("click",function(){_.v(b);const c=_.Q(3);return _.x(c.enableDataCatalogApi.emit())});
_.O(7,5);_.K()()()()}if(a&2){let b;a=_.Q(3);_.y(3);_.Qg(null==a.dataCatalogApiNotEnabledError?null:a.dataCatalogApiNotEnabledError.projectRef);_.Rg(2);_.y(2);_.H("inProgress",a.isEnablingDataCatalogApi);_.y();_.H("cfcIamCheck",a.enablePermissions)("cfcIamOperator",a.iamCheckOperator.AND)("cfcIamResource",a.getProjectStubIamCompatible(null!==(b=null==a.dataCatalogApiNotEnabledError?null:a.dataCatalogApiNotEnabledError.projectRef)&&void 0!==b?b:""))}},eNl=function(a){if(a&1){const b=_.t();_.I(0,"cfc-message",
37)(1,"cfc-message-text");_.M(2);_.Ng(3,6);_.L(4,"b");_.Og();_.N();_.M(5);_.Ng(6,7);_.L(7,"a",40);_.Og();_.N();_.K();_.I(8,"cfc-message-actions")(9,"cfc-progress-button",38)(10,"button",41);_.P("click",function(){_.v(b);const c=_.Q(3);return _.x(c.enableDataLineageApi.emit())});_.O(11,8);_.K()()()()}if(a&2){let b;a=_.Q(3);_.y(4);_.Qg(null==a.lineageApiNotEnabledError?null:a.lineageApiNotEnabledError.projectRef);_.Rg(3);_.y(3);_.H("cfcDocLink",a.dl.CONSOLE__DATA_CATALOG_DOCS_CONCEPTS_ABOUT_DATA_LINEAGE);
_.y(2);_.H("inProgress",a.isEnablingDataLineageApi);_.y();_.H("cfcIamCheck",a.enablePermissions)("cfcIamOperator",a.iamCheckOperator.AND)("cfcIamResource",a.getProjectStubIamCompatible(null!==(b=null==a.lineageApiNotEnabledError?null:a.lineageApiNotEnabledError.projectRef)&&void 0!==b?b:""))("ve",a.ve.DataCatalogLineageEnableLink)("veClick",!0)}},fNl=function(a){if(a&1){const b=_.t();_.I(0,"cfc-message",37)(1,"cfc-message-text");_.M(2);_.Ng(3,9);_.L(4,"b");_.Og();_.N();_.K();_.I(5,"cfc-message-actions")(6,
"cfc-progress-button",38)(7,"button",42);_.P("click",function(){_.v(b);const c=_.Q(3);return _.x(c.retryFetchingDetails.emit())});_.O(8,10);_.K()()()()}a&2&&(a=_.Q(3),_.y(4),_.Qg(null==a.billingNotEnabledError?null:a.billingNotEnabledError.projectRef),_.Rg(3),_.y(2),_.H("inProgress",!1))},gNl=function(a){a&1&&(_.I(0,"cfc-message-text"),_.O(1,11),_.K())},hNl=function(a){a&1&&(_.I(0,"cfc-message-text"),_.O(1,12),_.K())},iNl=function(a){a&1&&(_.I(0,"cfc-message-text"),_.O(1,13),_.K())},lNl=function(a){a&
1&&(_.I(0,"cfc-message",43),_.G(1,gNl,2,0,"cfc-message-text",25)(2,hNl,2,0,"cfc-message-text",25)(3,iNl,2,0,"cfc-message-text",25),_.K());a&2&&(a=_.Q(3),_.y(),_.H("ngIf",jNl(a.targetOpenEntity)&&!kNl(a)),_.y(),_.H("ngIf",jNl(a.targetOpenEntity)&&kNl(a)),_.y(),a=a.targetOpenEntity,_.H("ngIf",1===(null==a?void 0:a.entityType)))},mNl=function(a){a&1&&(_.M(0),_.G(1,dNl,8,5,"cfc-message",35)(2,eNl,12,8,"cfc-message",35)(3,fNl,9,2,"cfc-message",35)(4,lNl,4,3,"cfc-message",36),_.N());a&2&&(a=_.Q(2),_.y(),
_.H("ngIf",!a.isDataCatalogApiEnabled()),_.y(),_.H("ngIf",!a.isLineageApiEnabled()),_.y(),_.H("ngIf",!a.isBillingEnabled()),_.y(),_.H("ngIf",a.isDataCatalogApiEnabled()&&a.isLineageApiEnabled()&&a.isBillingEnabled()))},nNl=function(a){a&1&&(_.I(0,"cfc-message-text"),_.O(1,14),_.K())},oNl=function(a){a&1&&(_.I(0,"cfc-message-text"),_.O(1,15),_.K())},pNl=function(a){a&1&&(_.I(0,"cfc-message",44),_.G(1,nNl,2,0,"cfc-message-text",25)(2,oNl,2,0,"cfc-message-text",25),_.K());a&2&&(a=_.Q(2),_.y(),_.H("ngIf",
a.lineageViewType===a.LineageViewType.GRAPH),_.y(),_.H("ngIf",a.lineageViewType===a.LineageViewType.TABLE))},qNl=function(a){if(a&1){const b=_.t();_.I(0,"div")(1,"dc-lineage-asset-details",45);_.P("onEnvironmentEvent",function(c){_.v(b);const d=_.Q(2);return _.x(d.onEnvironmentEvent.emit(c))});_.K()()}a&2&&(a=_.Q(2),_.y(),_.H("entry",a.fetchedData.data)("isUnique",0===a.fetchedData.additionalMatchingCount)("host",a.host))},rNl=function(a){a&1&&(_.I(0,"div"),_.L(1,"dc-lineage-process-details",46),
_.K());a&2&&(a=_.Q(2),_.y(),_.H("process",a.fetchedData.data)("detailsPanelPosition",a.detailsPanelPosition))},sNl=function(a){a&1&&(_.I(0,"cfc-message",43)(1,"cfc-message-text"),_.O(2,16),_.K()())},tNl=function(a){if(a&1){const b=_.t();_.I(0,"dc-lineage-asset-details",53);_.P("onEnvironmentEvent",function(c){_.v(b);const d=_.Q(3);return _.x(d.onEnvironmentEvent.emit(c))});_.K()}a&2&&(a=_.Q(3),_.H("entry",a.fetchedData.source.data)("isUnique",0===a.fetchedData.source.additionalMatchingCount)("inlineLayout",
!0)("host",a.host)("entryColumn",a.fetchedData.sourceColumn))},uNl=function(a){a&1&&(_.I(0,"cfc-message",43)(1,"cfc-message-text"),_.O(2,17),_.K()())},vNl=function(a){if(a&1){const b=_.t();_.I(0,"dc-lineage-asset-details",53);_.P("onEnvironmentEvent",function(c){_.v(b);const d=_.Q(3);return _.x(d.onEnvironmentEvent.emit(c))});_.K()}a&2&&(a=_.Q(3),_.H("entry",a.fetchedData.target.data)("isUnique",0===a.fetchedData.target.additionalMatchingCount)("inlineLayout",!0)("host",a.host)("entryColumn",a.fetchedData.targetColumn))},
wNl=function(a){a&1&&(_.I(0,"cfc-message",43)(1,"cfc-message-text"),_.O(2,18),_.K()())},xNl=function(a){if(a&1){const b=_.t();_.I(0,"dc-lineage-process-details",54);_.P("onProcessSelectionChange",function(c){_.v(b);const d=_.Q(3);return _.x(d.handleProcessChange(c))});_.K()}a&2&&(a=_.Q(3),_.H("process",a.fetchedData.selectedProcess.data)("detailsPanelPosition",a.detailsPanelPosition)("inlineLayout",!0)("processList",a.fetchedData.processList))},yNl=function(a){a&1&&(_.I(0,"div")(1,"mat-tab-group",
47)(2,"mat-tab",48),_.G(3,sNl,3,0,"cfc-message",36)(4,tNl,1,5,"dc-lineage-asset-details",49),_.K(),_.I(5,"mat-tab",50),_.G(6,uNl,3,0,"cfc-message",36)(7,vNl,1,5,"dc-lineage-asset-details",49),_.K(),_.I(8,"mat-tab",51),_.G(9,wNl,3,0,"cfc-message",36)(10,xNl,1,4,"dc-lineage-process-details",52),_.K()()());a&2&&(a=_.Q(2),_.y(2),_.H("ve",a.ve.DataCatalogLineageDetailsSourceTab)("veClick",!0),_.y(),_.H("ngIf",null===a.fetchedData.source.data),_.y(),_.H("ngIf",null!==a.fetchedData.source.data),_.y(),_.H("ve",
a.ve.DataCatalogLineageDetailsTargetTab)("veClick",!0),_.y(),_.H("ngIf",null===a.fetchedData.target.data),_.y(),_.H("ngIf",null!==a.fetchedData.target.data),_.y(),_.H("ve",a.ve.DataCatalogLineageDetailsProcessTab)("veClick",!0),_.y(),_.H("ngIf",null===a.fetchedData.selectedProcess.data),_.y(),_.H("ngIf",null!==a.fetchedData.selectedProcess.data))},zNl=function(a){a&1&&(_.I(0,"cfc-panel-body",30)(1,"cfc-loader",31),_.G(2,cNl,6,1,"dl",32)(3,mNl,5,4,"ng-container",25)(4,pNl,3,2,"cfc-message",33)(5,qNl,
2,3,"div",25)(6,rNl,2,2,"div",25)(7,yNl,11,12,"div",25),_.K()());a&2&&(a=_.Q(),_.H("flexContent",!0)("disablePadding",!0),_.y(),_.H("isLoading",a.detailsLoadingStatus===a.loadingStatus.LOADING)("renderDuringLoading",!0),_.y(),_.H("ngIf","FAILURE"===a.detailsLoadingStatus&&jNl(a.targetOpenEntity)),_.y(),_.H("ngIf",a.detailsLoadingStatus===a.loadingStatus.FAILURE),_.y(),_.H("ngIf",a.detailsLoadingStatus===a.loadingStatus.NONE),_.y(),_.H("ngIf",WMl(a.fetchedData)),_.y(),_.H("ngIf",XMl(a.fetchedData)),
_.y(),_.H("ngIf",YMl(a.fetchedData)))},ANl=function(a){a&1&&_.Kg(0)},BNl=function(a){a&1&&_.Kg(0)},CNl=function(a){if(a&1){const b=_.t();_.I(0,"cfc-right-panel-layout",4)(1,"cfc-main-panel-content",5);_.L(2,"cfc-action-bar",6);_.G(3,ANl,1,0,"ng-container",7);_.K();_.I(4,"cfc-right-panel-content",8);_.P("resize",function(c){_.v(b);const d=_.Q(2);d.lastRightDetailsPanelConfig=Object.assign({},d.lastRightDetailsPanelConfig,{size:c});return _.x(void 0)});_.G(5,BNl,1,0,"ng-container",7);_.K()()}if(a&2){a=
_.Q(2);const b=_.hh(3),c=_.hh(5);_.H("sidePanelConfig",a.defaultRightDetailsPanelConfig)("sidePanelIsExpanded","NONE"!==a.detailsLoadingStatus);_.y();_.H("addNavButtonInFullScreen",!0)("actionBarId",a.getActionBarId("MAIN"));_.y();_.H("id",a.getActionBarId("MAIN"))("hideComponent",!(null==a.rightPanelLayout?0:a.rightPanelLayout.shouldShowMainSwitchButton));_.y();_.H("ngTemplateOutlet",b);_.y();_.H("actionBarId",a.getActionBarId("SIDE"))("addNavButtonInFullScreen",!0);_.y();_.H("ngTemplateOutlet",
c)}},DNl=function(a){a&1&&(_.M(0),_.G(1,CNl,6,10,"cfc-right-panel-layout",3),_.N());a&2&&(a=_.Q(),_.y(),_.H("ngIf",a.showLineageGraph))},ENl=function(a){a&1&&_.Kg(0)},FNl=function(a){a&1&&_.Kg(0)},GNl=function(a){if(a&1){const b=_.t();_.I(0,"cfc-bottom-panel-layout",10)(1,"cfc-bottom-panel-layout-main-content");_.G(2,ENl,1,0,"ng-container",7);_.K();_.I(3,"cfc-bottom-panel-layout-bottom-content",11);_.P("resize",function(c){_.v(b);const d=_.Q(2);return _.x(d.handleBottomPanelResize(c))});_.G(4,FNl,
1,0,"ng-container",7);_.K()()}if(a&2){a=_.Q(2);const b=_.hh(3),c=_.hh(5);_.H("sidePanelHeight",a.defaultBottomDetailsPanelSize)("sidePanelIsExpanded","NONE"!==a.detailsLoadingStatus);_.y(2);_.H("ngTemplateOutlet",b);_.y();_.H("actionBarId",a.getActionBarId("SIDE"));_.y();_.H("ngTemplateOutlet",c)}},HNl=function(a){a&1&&(_.M(0),_.G(1,GNl,5,5,"cfc-bottom-panel-layout",9),_.N());a&2&&(a=_.Q(),_.y(),_.H("ngIf",a.showLineageGraph))},INl=function(a){a&1&&_.Ug(0,0,["*ngIf","viewType === LineageViewType.GRAPH"])},
JNl=function(a){a&1&&_.Ug(0,1,["*ngIf","viewType === LineageViewType.TABLE"])},KNl=function(a){a&1&&_.G(0,INl,1,0,"ng-content",2)(1,JNl,1,0,"ng-content",2);a&2&&(a=_.Q(),_.H("ngIf",a.viewType===a.LineageViewType.GRAPH),_.y(),_.H("ngIf",a.viewType===a.LineageViewType.TABLE))},LNl=function(a){a&1&&_.Ug(0,2)},NNl=function(a){if(a&1){const b=_.t();_.I(0,"cfc-progress-button",17)(1,"button",18);_.P("click",function(c){_.v(b);const d=_.Q().node;_.Q().expandNode(d,"UPSTREAM");return _.x(c.stopPropagation())});
_.L(2,"cfc-icon",19);_.K()()}if(a&2){a=_.Q().node;const b=_.Q();_.H("inProgress",MNl(b,a,"UPSTREAM"));_.y();_.H("ve",b.ve.DataCatalogLineageExpandButton)("veClick",!0)}},ONl=function(a){if(a&1){const b=_.t();_.I(0,"button",20);_.P("click",function(c){_.v(b);const d=_.Q().node;_.Q().collapseNode(d,"UPSTREAM");return _.x(c.stopPropagation())});_.L(1,"cfc-icon",21);_.K()}a&2&&(a=_.Q(2),_.H("ve",a.ve.DataCatalogLineageCollapseButton)("veClick",!0))},PNl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",22),_.N())},
QNl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",23),_.N())},RNl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",24),_.N())},SNl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",25),_.N())},TNl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",25),_.N())},UNl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",25),_.N())},VNl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",25),_.N())},WNl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",26),_.N())},XNl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",27),_.N());a&2&&(a=_.Q(2),_.y(),_.H("iconset",a.DataCatalogIconSetName))},
YNl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",28),_.N())},ZNl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",29),_.N())},$Nl=function(a){if(a&1){const b=_.t();_.I(0,"cfc-progress-button",30)(1,"button",31);_.P("click",function(c){_.v(b);const d=_.Q().node;_.Q().expandNode(d,"DOWNSTREAM");return _.x(c.stopPropagation())});_.L(2,"cfc-icon",19);_.K()()}if(a&2){a=_.Q().node;const b=_.Q();_.H("inProgress",MNl(b,a,"DOWNSTREAM"));_.y();_.H("ve",b.ve.DataCatalogLineageExpandButton)("veClick",!0)}},aOl=function(a){if(a&
1){const b=_.t();_.I(0,"button",32);_.P("click",function(c){_.v(b);const d=_.Q().node;_.Q().collapseNode(d,"DOWNSTREAM");return _.x(c.stopPropagation())});_.L(1,"cfc-icon",21);_.K()}a&2&&(a=_.Q(2),_.H("ve",a.ve.DataCatalogLineageCollapseButton)("veClick",!0))},dOl=function(a,b){if(a&1){const c=_.t();_.I(0,"div",8);_.G(1,NNl,3,3,"cfc-progress-button",9)(2,ONl,2,2,"button",10);_.I(3,"div",11);_.P("click",function(){const d=_.v(c).node,e=_.Q();return _.x(e.selectNode(d))})("focusin",function(d){_.v(c);
return _.x([d.preventDefault(),d.stopPropagation()])});_.M(4,12);_.G(5,PNl,2,0,"ng-container",13)(6,QNl,2,0,"ng-container",13)(7,RNl,2,0,"ng-container",13)(8,SNl,2,0,"ng-container",13)(9,TNl,2,0,"ng-container",13)(10,UNl,2,0,"ng-container",13)(11,VNl,2,0,"ng-container",13)(12,WNl,2,0,"ng-container",13)(13,XNl,2,1,"ng-container",13)(14,YNl,2,0,"ng-container",13)(15,ZNl,2,0,"ng-container",13);_.N();_.I(16,"b",14,3);_.S(18);_.K()();_.G(19,$Nl,3,3,"cfc-progress-button",15)(20,aOl,2,2,"button",16);_.K()}a&
2&&(a=b.node,b=_.Q(),_.Ag("dc-node-selected",b.selectedNode&&i8(b,null==b.selectedNode?null:b.selectedNode.node.id)===i8(b,a.id)),_.y(),_.H("ngIf",b.showExpandButton(a,"UPSTREAM")),_.y(),_.H("ngIf",bOl(b,a,"UPSTREAM")),_.y(),_.Ag("dc-asset-margin-left",!b.showExpandButton(a,"UPSTREAM")&&!bOl(b,a,"UPSTREAM"))("dc-asset-margin-right",!b.showExpandButton(a,"DOWNSTREAM")&&!bOl(b,a,"DOWNSTREAM")),_.H("cfcTooltip",b.getDisplayName(a))("cfcTooltipDisabled",!b.isTooltipEnabled(a))("ve",b.ve.DataCatalogLineageAssetNode)("veClick",
!0),_.wg("aria-label",a.displayName),_.y(),_.H("ngSwitch",cOl(b,a.id)),_.y(),_.H("ngSwitchCase",b.FqnSystemNameType.ANALYTICS_HUB),_.y(),_.H("ngSwitchCase",b.FqnSystemNameType.BIG_QUERY),_.y(),_.H("ngSwitchCase",b.FqnSystemNameType.CLOUD_STORAGE),_.y(),_.H("ngSwitchCase",b.FqnSystemNameType.CLOUD_SQL_MYSQL),_.y(),_.H("ngSwitchCase",b.FqnSystemNameType.CLOUD_SQL_POSTGRESQL),_.y(),_.H("ngSwitchCase",b.FqnSystemNameType.MYSQL),_.y(),_.H("ngSwitchCase",b.FqnSystemNameType.POSTGRES),_.y(),_.H("ngSwitchCase",
b.FqnSystemNameType.DATAPLEX),_.y(),_.H("ngSwitchCase",b.FqnSystemNameType.LOOKER_STUDIO),_.y(),_.H("ngSwitchCase",b.FqnSystemNameType.DATAPROC_METASTORE),_.y(),_.H("ngSwitchCase",b.FqnSystemNameType.VERTEX_AI),_.y(3),_.T(" ",b.getDisplayName(a)," "),_.y(),_.H("ngIf",b.showExpandButton(a,"DOWNSTREAM")),_.y(),_.H("ngIf",bOl(b,a,"DOWNSTREAM")))},eOl=function(a){if(a&1){const b=_.t();_.I(0,"div",33);_.P("focusin",function(c){_.v(b);return _.x([c.preventDefault(),c.stopPropagation()])});_.I(1,"button",
34);_.P("click",function(){const c=_.v(b).node,d=_.Q();return _.x(d.loadMore(c))});_.L(2,"cfc-icon",35);_.K()()}a&2&&(a=_.Q(),_.y(),_.H("ve",a.ve.DataCatalogLineageLoadMoreButton)("veClick",!0))},fOl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",37),_.N())},gOl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",38),_.N())},hOl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",39),_.N())},iOl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",40),_.N());a&2&&(a=_.Q(2),_.y(),_.H("iconset",a.DataCatalogIconSetName))},jOl=function(a){a&
1&&(_.M(0),_.L(1,"cfc-icon",41),_.N())},kOl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",42),_.N())},lOl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",43),_.N())},mOl=function(a){a&1&&(_.M(0),_.L(1,"cfc-icon",43),_.N())},oOl=function(a,b){if(a&1){const c=_.t();_.I(0,"div",36);_.P("click",function(){const d=_.v(c).node,e=_.Q();return _.x(e.selectNode(d))})("focusin",function(d){_.v(c);return _.x([d.preventDefault(),d.stopPropagation()])});_.M(1,12);_.G(2,fOl,2,0,"ng-container",13)(3,gOl,2,0,"ng-container",
13)(4,hOl,2,0,"ng-container",13)(5,iOl,2,1,"ng-container",13)(6,jOl,2,0,"ng-container",13)(7,kOl,2,0,"ng-container",13)(8,lOl,2,0,"ng-container",13)(9,mOl,2,0,"ng-container",13);_.N();_.K()}a&2&&(a=b.node,b=_.Q(),_.Ag("dc-node-selected",b.selectedNode&&i8(b,null==b.selectedNode?null:b.selectedNode.node.id)===i8(b,a.id)),_.H("cfcTooltip",nOl(b,a.id))("ve",b.ve.DataCatalogLineageProcessNode)("veClick",!0),_.wg("aria-label",nOl(b,a.id)),_.y(),_.H("ngSwitch",b.id2NodeInfos.get(a.id).origin.sourceType),
_.y(),_.H("ngSwitchCase",b.OriginSourceType.BIGQUERY),_.y(),_.H("ngSwitchCase",b.OriginSourceType.DATA_FUSION),_.y(),_.H("ngSwitchCase",b.OriginSourceType.COMPOSER),_.y(),_.H("ngSwitchCase",b.OriginSourceType.LOOKER_STUDIO),_.y(),_.H("ngSwitchCase",b.OriginSourceType.DATAPROC),_.y(),_.H("ngSwitchCase",b.OriginSourceType.VERTEX_AI),_.y(),_.H("ngSwitchCase",b.OriginSourceType.CUSTOM),_.y(),_.H("ngSwitchCase",b.OriginSourceType.SOURCE_TYPE_UNSPECIFIED))},pOl=function(a){a&1&&(_.I(0,"cfc-message",28)(1,
"cfc-message-text"),_.S(2),_.K()());a&2&&(a=_.Q(),_.y(2),_.T(" ",a.columnSelectorDisableTooltip," "))},qOl=function(a,b){a&1&&(_.I(0,"mat-option",25),_.S(1),_.K());a&2&&(a=b.$implicit,_.H("value",a),_.y(),_.T(" ",a.column," "))},rOl=function(a){if(a&1){const b=_.t();_.I(0,"cfc-unfold",15);_.P("unfoldedChange",function(c){_.v(b);_.Q().dependencyTypeSectionExpanded=c;return _.x(void 0)});_.I(1,"cfc-unfold-header",29)(2,"cfc-heading",30);_.O(3,7);_.K();_.I(4,"cfc-help-button",31)(5,"p",32);_.O(6,8);
_.K();_.I(7,"ul",33)(8,"li");_.O(9,9);_.K();_.I(10,"li");_.O(11,10);_.K();_.I(12,"li");_.O(13,11);_.K()()()();_.I(14,"cfc-unfold-hidden-content")(15,"mat-radio-group",34);_.P("change",function(c){_.v(b);_.Q().selectedDependencyType=c.value;return _.x(void 0)});_.I(16,"mat-radio-button",25);_.O(17,12);_.K();_.I(18,"mat-radio-button",25);_.O(19,13);_.K();_.I(20,"mat-radio-button",25);_.O(21,14);_.K()()()()}a&2&&(a=_.Q(),_.H("unfolded",a.dependencyTypeSectionExpanded),_.y(2),_.H("visualLevel",5)("semanticLevel",
3),_.y(13),_.H("cmDisabled",void 0===a.selectedColumn)("value",a.selectedDependencyType),_.y(),_.H("value",a.DependencyType.DEPENDENCY_TYPE_UNSPECIFIED),_.y(2),_.H("value",a.DependencyType.DATA),_.y(2),_.H("value",a.DependencyType.EXACT_COPY))},sOl=function(a){a&1&&_.Kg(0)},tOl=function(a){if(a&1){const b=_.t();_.I(0,"cfc-message",29)(1,"cfc-message-text");_.O(2,0);_.K();_.I(3,"cfc-message-actions")(4,"button",30);_.P("click",function(){_.v(b);const c=_.Q(2);return _.x(c.retryFetching())});_.O(5,
1);_.K()()()}},uOl=function(a){a&1&&(_.I(0,"cfc-message",29)(1,"cfc-message-text"),_.O(2,2),_.K()());a&2&&(a=_.Q(2),_.y(2),_.Qg(a.location),_.Rg(2))},vOl=function(a){a&1&&(_.I(0,"div"),_.G(1,tOl,6,0,"cfc-message",28)(2,uOl,3,1,"cfc-message",28),_.K());a&2&&(a=_.Q(),_.y(),_.H("ngIf",!a.isInvalidLocation),_.y(),_.H("ngIf",a.isInvalidLocation))},wOl=function(a){if(a&1){const b=_.t();_.I(0,"cfc-exposed-filter",31)(1,"button",32);_.P("click",function(){_.v(b);const c=_.Q(),d=_.bk(2,c.locale).format(new Date);
SKl(c.clientTableManager,`${c.name} CLL Data ${d}`);return _.x(void 0)});_.L(2,"cm-icon",33);_.K()()}a&2&&(a=_.Q(),_.y(),_.H("ve",a.ve.DataCatalogLineageExportCsvButton)("veClick",!0),_.y(),_.H("icon",a.icons.downloadIcon))},xOl=function(a){a&1&&(_.I(0,"a",36),_.S(1),_.K());if(a&2){a=_.Q().rowData;const b=_.Q();_.H("cfcRouterLink",a.sourceLink.commands)("queryParams",a.sourceLink.queryParams)("ve",b.ve.DataCatalogLineageListViewSourceLink)("veClick",!0);_.y();_.T(" ",a.source.entityName," ")}},yOl=
function(a){if(a&1){const b=_.t();_.I(0,"a",37);_.P("click",function(){_.v(b);const c=_.Q().rowData,d=_.Q();return _.x(d.onEnvironmentEvent.emit(c.sourceEnvironmentEvent))});_.S(1);_.K()}if(a&2){a=_.Q().rowData;const b=_.Q();_.H("ve",b.ve.DataCatalogLineageListViewSourceBQLink)("veClick",!0);_.y();_.T(" ",a.source.entityName," ")}},zOl=function(a){a&1&&(_.I(0,"span"),_.S(1),_.K());a&2&&(a=_.Q().rowData,_.y(),_.T(" ",a.source.entityName," "))},AOl=function(a,b){a&1&&(_.M(0),_.G(1,xOl,2,5,"a",34)(2,
yOl,2,3,"a",35)(3,zOl,2,1,"span",5),_.N());a&2&&(a=b.rowData,_.y(),_.H("ngIf",void 0!==a.sourceLink),_.y(),_.H("ngIf",void 0!==a.sourceEnvironmentEvent),_.y(),_.H("ngIf",!a.sourceLink&&!a.sourceEnvironmentEvent))},BOl=function(a){a&1&&_.L(0,"cfc-table-column",38);a&2&&_.H("nonHideable",!0)},COl=function(a){a&1&&(_.I(0,"a",36),_.S(1),_.K());if(a&2){a=_.Q().rowData;const b=_.Q();_.H("cfcRouterLink",a.targetLink.commands)("queryParams",a.targetLink.queryParams)("ve",b.ve.DataCatalogLineageListViewTargetLink)("veClick",
!0);_.y();_.T(" ",a.target.entityName," ")}},DOl=function(a){if(a&1){const b=_.t();_.I(0,"a",40);_.P("click",function(){_.v(b);const c=_.Q().rowData,d=_.Q();return _.x(d.onEnvironmentEvent.emit(c.targetEnvironmentEvent))});_.S(1);_.K()}if(a&2){a=_.Q().rowData;const b=_.Q();_.H("ve",b.ve.DataCatalogLineageListViewTargetBQLink)("veClick",!0);_.y();_.T(" ",a.target.entityName," ")}},EOl=function(a){a&1&&(_.I(0,"span"),_.S(1),_.K());a&2&&(a=_.Q().rowData,_.y(),_.T(" ",a.target.entityName," "))},FOl=function(a,
b){a&1&&(_.M(0),_.G(1,COl,2,5,"a",34)(2,DOl,2,3,"a",39)(3,EOl,2,1,"span",5),_.N());a&2&&(a=b.rowData,_.y(),_.H("ngIf",void 0!==a.targetLink),_.y(),_.H("ngIf",void 0!==a.targetEnvironmentEvent),_.y(),_.H("ngIf",!a.targetLink&&!a.targetEnvironmentEvent))},GOl=function(a){a&1&&_.L(0,"cfc-table-column",41);a&2&&_.H("nonHideable",!0)},HOl=function(a,b){a&1&&(_.M(0),_.S(1),_.N());a&2&&(a=b.rowData,b=_.Q(),_.y(),_.T(" ",b.userFacingSearchDirection(a.direction)," "))},IOl=function(a,b){a&1&&(_.I(0,"li",44),
_.S(1),_.K());a&2&&(a=b.$implicit,b=_.Q(2),_.y(),_.T(" ",b.userFacingDependencyTypeName(a.dependencyType)," "))},JOl=function(a,b){a&1&&(_.I(0,"ul",42),_.G(1,IOl,2,1,"li",43),_.K());a&2&&(a=b.rowData,_.y(),_.H("ngForOf",a.dependencyInfo))},KOl=function(a){a&1&&(_.I(0,"div",17)(1,"cfc-message",18)(2,"cfc-message-text"),_.S(3,' Lineage is not viewable for "No organization". To view lineage, select a project. '),_.K()()())},MOl=function(a){if(a&1){const b=_.t();_.I(0,"div",17)(1,"cfc-message",18)(2,
"cfc-message-text");_.M(3);_.Ng(4,2);_.L(5,"b");_.Og();_.N();_.M(6);_.Ng(7,3);_.L(8,"a",19);_.Og();_.N();_.K();_.I(9,"cfc-message-actions")(10,"cfc-progress-button",20)(11,"button",21);_.P("click",function(){_.v(b);const c=_.Q(2);return _.x(LOl(c))});_.O(12,4);_.K()()()()()}a&2&&(a=_.Q(2),_.y(5),_.Qg(null==a.lineageApiNotEnabledError?null:a.lineageApiNotEnabledError.projectRef),_.Rg(4),_.y(3),_.H("cfcDocLink",a.dl.CONSOLE__DATA_CATALOG_DOCS_CONCEPTS_ABOUT_DATA_LINEAGE),_.y(2),_.H("inProgress",a.isEnablingDataCatalogApi||
a.isEnablingDataLineageApi),_.y(),_.H("cfcIamCheck",a.enablePermissions)("cfcIamOperator",a.iamCheckOperator.AND)("cfcIamResource",a.getProjectStubIamCompatible(null==a.lineageApiNotEnabledError?null:a.lineageApiNotEnabledError.projectRef))("ve",a.ve.DataCatalogLineageEnableLink)("veClick",!0))},OOl=function(a){if(a&1){const b=_.t();_.I(0,"div",17)(1,"cfc-message",18)(2,"cfc-message-text");_.M(3);_.Ng(4,5);_.L(5,"b");_.Og();_.N();_.K();_.I(6,"cfc-message-actions")(7,"cfc-progress-button",20)(8,"button",
22);_.P("click",function(){_.v(b);const c=_.Q(2);return _.x(NOl(c))});_.O(9,6);_.K()()()()()}a&2&&(a=_.Q(2),_.y(5),_.Qg(null==a.billingNotEnabledError?null:a.billingNotEnabledError.projectRef),_.Rg(4),_.y(2),_.H("inProgress",a.linksLoadingStatus===a.loadingStatus.LOADING))},POl=function(a,b){a&1&&(_.M(0),_.G(1,MOl,13,8,"div",9)(2,OOl,10,2,"div",9),_.N());a&2&&(a=b.ngIf,b=_.Q(),_.y(),_.H("ngIf",!b.isLineageApiEnabled(a)),_.y(),_.H("ngIf",!b.isBillingEnabled(a)))},ROl=function(a){if(a&1){const b=_.t();
_.I(0,"cfc-message",23)(1,"cfc-message-text");_.O(2,7);_.K();_.I(3,"cfc-message-actions")(4,"button",22);_.P("click",function(){_.v(b);const c=_.Q();c.isDelayMessageDismissed$.next(!0);c.basicTypesService.update({key:QOl,value:{boolVal:!0}});return _.x(void 0)});_.O(5,8);_.K()()()}},SOl=function(a){if(a&1){const b=_.t();_.I(0,"article",24)(1,"dc-data-lineage-table-view",25);_.P("onChangeDetailsPanelEvent",function(c){_.v(b);const d=_.Q();return _.x(d.onChangeDetailsPanelEvent(c))})("onErrorEvent",
function(c){_.v(b);const d=_.Q();return _.x(d.onErrorEvent(c))})("onEnvironmentEvent",function(c){_.v(b);const d=_.Q();return _.x(d.onEnvironmentEvent.emit(c))});_.K()()}if(a&2){a=_.Q();const b=_.hh(14);_.y();_.H("fqn",a.fqn)("project",a.project)("location",a.location)("name",a.name)("host",a.host)("columns",a.rootAssetColumns)("columnsLoadingStatus",a.rootAssetColumnsLoadingStatus)("lineageControlBar",b)}},TOl=function(a){if(a&1){const b=_.t();_.I(0,"dc-lineage-lineage-control-bar",26);_.P("onChangeViewType",
function(c){_.v(b);const d=_.Q();return _.x(d.onChangeViewType(c))});_.K()}a&2&&(a=_.Q(),_.H("parentPanelViewType",a.LineageViewType.GRAPH)("selectedViewType",a.viewType))},UOl=function(a){if(a&1){const b=_.t();_.I(0,"dc-lineage-lineage-control-bar",26);_.P("onChangeViewType",function(c){_.v(b);const d=_.Q();return _.x(d.onChangeViewType(c))});_.K()}a&2&&(a=_.Q(),_.H("parentPanelViewType",a.LineageViewType.TABLE)("selectedViewType",a.viewType))},VOl=class extends _.Jj{constructor(a={}){super();this.Serializable$values.tagTemplates=
null==a.tagTemplates?null:a.tagTemplates;this.Serializable$values.canUpdates=null==a.canUpdates?null:a.canUpdates}get canUpdates(){return _.Z(this,"canUpdates")?_.X(this,"canUpdates"):this.canUpdates=[]}set canUpdates(a){this.Serializable$values.canUpdates=a}get tagTemplates(){return _.Z(this,"tagTemplates")?_.X(this,"tagTemplates"):this.tagTemplates=[]}set tagTemplates(a){this.Serializable$values.tagTemplates=a}getConstructor(){return VOl}getPartialClassMetadata(){return{keys:["canUpdates","tagTemplates"]}}},
WOl=function(a,b,c){_.Fx(b,RegExp("^projects/.*$"));return _.Gx(a.$apiClient,{body:c,httpMethod:"POST",methodId:"datacatalog.projects.testUpdateTagPermission",path:`/${a.gapiVersion}/${b}:testUpdateTagPermission`,queryParams:_.Kj({},_.$_,{}),responseCtor:VOl})},XOl=class extends _.Jj{constructor(a={}){super();this.Serializable$values.tagTemplates=null==a.tagTemplates?null:a.tagTemplates}get tagTemplates(){return _.Z(this,"tagTemplates")?_.X(this,"tagTemplates"):this.tagTemplates=[]}set tagTemplates(a){this.Serializable$values.tagTemplates=
a}getConstructor(){return XOl}getPartialClassMetadata(){return{keys:["tagTemplates"]}}},YOl=function(a,b,c){const d=_.V_g(b);b=[];for(let e=0;e<c.length;e+=500)b.push(c.slice(e,e+500));return _.$e(b).pipe(_.af(e=>{e=new XOl({tagTemplates:e});return WOl(a.dataCatalogApiService.projects,d,e).pipe(_.D(f=>{var {tagTemplates:g,canUpdates:n}=f;f=new Map;for(const p of g.entries()){const [r,u]=p;f.set(u,n[r])}return f}))}),_.Qf((e,f)=>new Map([...e,...f]),new Map))},ZOl=function(a,b){return a.dcApiService.search({query:"type=template OR type=tag_template OR type=annotation_template",
pageSize:500,startingIndexOrPageToken:b}).pipe(_.D(c=>{var {nextPageToken:d,results:e}=c;return{nextPageToken:d,templates:e.map(f=>{const g=f.relativeResourceName,{projectId:n,locationId:p,templateId:r}=_.TTg(g);let u=r;const w=f.attributes.title;w&&"number"!==typeof w&&"string"!==typeof w&&(u=w.stringValue||r);return{projectId:n,location:_.oZ(p),templateId:r,resourceName:g,linkedResource:f.linkedResource,modifiedTime:void 0===f.modifiedTime?void 0:new Date(f.modifiedTime),displayName:u,queryName:`${n}.${r}`,
fullName:`${n}.${p}.${r}`,iamCompatible:new _.Cj(g||"",104,u,f.linkedResource)}})}}))},$Ol=function(a){return ZOl(a,"").pipe(_.Hf(b=>{({nextPageToken:b}=b);return b?ZOl(a,b):_.gf}),_.Qf((b,c)=>{b.push(...c.templates);return b},[]))},aPl=function(a,b){const c=_.V_g(b);return a.dataCatalogApiService.tags.list(c,{pageSize:1E3,pageToken:void 0}).pipe(_.Hf(d=>{({nextPageToken:d}=d);return d?a.dataCatalogApiService.tags.list(c,{pageSize:1E3,pageToken:d}):_.gf}),_.Qf((d,e)=>{d.push(...e.tags);return d},
[]))},bPl=function(a,b){return b.map(c=>_.T4g(a.tagFormService,c))},cPl={type:1,path:"/data-catalog/docs/concepts/about-data-lineage"},JJl=class extends _.Pt{constructor(){super();this.p=_.EWa();this.d=_.FWa();this.m=new _.Sj("query","m");_.Kt(this,["bigquery"]);_.Lt(this,{page:"model"})}},MJl=class extends _.Pt{constructor(){super();this.p=_.EWa();this.c=new _.Sj("query","c");_.Kt(this,["bigquery"]);_.Lt(this,{page:"connection"})}},KJl=class extends _.Pt{constructor(){super();this.p=_.EWa();this.d=
_.FWa();this.r=new _.Sj("query","r");_.Kt(this,["bigquery"]);_.Lt(this,{page:"routine"})}},dPl={SOURCE_TYPE_UNSPECIFIED:"SOURCE_TYPE_UNSPECIFIED",CUSTOM:"CUSTOM",BIGQUERY:"BIGQUERY",DATA_FUSION:"DATA_FUSION",COMPOSER:"COMPOSER",LOOKER_STUDIO:"LOOKER_STUDIO",DATAPROC:"DATAPROC",VERTEX_AI:"VERTEX_AI"},ePl=class extends _.afe{constructor(){super();this.locationId=new _.Sj("path","locationId");this.environmentId=new _.Sj("path","environmentId");this.dagId=new _.Sj("path","dagId");_.Kt(this,["dags",this.locationId,
this.environmentId,this.dagId])}},fPl=class extends ePl{constructor(){super();this.dagDetailsTabId=new _.W0b([..._.cfe],"path","dagDetailsTabId");_.Kt(this,[this.dagDetailsTabId])}},gPl=class extends _.L3g{constructor(){super();_.Kt(this,["models"])}},hPl=class extends gPl{constructor(){super();this.locationId=new _.Sj("path","locationId");_.Kt(this,["locations",this.locationId]);_.Kt(this,["models"])}},iPl=class extends hPl{constructor(){super();this.modelId=new _.Sj("path","modelId");_.Kt(this,
[this.modelId])}},jPl=class extends iPl{constructor(){super();this.modelVersionId=new _.Sj("path","versionId");_.Kt(this,["versions",this.modelVersionId])}},kPl=class extends jPl{constructor(){super();_.Kt(this,["evaluations"])}},lPl=class extends _.L3g{constructor(){super();this.locationId=new _.Sj("path","locationId");_.Kt(this,["locations",this.locationId])}},mPl=class extends lPl{constructor(){super();this.datasetId=new _.Sj("path","datasetId");_.Kt(this,["datasets",this.datasetId])}},nPl=class extends mPl{constructor(){super();
_.Kt(this,["browse"])}},oPl=class extends _.gLf{constructor(){super();_.Kt(this,["databases"])}},pPl=class extends oPl{constructor(){super();this.databaseId=new _.Sj("path","databaseId");_.Kt(this,[this.databaseId])}},SJl=class extends pPl{constructor(){super();_.Kt(this,["details"])}},qPl=class extends pPl{constructor(){super();this.tableId=new _.Sj("path","tableId");_.Kt(this,["tables",this.tableId])}},TJl=class extends qPl{constructor(){super();_.Kt(this,["details"])}},JKl=class extends _.cmg{constructor(){super();
this.projectId=_.b_g();this.locationId=_.bmg();this.entryGroupId=_.c_g();this.entryId=new _.Sj("path","entryId");_.Kt(this,["projects",this.projectId,"locations",this.locationId,"entryGroups",this.entryGroupId,"entries",this.entryId])}},WJl=class extends kPl{constructor(){super();this.projectId=new _.Sj("query","project");_.Kt(this,[])}},XJl=class extends nPl{constructor(){super();this.projectId=new _.Sj("query","project");_.Kt(this,[])}},rPl=class extends _.Pt{constructor(){super();this.project=
new _.Sj("query","project");_.Kt(this,["bigtable"])}},sPl=class extends rPl{constructor(){super();_.Kt(this,["instances"])}},tPl=class extends sPl{constructor(){super();this.instanceId=new _.Sj("path","instanceId");_.Kt(this,[this.instanceId])}},uPl=class extends tPl{constructor(){super();this.tableId=new _.Sj("path","tableId");_.Kt(this,["tables",this.tableId])}},VJl=class extends uPl{constructor(){super();_.Kt(this,["overview"])}},UJl=class extends tPl{constructor(){super();_.Kt(this,["overview"])}},
vPl=class extends _.Gmg{constructor(){super();_.Kt(this,["lakes"])}},RJl=class extends vPl{constructor(){super();this.id=iJl();this.location=_.Dmg();this.project=_.Cmg();_.Kt(this,[this.id])}},QJl=class extends vPl{constructor(){super();this.id=iJl();this.location=_.Dmg();this.project=_.Cmg();this.zoneId=new _.Sj("path","zoneId");_.Kt(this,[this.id,"zones",this.zoneId])}},wPl=class extends vPl{constructor(){super();this.id=iJl();this.location=_.Dmg();this.zoneId=new _.Sj("path","zoneId");this.assetId=
new _.Sj("path","assetId");_.Kt(this,[this.id,"zones",this.zoneId,"assets",this.assetId])}},xJl={DATASET:"DATASET",DATA_STREAM:"DATA_STREAM",ENTRY_TYPE_UNSPECIFIED:"ENTRY_TYPE_UNSPECIFIED",FILESET:"FILESET",TABLE:"TABLE",CLUSTER:"CLUSTER",DATA_SOURCE_CONNECTION:"DATA_SOURCE_CONNECTION"},xPl={DIRECTION_UNSPECIFIED:"DIRECTION_UNSPECIFIED",DOWNSTREAM:"DOWNSTREAM",UPSTREAM:"UPSTREAM",BOTH:"BOTH"},yPl={DEPENDENCY_TYPE_UNSPECIFIED:"DEPENDENCY_TYPE_UNSPECIFIED",EXACT_COPY:"EXACT_COPY",DATA:"DATA",OTHER:"OTHER"},
xKl={BQ_TABLE:"bigquery.tables.updateTag",BQ_DATASET:"bigquery.datasets.updateTag",BQ_MODEL:"bigquery.models.updateTag",BQ_ROUTINE:"bigquery.routines.updateTag",BQ_CONNECTION:"bigquery.connections.updateTag",PUBSUB_TOPIC:"pubsub.topics.updateTag",DC_CUSTOM:"datacatalog.entries.updateTag",DC_FILESET:"datacatalog.entries.updateTag",KAFKA_TOPIC:"datacatalog.entries.updateTag",KAFKA_CLUSTER:"datacatalog.entries.updateTag",DATAPLEX_TABLE:"dataplex.entities.update",DATAPLEX_FILESET:"dataplex.entities.update",
DPMS_TABLE:"metastore.tables.update",DPMS_DATABASE:"metastore.databases.update",DPMS_SERVICE:"metastore.services.update",DATAPLEX_LAKE:"dataplex.lakes.update",DATAPLEX_ZONE:"dataplex.zones.update",MY_SQL_SERVICE:"datacatalog.entries.updateTag",MY_SQL_SCHEMA:"datacatalog.entries.updateTag",MY_SQL_TABLE:"datacatalog.entries.updateTag",POSTGRE_SQL_SERVICE:"datacatalog.entries.updateTag",POSTGRE_SQL_DATABASE:"datacatalog.entries.updateTag",POSTGRE_SQL_SCHEMA:"datacatalog.entries.updateTag",POSTGRE_SQL_TABLE:"datacatalog.entries.updateTag",
LOOKER_SERVICE:"datacatalog.entries.updateTag",LOOKER_DASHBOARD:"datacatalog.entries.updateTag",LOOKER_LOOK:"datacatalog.entries.updateTag",LOOKER_EXPLORE:"datacatalog.entries.updateTag",SPANNER_TABLE:"spanner.databases.updateTag",SPANNER_DATABASE:"spanner.databases.updateTag",SPANNER_SERVICE:"spanner.instances.updateTag",BIGTABLE_SERVICE:"bigtable.instances.update",BIGTABLE_TABLE:"bigtable.tables.update"},zPl=class extends _.mXk{constructor(){super();_.Kt(this,["jobs"])}},APl=class extends zPl{constructor(){super();
this.jobId=new _.Sj("path","id");_.Kt(this,[this.jobId])}},BPl=class extends _.mXk{constructor(){super();_.Kt(this,["clusters"])}},CPl=class extends BPl{constructor(){super();this.clusterName=new _.Sj("path","id");_.Kt(this,[this.clusterName])}},DPl={ANALYTICS_HUB:"analytics_hub",BIG_QUERY:"bigquery",CLOUD_STORAGE:"gs",CLOUD_SQL_MYSQL:"cloudsql_mysql",CLOUD_SQL_POSTGRESQL:"cloudsql_postgresql",MYSQL:"mysql",POSTGRES:"postgres",DATAPLEX:"dataplex",LOOKER_STUDIO:"looker",DATAPROC_METASTORE:"dataproc_metastore",
VERTEX_AI:"vertex_ai"},EPl={NONE:"NONE",LOADING:"LOADING",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},FPl={NONE:0,PROCESS:1,LINK:2,ASSET:3,0:"NONE",1:"PROCESS",2:"LINK",3:"ASSET"},GPl={TABLE:0,GRAPH:1,0:"TABLE",1:"GRAPH"},FKl=/Data Lineage API\s?(\((autopush|staging)\))? has not been used in project ([^\s]+)/i,HPl=/Invalid lineage location ([^\s]+)/;var IPl=class{constructor(a,b){this.dcColiseumApiService=a;this.dataCatalogGraphqlService=b}getProcessDetails(a){return this.dataCatalogGraphqlService.getProcessDetails(a)}getProcessBigQuerySpec({jobId:a,fullyQualifiedName:b,projectId:c,location:d}){return this.dataCatalogGraphqlService.getProcessBigQuerySpec({jobId:a,fullyQualifiedName:b,projectId:c,location:d})}getRunDetails(a){return this.dcColiseumApiService.getRunDetails(a)}listRuns(a,b="",c=10){return this.dcColiseumApiService.listRuns(a,b,
c)}searchLinks(a,b,c,d="",e=10){return this.dcColiseumApiService.searchLinks({project:b,fullyQualifiedName:a,direction:"UPSTREAM"===c?"LINK_DIRECTION_UPSTREAM":"LINK_DIRECTION_DOWNSTREAM",pageToken:d,pageSize:e})}};IPl.\u0275fac=function(a){return new (a||IPl)(_.l(_.LXg),_.l(_.M_))};IPl.\u0275prov=_.h({token:IPl,factory:IPl.\u0275fac,providedIn:"root"});var JPl=class{constructor(){this.onChangeViewType=new _.ms;this.LineageViewType=GPl;this.infoIcon=_.HAd;this.ve={DataCatalogLineageGraphViewToggle:204630,DataCatalogLineageListViewToggle:204635}}onTabChange(a){this.onChangeViewType.emit(a.value)}ngOnChanges(a){if(a.selectedViewType&&a.selectedViewType.currentValue===this.parentPanelViewType&&!a.selectedViewType.firstChange){let b;null==(b=this.buttonToggleGroup._buttonToggles.find(c=>c.value===this.parentPanelViewType))||b.focus()}}};
JPl.\u0275fac=function(a){return new (a||JPl)};
JPl.\u0275cmp=_.m({type:JPl,selectors:[["dc-lineage-lineage-control-bar"]],viewQuery:function(a,b){a&1&&_.ch(_.rz,5);if(a&2){let c;_.eh(c=_.gh())&&(b.buttonToggleGroup=c.first)}},inputs:{selectedViewType:"selectedViewType",parentPanelViewType:"parentPanelViewType"},outputs:{onChangeViewType:"onChangeViewType"},features:[_.Od],decls:7,vars:9,consts:()=>[" Graph "," List "," Lineage in list view is regionalised for the scope of preview. ",[1,"cfc-flex-center-aligned","cfc-flex-container"],["aria-label",
"Lineage view type selector","appearance","legacy",1,"cfc-button-small","cfc-flex-no-shrink",3,"change"],[3,"value","checked","ve","veClick"],[4,"ngIf"],[1,"cfc-indent","cfc-color-secondary",3,"icon"],[1,"cfc-color-secondary"]],template:function(a,b){a&1&&(_.I(0,"div",3)(1,"mat-button-toggle-group",4),_.P("change",function(c){return b.onTabChange(c)}),_.I(2,"mat-button-toggle",5),_.O(3,0),_.K(),_.I(4,"mat-button-toggle",5),_.O(5,1),_.K()(),_.G(6,UKl,4,1,"ng-container",6),_.K());a&2&&(_.y(2),_.H("value",
b.LineageViewType.GRAPH)("checked",b.selectedViewType==b.LineageViewType.GRAPH)("ve",b.ve.DataCatalogLineageGraphViewToggle)("veClick",!0),_.y(2),_.H("value",b.LineageViewType.TABLE)("checked",b.selectedViewType==b.LineageViewType.TABLE)("ve",b.ve.DataCatalogLineageListViewToggle)("veClick",!0),_.y(2),_.H("ngIf",b.parentPanelViewType===b.LineageViewType.TABLE))},dependencies:[_.bz,_.bA,_.xs,_.rz,_.sz,_.vv],encapsulation:2,changeDetection:0});var KPl=[_.Ms,_.tz,_.vv],LPl=class{};LPl.\u0275fac=function(a){return new (a||LPl)};LPl.\u0275mod=_.q({type:LPl});LPl.\u0275inj=_.k({imports:[_.UA,KPl]});var MPl=[[["",8,"cfc-action-bar-content-right"]]],NPl={BIGQUERY_TABLE_IN_BQUI:0,DEFAULT:1,0:"BIGQUERY_TABLE_IN_BQUI",1:"DEFAULT"},OPl=class{constructor(){this.host=1;this.onEnvironmentEvent=new _.ms;this.Implementations=NPl}ngOnInit(){this.entryDetailsLink=this.getEntryDetailsLink(this.entry);this.implementation=vJl(this.entry)&&0===this.host?0:1;if(vJl(this.entry)){var a=this.entry;this.bigQueryLink=LKl(a.projectId,a.datasetId,a.tableId)}}getEntryDetailsLink(a){const {projectId:b,locationId:c,entryGroupId:d,
entryId:e}=FJl(a.name);return KKl(b,c,d,e)}handleQueryNewTab(){this.onEnvironmentEvent.emit({type:1,entry:this.entry,location:"NEW_TAB"})}};OPl.\u0275fac=function(a){return new (a||OPl)};
OPl.\u0275cmp=_.m({type:OPl,selectors:[["dc-lineage-asset-action-bar"]],inputs:{entry:"entry",isRoot:"isRoot",host:"host",actionBarConfig:"actionBarConfig"},outputs:{onEnvironmentEvent:"onEnvironmentEvent"},ngContentSelectors:[".cfc-action-bar-content-right"],decls:7,vars:5,consts:()=>[["queryMenu",""],"\ufffd#3\ufffd\ufffd/#3\ufffd Open lineage ","\ufffd#6\ufffd\ufffd/#6\ufffd Query ","\ufffd#3\ufffd\ufffd/#3\ufffd Open lineage ","\ufffd#3\ufffd\ufffd/#3\ufffd Open in BigQuery ",[3,"id","cfcTitle",
"cdkFocusInitialOnTitle"],[1,"cfc-action-bar-content-main"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"cfc-action-bar-content-right"],["mat-button","","cfcDisableTooltip","You are already viewing lineage of this entry",3,"click","cfcDisable"],"icon m-bigquery iconset cloud_ai size small".split(" "),["mat-button","","cfcMenuButton","","id","lineage-bq-query-button",3,"cfcMenuTriggerFor"],["ariaLabelledBy","lineage-bq-query-button"],["label","New tab",3,"click"],["label","Split tab",
3,"click"],["mat-button","","fragment","lineage","target","_blank","cfcDisableTooltip","You are already viewing lineage of this entry",3,"cfcRouterLink","queryParams","cfcDisable"],["icon","DATAPLEX_SECTION","iconset","shelllogos","size","medium",1,"cfc-icon-size-small"],[4,"ngIf"],["mat-button","","fragment","details","target","_blank",3,"cfcRouterLink","queryParams"]],template:function(a,b){a&1&&(_.Tg(MPl),_.I(0,"cfc-action-bar",5)(1,"div",6),_.M(2,7),_.G(3,VKl,12,2,"ng-container",8)(4,XKl,5,4,
"ng-container",9),_.N(),_.K(),_.I(5,"div",10),_.Ug(6),_.K()());a&2&&(_.H("id",b.actionBarConfig.id)("cfcTitle",b.actionBarConfig.title)("cdkFocusInitialOnTitle",b.actionBarConfig.focusInitialOnTitle),_.y(2),_.H("ngSwitch",b.implementation),_.y(),_.H("ngSwitchCase",b.Implementations.BIGQUERY_TABLE_IN_BQUI))},dependencies:[_.eF,_.Jy,_.iw,_.hw,_.Gy,_.xs,_.ys,_.zs,_.Cs,_.qz,_.Gv,_.QM,_.SA,_.fA,_.RA,_.YA,_.Yz],encapsulation:2,changeDetection:0});var PPl=class{transform(a){return a?_.oZ(a).displayName:""}};PPl.\u0275fac=function(a){return new (a||PPl)};PPl.\u0275pipe=_.Cd({name:"dcLocationDisplayName",type:PPl,pure:!0});var QPl=class{};QPl.\u0275fac=function(a){return new (a||QPl)};QPl.\u0275mod=_.q({type:QPl});QPl.\u0275inj=_.k({});var RPl=new _.$r("45425373");var SPl=class{constructor(){this.hasExtraPadding=this.showEntryName=!1;this.onEnvironmentEvent=new _.ms;this.hasBasicInfo=kJl;this.hasBigqueryInfo=nJl;this.hasTableInfo=lJl;this.hasSqlDatabaseSystemInfo=jJl;this.hasFullyQualifiedName=qJl;this.hasCreateTime=rJl;this.hasUpdateTime=sJl;this.hasExpireTime=tJl;this.hasDescription=uJl;this.hasDataplexSpec=pJl;this.hasDataSource=oJl;this.tableViewExperimentOn=_.Xc(RPl)}ngOnInit(){var a=this.entry;if(pJl(a)&&!0===a.hasDataplexLakeInfo&&!0===a.hasDataplexZoneInfo){a=
this.entry;const b=wPl.create();this.dataplexAssetLink={commands:_.Mt(b).set(b.id,a.lake).set(b.zoneId,a.zone).set(b.assetId,a.asset.split("/")[9]).set(b.location,a.asset.split("/")[3]).build(),queryParams:{project:a.projectIdInDataplexSpec}}}}handleQueryNewTab(){this.onEnvironmentEvent.emit(this.fqnLinkClickEnvironmentEvent)}ngOnChanges(){if(this.tableViewExperimentOn)if(0===this.host&&vJl(this.entry))this.nativeAssetLinkFromFqn=void 0,this.fqnLinkClickEnvironmentEvent={type:0,entry:{projectId:this.entry.projectId,
datasetId:this.entry.datasetId,tableId:this.entry.tableId},location:"NEW_TAB"};else{this.fqnLinkClickEnvironmentEvent=void 0;if(qJl(this.entry))a:{try{const {system:e,path:f}=_.P_(this.entry.fullyQualifiedName);switch(e){case "bigquery":const g=_.Q_(f);if(3===g.length){var [a,b,c]=g;var d=LKl(a,b,c);break a}}}catch(e){}d=void 0}else d=void 0;this.nativeAssetLinkFromFqn=d}}};SPl.\u0275fac=function(a){return new (a||SPl)};
SPl.\u0275cmp=_.m({type:SPl,selectors:[["dc-lineage-asset-default-details"]],inputs:{entry:"entry",showEntryName:"showEntryName",host:"host",hasExtraPadding:"hasExtraPadding"},outputs:{onEnvironmentEvent:"onEnvironmentEvent"},standalone:!0,features:[_.Od,_.oh],decls:22,vars:18,consts:()=>["Type","Name","Table type","Project","Dataset","System","Sql engine","Database version","Instance host"," Asset ","Entry source","Entry resource","Compression format","Created at","Last modified at","Expires at",
"Location","Fully qualified name","Description",["cfc-kv-list","",1,"cfc-width-full",3,"ngClass"],[4,"ngIf"],[3,"cfcRouterLink","queryParams",4,"ngIf"],[3,"cfcRouterLink","queryParams"],[3,"cfcRouterLink",4,"ngIf"],[3,"cfcRouterLink"],["cfcSemanticButton","","aria-label","Open lineage in new BigQuery tab",3,"click"],["target","_blank","rel","noopener noreferrer",3,"cfcRouterLink","queryParams"]],template:function(a,b){a&1&&(_.I(0,"dl",19),_.G(1,YKl,5,1,"div",20),_.I(2,"div")(3,"dt"),_.O(4,0),_.K(),
_.I(5,"dd"),_.S(6),_.K()(),_.G(7,ZKl,5,1,"div",20)(8,$Kl,5,1,"div",20)(9,aLl,5,1,"div",20)(10,bLl,5,1,"div",20)(11,cLl,16,3,"ng-container",20)(12,fLl,6,2,"div",20)(13,gLl,5,1,"div",20)(14,jLl,6,2,"div",20)(15,kLl,5,1,"div",20)(16,lLl,6,4,"div",20)(17,mLl,6,4,"div",20)(18,nLl,6,4,"div",20)(19,oLl,6,3,"div",20)(20,sLl,6,3,"div",20)(21,tLl,5,1,"div",20),_.K());a&2&&(_.H("ngClass",b.hasExtraPadding?"dc-lineage-default-details-extra":"dc-lineage-default-details"),_.y(),_.H("ngIf",b.showEntryName),_.y(5),
_.ih(b.entry.typeTranslated),_.y(),_.H("ngIf",b.hasTableInfo(b.entry)),_.y(),_.H("ngIf",b.hasBasicInfo(b.entry)),_.y(),_.H("ngIf",b.hasBigqueryInfo(b.entry)),_.y(),_.H("ngIf",b.hasBasicInfo(b.entry)),_.y(),_.H("ngIf",b.hasSqlDatabaseSystemInfo(b.entry)),_.y(),_.H("ngIf",b.hasDataplexSpec(b.entry)),_.y(),_.H("ngIf",b.hasDataSource(b.entry)),_.y(),_.H("ngIf",b.hasDataSource(b.entry)&&b.entry.resource),_.y(),_.H("ngIf",b.hasDataplexSpec(b.entry)),_.y(),_.H("ngIf",b.hasCreateTime(b.entry)),_.y(),_.H("ngIf",
b.hasUpdateTime(b.entry)),_.y(),_.H("ngIf",b.hasExpireTime(b.entry)),_.y(),_.H("ngIf",b.hasBasicInfo(b.entry)),_.y(),_.H("ngIf",b.hasFullyQualifiedName(b.entry)),_.y(),_.H("ngIf",b.hasDescription(b.entry)))},dependencies:[QPl,PPl,_.Hs,_.HB,_.DB,_.vs,_.xs,_.bB,_.Yz,_.ZQ,_.TQ],styles:["dl.dc-lineage-default-details[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{padding-left:16px}dl.dc-lineage-default-details[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{padding-right:16px}dl.dc-lineage-default-details-extra[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{padding-left:32px}dl.dc-lineage-default-details-extra[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{padding-right:32px}"],
changeDetection:0});var TPl=function(a,b){const c=$Ol(a.entryDetailsApiService).pipe(_.hg(()=>{},f=>{a.sendError("loadTemplatesError",f)}),_.$f({bufferSize:1,refCount:!0})),d=aPl(a.entryDetailsApiService,b).pipe(_.hg(()=>{},f=>{a.sendError("loadTagsError",f)}),_.$f({bufferSize:1,refCount:!0})),e=_.ef([c.pipe(_.D(f=>f.map(g=>g.resourceName))),d.pipe(_.D(f=>f.map(g=>g.template)))]).pipe(_.D(([f,g])=>[...(new Set([...f,...g]))])).pipe(_.af(f=>YOl(a.entryDetailsApiService,b,f).pipe(_.hg(()=>{},g=>{a.sendError("loadTemplatePermissionsError",
g)}))));return _.We([d,c,e]).pipe(_.D(([f,g,n])=>{const p=g.filter(r=>!1!==n.get(r.resourceName));g=g.filter(r=>!1===n.get(r.resourceName));f=EJl(f,n);return{allowedTemplates:p,disallowedTemplates:g,tags:f}}),_.uf(f=>_.B(f)))},UPl=class{constructor(a,b){this.entryDetailsApiService=a;this.analyticsService=b}sendError(a,b){b&&_.bTg(_.dTg(this.analyticsService,"dcEntryDetailsNg2"),a)}};UPl.\u0275fac=function(a){return new (a||UPl)(_.l(_.o0),_.l(_.N_))};
UPl.\u0275prov=_.h({token:UPl,factory:UPl.\u0275fac,providedIn:"root"});var VPl=class{constructor(){this.fieldKeys=["column","mode","type","description","subcolumns"]}fromSchema(a){return a.map(b=>{var c=Object.assign({},b),d=b.name;const e=b.type,f=b.mode,g=b.description;b=b.fields;c=(delete c.name,delete c.type,delete c.mode,delete c.description,delete c.fields,c);d=Object.assign({},{column:d||"",type:e||"",mode:f,description:g},c);b&&(d.subcolumns=this.fromSchema(b));return d})}toSchema(a){return a.map(b=>{var c=Object.assign({},b),d=b.column;const e=b.type,f=b.mode,
g=b.description;b=b.subcolumns;c=(delete c.column,delete c.type,delete c.mode,delete c.description,delete c.subcolumns,c);d=Object.assign({},{name:d,type:e,mode:f,description:g},c);b&&(d.fields=this.toSchema(b));return d})}};var XPl=function(a){a.columnTagsLoadingStatus=0;a.columnTagsFormDataMap.clear();TPl(a.loadTagsService,a.entry).pipe(_.eg(a.cancelPendingRequests$),_.Gf(1)).subscribe(b=>{if(b instanceof _.Zi)a.columnTagsLoadingStatus=2,a.errorService.handleError(b,{errorMessage:{subject:"Failed to load tags",body:b.message},errorExperience:4,presentationFormat:2});else{a.columnTagsLoadingStatus=1;b=WPl(b.tags||[],yKl(a.entry));var c=wKl({apiEntry:a.entry.apiEntry,tags:b});c.overview=a.entry.overview;c.contacts=a.entry.contacts;
!0===a.entry.hasExternalTables&&!0===c.hasExternalTables&&(c.externalTables=a.entry.externalTables);b=a.schemaViewerService;c=c.columnTags;const d=new Map;for(const [e,f]of c)d.set(e,bPl(b,f));a.columnTagsFormDataMap=d}a.ref.markForCheck()})},WPl=function(a,b){return a.map(c=>Object.assign({},c,{attachTagPermission:b}))},YPl=class{constructor(a,b,c,d){this.schemaViewerService=a;this.errorService=b;this.loadTagsService=c;this.ref=d;this.converter=new VPl;this.presentedColumns=["name","type","description",
"businessGlossary","columnTags"];this.fullBleedConfig={mode:"never",keepBottomPadding:!0};this.schemaFields=[];this.columnTagsLoadingStatus=0;this.columnTagsFormDataMap=new Map;this.cancelPendingRequests$=new _.Yf;this.ve={DataCatalogLineageSchemaViewerViewPage:179063}}initialize(){this.schemaFields=this.converter.toSchema(this.entry.nestedSchema);this.cancelPendingRequests$.next();XPl(this)}ngOnChanges(){this.initialize()}ngOnDestroy(){this.cancelPendingRequests$.next();this.cancelPendingRequests$.complete()}};
YPl.\u0275fac=function(a){return new (a||YPl)(_.A(_.p0),_.A(_.KB),_.A(UPl),_.A(_.gs))};
YPl.\u0275cmp=_.m({type:YPl,selectors:[["dc-lineage-asset-default-schema-viewer-container"]],inputs:{entry:"entry"},standalone:!0,features:[_.Od,_.oh],decls:1,vars:9,consts:[[3,"ve","veImpression","fields","columnTagsLoadingStatus","columnTags","basicColumns","fullBleedConfig","readOnly","entryIdentifier"]],template:function(a,b){a&1&&_.L(0,"dc-schema-viewer",0);a&2&&_.H("ve",b.ve.DataCatalogLineageSchemaViewerViewPage)("veImpression",!0)("fields",b.schemaFields)("columnTagsLoadingStatus",b.columnTagsLoadingStatus)("columnTags",
b.columnTagsFormDataMap)("basicColumns",b.presentedColumns)("fullBleedConfig",b.fullBleedConfig)("readOnly",!0)("entryIdentifier",b.entry)},dependencies:[_.bA,_.UA,_.t0,_.s0],encapsulation:2,changeDetection:0});var ZPl=class{};ZPl.\u0275fac=function(a){return new (a||ZPl)};
ZPl.\u0275cmp=_.m({type:ZPl,selectors:[["dc-lineage-column-details"]],inputs:{columnDetails:"columnDetails"},decls:22,vars:4,consts:()=>["Name","Type","Mode","Description",[1,"dc-lineage-column-details"],["cfc-kv-list","",1,"cfc-width-full"]],template:function(a,b){a&1&&(_.I(0,"div",4)(1,"dl",5)(2,"div")(3,"dt"),_.O(4,0),_.K(),_.I(5,"dd"),_.S(6),_.K()(),_.I(7,"div")(8,"dt"),_.O(9,1),_.K(),_.I(10,"dd"),_.S(11),_.K()(),_.I(12,"div")(13,"dt"),_.O(14,2),_.K(),_.I(15,"dd"),_.S(16),_.K()(),_.I(17,"div")(18,
"dt"),_.O(19,3),_.K(),_.I(20,"dd"),_.S(21),_.K()()()());a&2&&(_.y(6),_.ih(b.columnDetails.name),_.y(5),_.ih(b.columnDetails.type),_.y(5),_.ih(b.columnDetails.mode),_.y(5),_.ih(b.columnDetails.description))},dependencies:[_.DB],styles:["dl[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{padding-left:32px}dl[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{padding-right:32px}"],changeDetection:0});var $Pl=class{};$Pl.\u0275fac=function(a){return new (a||$Pl)};$Pl.\u0275mod=_.q({type:$Pl});
$Pl.\u0275inj=_.k({imports:[_.UA,_.Rz,_.HB]});var aQl={ASSET:0,COLUMN:1,0:"ASSET",1:"COLUMN"},bQl=class{constructor(){this.inlineLayout=!1;this.onEnvironmentEvent=new _.ms;this.layoutType=aQl;this.displayType=0;this.isBigQueryLink=!1;this.ve={DataCatalogLineageVisualizeLineageButton:206184,DataCatalogLineageVisualizeLineageLink:206185}}ngOnChanges(){this.breadcrumbs={items:this.generateBreadcrumbModel()};this.displayType=this.entryColumn?1:0;0===this.host&&vJl(this.entry)?(this.isBigQueryLink=!0,this.fqnLinkClickEnvironmentEvent={type:0,entry:{projectId:this.entry.projectId,
datasetId:this.entry.datasetId,tableId:this.entry.tableId},location:"NEW_TAB"}):(this.isBigQueryLink=!1,this.fqnLinkClickEnvironmentEvent=void 0,this.assetDetailsLink=this.getEntryDetailsLink(this.entry))}handleQueryNewTab(){this.onEnvironmentEvent.emit(this.fqnLinkClickEnvironmentEvent)}getEntryDetailsLink(a){const {projectId:b,locationId:c,entryGroupId:d,entryId:e}=FJl(a.name);return KKl(b,c,d,e)}hasSchema(a){return mJl(a)}generateBreadcrumbModel(){const a=[];if(!this.inlineLayout||!this.entry||
!this.entryColumn)return a;a.push({kind:"button",label:this.entry.shortName,click:()=>{this.displayType=0}});a.push({kind:"button",label:this.entryColumn.name,click:()=>{this.displayType=1}});return a}};bQl.\u0275fac=function(a){return new (a||bQl)};
bQl.\u0275cmp=_.m({type:bQl,selectors:[["dc-lineage-asset-default-layout"]],inputs:{entry:"entry",inlineLayout:"inlineLayout",host:"host",entryColumn:"entryColumn"},outputs:{onEnvironmentEvent:"onEnvironmentEvent"},standalone:!0,features:[_.Od,_.oh],decls:9,vars:3,consts:()=>[["detailsContent",""],["columnsContent",""],["viewLineage",""]," Details "," Schema "," View Lineage "," View Lineage ",[4,"ngIf"],[1,"cfc-space-below-minus-2"],["label","Details"],[4,"ngTemplateOutlet"],["label","Columns"],
[1,"cfc-flex-container","cfc-indent",3,"breadcrumbs","noFinalHighlight"],[3,"unfolded"],[1,"cfc-indent","cfc-space-first","cfc-text-title-4"],[1,"cfc-indent","cfc-text-title-4"],["class","dc-lineage-details-double-padding",3,"columnDetails",4,"ngIf"],[1,"dc-lineage-details-double-padding",3,"columnDetails"],[3,"onEnvironmentEvent","entry","showEntryName","host","hasExtraPadding"],["class","dc-lineage-details-padding",3,"entry",4,"ngIf"],[1,"dc-lineage-details-padding",3,"entry"],[1,"view-lineage-section"],
[1,"cfc-indent"],["mat-raised-button","","type","button",3,"ve","veClick","click",4,"ngIf"],["mat-raised-button","","fragment","lineage","target","_blank",3,"cfcRouterLink","queryParams","ve","veClick",4,"ngIf"],["mat-raised-button","","type","button",3,"click","ve","veClick"],["mat-raised-button","","fragment","lineage","target","_blank",3,"cfcRouterLink","queryParams","ve","veClick"]],template:function(a,b){a&1&&_.G(0,xLl,7,3,"ng-container",7)(1,FLl,5,4,"ng-container",7)(2,ILl,3,2,"ng-container",
7)(3,JLl,1,4,"ng-template",null,0,_.yh)(5,LLl,1,1,"ng-template",null,1,_.yh)(7,OLl,7,3,"ng-template",null,2,_.yh);a&2&&(_.H("ngIf",!b.inlineLayout&&b.hasSchema(b.entry)),_.y(),_.H("ngIf",b.inlineLayout&&b.hasSchema(b.entry)),_.y(),_.H("ngIf",!b.hasSchema(b.entry)))},dependencies:[_.UA,_.bz,_.bA,_.SM,_.NM,_.Ky,_.Jy,_.iw,_.hw,_.Gy,_.Cx,_.Ax,_.vx,_.wx,_.rx,$Pl,ZPl,SPl,_.xs,_.Es,_.bB,_.Yz,YPl,_.FG,_.jG,_.kG,_.lG],styles:[".view-lineage-section[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}"],
changeDetection:0});var cQl=class{constructor(){this.isUnique=!0;this.inlineLayout=!1;this.onEnvironmentEvent=new _.ms}ngOnInit(){var a=new _.b0,b=new _.d0;b.fullyQualifiedNames.push({value:this.entry.fullyQualifiedName,exactMatch:!0});a=_.a0(a,b).toString();b=_.P3g.create();a=b.link().set(b.q,a);this.searchPageLink={commands:a.build(),queryParams:a.buildQueryParams()}}};cQl.\u0275fac=function(a){return new (a||cQl)};
cQl.\u0275cmp=_.m({type:cQl,selectors:[["dc-lineage-asset-details"]],inputs:{entry:"entry",isUnique:"isUnique",inlineLayout:"inlineLayout",host:"host",entryColumn:"entryColumn"},outputs:{onEnvironmentEvent:"onEnvironmentEvent"},decls:2,vars:5,consts:()=>[" This lineage node is ambiguous because there are multiple entries with the same fully qualified name. "," Show all entries ",[3,"onEnvironmentEvent","entry","inlineLayout","host","entryColumn"],["class","cfc-flex-container cfc-flex-center-aligned cfc-flex-justify-center cfc-gutter-minus-2",
4,"ngIf"],[1,"cfc-flex-container","cfc-flex-center-aligned","cfc-flex-justify-center","cfc-gutter-minus-2"],["type","warning",3,"verticalAlignment"],["mat-button","","color","primary","target","_blank",3,"cfcRouterLink","queryParams"]],template:function(a,b){a&1&&(_.I(0,"dc-lineage-asset-default-layout",2),_.P("onEnvironmentEvent",function(c){return b.onEnvironmentEvent.emit(c)}),_.K(),_.G(1,PLl,7,3,"div",3));a&2&&(_.H("entry",b.entry)("inlineLayout",b.inlineLayout)("host",b.host)("entryColumn",b.entryColumn),
_.y(),_.H("ngIf",!b.isUnique))},dependencies:[_.Jy,_.iw,_.Gy,_.xs,bQl,_.Hv,_.Jv,_.Iv,_.Yz],encapsulation:2,changeDetection:0});var dQl=class extends _.Pt{constructor(){super();_.Kt(this,["data-fusion"])}},eQl=class extends dQl{constructor(){super();this.locationId=new _.Sj("path","locationId");_.Kt(this,["locations",this.locationId])}},fQl=class extends eQl{constructor(){super();_.Kt(this,["instances"])}},gQl=class extends fQl{constructor(){super();this.instanceId=new _.Sj("path","instanceId");_.Kt(this,[this.instanceId])}};var hQl=["template"],iQl=[[["",8,"cfc-action-bar-content-right"]]],jQl=class{constructor(){this.ve={DataCatalogLineageComposerEnvButton:176223,DataCatalogLineageComposerDagButton:176224,DataCatalogLineageDataFusionInstanceButton:176225}}ngOnChanges(){if(this.isComposerProcessDetail(this.process)){{var a=this.process;const {projectId:g,location:n}=CKl(a.name);(a=h8(a,"composer_environment_name"))?(a=_.$ee({environmentName:a,environmentLocation:n,environmentProject:g}),a={commands:a.build(),queryParams:a.buildQueryParams()}):
a=void 0}this.composerEnvironmentLink=a;{var b=this.process;const {projectId:g,location:n}=CKl(b.name);var c=h8(b,"composer_environment_name");a=h8(b,"dag_id");var d=h8(b,"task_id");if(c&&a&&d){b=c;var e=n;c=g;var f=a;a=ePl.create();b=a.link().set(a.locationId,e).set(a.environmentId,b).set(a.dagId,f);c&&b.set(a.project,c);c={taskInstanceList:{taskIdsFilter:[d]},selectedTimeRange:cJl(),selectAllDagRunsTableRow:!0};c=bJl(c);c=_.o4d(c);b.set(a.pageState,c);a=b;a={commands:a.build(),queryParams:a.buildQueryParams()}}else a=
void 0}this.composerDagLink=a}"DATA_FUSION"===this.process.origin.sourceType&&(c=this.process,a=h8(c,"instance.name"),b=h8(c,"instance.location"),a&&b?(c=gQl.create(),a=c.link().set(c.instanceId,a).set(c.locationId,b),a={commands:a.build(),queryParams:a.buildQueryParams()}):a=void 0,this.dataFusionInstanceLink=a)}isComposerProcessDetail(a){return"COMPOSER"===a.origin.sourceType}};jQl.\u0275fac=function(a){return new (a||jQl)};
jQl.\u0275cmp=_.m({type:jQl,selectors:[["dc-lineage-process-action-bar"]],viewQuery:function(a,b){a&1&&_.ch(hQl,7);if(a&2){let c;_.eh(c=_.gh())&&(b.template=c.first)}},inputs:{process:"process",actionBarConfig:"actionBarConfig"},features:[_.Od],ngContentSelectors:[".cfc-action-bar-content-right"],decls:7,vars:6,consts:()=>["\ufffd#3\ufffd\ufffd/#3\ufffd Open Environment in Composer "," Open DAG in Composer "," Open instance in Data Fusion ",[3,"id","cfcTitle","cdkFocusInitialOnTitle"],[1,"cfc-action-bar-content-main"],
[4,"ngIf"],[1,"cfc-action-bar-content-right"],["mat-button","","target","_blank",3,"cfcRouterLink","queryParams","ve","veClick"],["icon","CLOUD_COMPOSER_SECTION","iconset","shelllogos","size","medium",1,"cfc-icon-size-small"],["icon","DATA_FUSION_SECTION","iconset","shelllogos","size","medium",1,"cfc-icon-size-small"]],template:function(a,b){a&1&&(_.Tg(iQl),_.I(0,"cfc-action-bar",3)(1,"div",4),_.G(2,QLl,4,4,"ng-container",5)(3,RLl,5,4,"ng-container",5)(4,SLl,5,4,"ng-container",5),_.K(),_.I(5,"div",
6),_.Ug(6),_.K()());a&2&&(_.H("id",b.actionBarConfig.id)("cfcTitle",b.actionBarConfig.title)("cdkFocusInitialOnTitle",b.actionBarConfig.focusInitialOnTitle),_.y(2),_.H("ngIf",b.composerEnvironmentLink),_.y(),_.H("ngIf",b.composerDagLink),_.y(),_.H("ngIf",b.dataFusionInstanceLink))},dependencies:[_.eF,_.bz,_.bA,_.Jy,_.iw,_.Gy,_.Gv,_.xs,_.Yz],encapsulation:2});var WLl=()=>[],ZLl=function(a){return a.run?a.run.attributes.filter(b=>a.CORE_RUN_ATTRIBUTES.has(b.key)):[]},cMl=function(a){return a.run?a.run.attributes.filter(b=>!a.CORE_RUN_ATTRIBUTES.has(b.key)):[]},kQl=function(a){a.isLoading=!0;a.isFailed=!1;a.dataCatalogLineageApiService.getRunDetails(a.data.runName).pipe(_.eg(a.destroy)).subscribe(b=>{a.isLoading=!1;a.run=b;if("COMPOSER"===b.process.origin.sourceType){a:{var c=b.process;const {projectId:r,location:u}=CKl(c.name);if(b.cloudComposerSpec){var d=
EKl(b,"dag_run_id");var e=h8(c,"dag_id"),f=h8(c,"composer_environment_name"),g;b=new Date(null==(g=b.cloudComposerSpec)?void 0:g.executionDate);c=h8(c,"task_id");if(d&&e&&f&&b&&c){var n=u,p=r;g=fPl.create();e=g.link().set(g.locationId,n).set(g.environmentId,f).set(g.dagId,e).set(g.dagDetailsTabId,"runs");p&&e.set(g.project,p);d={selectedTimeRange:cJl(b),selectedDagRunIds:[d],selectedTaskIds:[c],dagRunList:{dagRunIdsFilter:[d]},taskInstanceList:{taskIdsFilter:[c]}};d=bJl(d);d=_.o4d(d);e.set(g.pageState,
d);d=e;d={commands:d.build(),queryParams:d.buildQueryParams()};break a}}d=void 0}a.cloudComposerLink=d}"DATAPROC"===a.run.process.origin.sourceType&&(g=a.run,d=EKl(g,"environment-properties.spark.cluster.name"),e=EKl(g,"environment-properties.spark.cluster.region"),d&&e?(g=CPl.create(),d={commands:g.link().set(g.clusterName,d).build(),queryParams:{region:e}}):d=void 0,a.dataprocClusterLink=d,(g=EKl(a.run,"environment-properties.spark.job.id"))?(d=APl.create(),d=d.link().set(d.jobId,g),d={commands:d.build(),
queryParams:d.buildQueryParams()}):d=void 0,a.dataprocJobLink=d)},()=>{a.isLoading=!1;a.isFailed=!0})},GMl=class{constructor(a,b,c){this.dialogRef=a;this.data=b;this.dataCatalogLineageApiService=c;this.CORE_RUN_ATTRIBUTES=new Map([["environment-properties.spark.project.id","Project"],["environment-properties.spark.cluster.name","Cluster"],["environment-properties.spark.app.name","App name"],["environment-properties.spark.job.id","Job ID"]]);this.getIconForState=zKl;this.getLabelForState=AKl;this.isAdvancedSectionExpanded=
this.isFailed=this.isLoading=!1;this.ve={DataCatalogLineageDataprocOpenClusterButton:176217,DataCatalogLineageDataprocOpenJobButton:176218};this.destroy=new _.Te}ngOnInit(){kQl(this)}ngOnDestroy(){this.destroy.next();this.destroy.complete()}};GMl.\u0275fac=function(a){return new (a||GMl)(_.A(_.Ru),_.A(_.Su),_.A(IPl))};
GMl.\u0275cmp=_.m({type:GMl,selectors:[["dc-run-details-dialog"]],standalone:!0,features:[_.oh],decls:16,vars:7,consts:()=>[" Run Details "," Close ","\ufffd#3\ufffd\ufffd/#3\ufffd Open in Composer ","\ufffd#3\ufffd\ufffd/#3\ufffd Open in Composer "," Open cluster in Dataproc "," Open job in Dataproc ","Name","Display name","State","Start time","End time"," Failed to load details of run. ",[1,"cfc-width-large","cfc-gutter-minus-2","cfc-full-bleed"],[1,"cfc-flex-container","cfc-flex-space-between-content",
"cfc-flex-center-aligned"],[1,"cfc-flex-container","cfc-flex-center-aligned"],[1,"dc-tag-display-name","cfc-text-title-3","cfc-space-first","cfc-space-last"],[4,"ngIf"],[1,"cfc-space-above-minus-2"],["iconSize","medium",3,"isLoading"],["cfc-kv-list","","class","cfc-width-full",4,"ngIf"],[3,"collapsed","toggle",4,"ngIf"],["cfc-kv-list","","class","cfc-width-full cfc-space-above-plus-3",4,"ngIf"],["type","error",4,"ngIf"],[1,"cfc-flex-container","cfc-flex-justify-end"],["mat-button","","color","primary",
1,"dc-tag-form-close-button",3,"click"],["mat-button","","color","primary","cfcDisableTooltip","Resource does not exist in Composer anymore or you do not have\n          permissions to access it.","target","_blank",3,"cfcRouterLink","queryParams"],["icon","CLOUD_COMPOSER_SECTION","iconset","shelllogos","size","medium",1,"cfc-icon-size-small"],["mat-button","","color","primary","cfcDisableTooltip","Resource does not exist in Composer anymore or you do not have\n          permissions to access it.",
3,"cfcDisable"],["mat-button","","cfcDisableTooltip","Link is not available due to missing run's context.","target","_blank",3,"cfcRouterLink","queryParams","ve","veClick","cfcDisable"],["icon","DATAPROC_SECTION","iconset","shelllogos","size","medium",1,"cfc-icon-size-small"],["mat-button","","cfcDisableTooltip","Link is not available due to missing run's context.","target","_blank",3,"cfcRouterLink","queryParams","ve","veClick","cfcDisable"],["cfc-kv-list","",1,"cfc-width-full"],[3,"icon"],[4,"ngFor",
"ngForOf"],[3,"toggle","collapsed"],["cfc-kv-list","",1,"cfc-width-full","cfc-space-above-plus-3"],["type","error"]],template:function(a,b){a&1&&(_.I(0,"div",12)(1,"div",13)(2,"div",14)(3,"span",15),_.O(4,0),_.K()(),_.G(5,VLl,3,2,"div",16)(6,XLl,10,12,"ng-container",16),_.K(),_.I(7,"div",17)(8,"cfc-loader",18),_.G(9,$Ll,30,13,"dl",19)(10,aMl,1,1,"cfc-expand-button",20)(11,dMl,2,1,"dl",21),_.K(),_.G(12,eMl,3,0,"cfc-message",22),_.K(),_.I(13,"div",23)(14,"button",24),_.P("click",function(){return b.dialogRef.close()}),
_.O(15,1),_.K()()());a&2&&(_.y(5),_.H("ngIf",b.run&&"COMPOSER"===b.run.process.origin.sourceType),_.y(),_.H("ngIf",b.run&&"DATAPROC"===b.run.process.origin.sourceType),_.y(2),_.H("isLoading",b.isLoading),_.y(),_.H("ngIf",b.run),_.y(),_.H("ngIf",b.run&&0<cMl(b).length),_.y(),_.H("ngIf",b.run&&b.isAdvancedSectionExpanded&&0<cMl(b).length),_.y(),_.H("ngIf",b.isFailed))},dependencies:[_.UA,_.bz,_.bA,_.Ky,_.Jy,_.iw,_.hw,_.Gy,_.Ms,_.ws,_.xs,_.Hs,_.pB,_.qz,_.Uv,_.Gv,_.HB,_.DB,_.KD,_.HD,_.Vv,_.Hv,_.Iv,_.bB,
_.Yz,_.BB,_.zB],encapsulation:2});var lQl=Object.values({SQL:"sql"}),mQl=function(a){const b=h8(a.process,"bigquery_job_id")||h8(a.process,"job_id"),c=a.process.fullyQualifiedName,d=h8(a.process,"bigquery_parent_job_id");a.projectId&&a.location&&(a.bigQuerySpecMissingPermissions=!1,a.isSqlExpanded=!1,(b||c)&&a.dataCatalogLineageApiService.getProcessBigQuerySpec({jobId:c?void 0:b,fullyQualifiedName:c,projectId:a.projectId,location:a.location}).pipe(_.eg(a.destroy)).subscribe({next:e=>{a.bigQuerySpec=e;a.changeDetector.markForCheck()},
error:a.respondToBigQueryError.bind(a)}),d&&a.dataCatalogLineageApiService.getProcessBigQuerySpec({jobId:d,projectId:a.projectId,location:a.location}).pipe(_.eg(a.destroy)).subscribe({next:e=>{a.bigQueryParentSpec=e;a.changeDetector.markForCheck()},error:a.respondToBigQueryError.bind(a)}))},uMl=function(a){let b,c;return(null==(b=a.bigQuerySpec)?void 0:b.sql)||(null==(c=a.reservedSqlAttribute)?void 0:c.value)},vMl=function(a){let b;return null==(b=a.bigQueryParentSpec)?void 0:b.sql},nQl=class{constructor(a,
b,c,d){this.dataCatalogLineageApiService=a;this.dialog=b;this.changeDetector=c;this.snackBarService=d;this.inlineLayout=!1;this.processList=[];this.onProcessSelectionChange=new _.ms;this.getIconForState=zKl;this.getTranslatedBigQueryProcessType=hJl;this.rowsPerPage=10;this.tableFullBleedConfig={mode:"never",keepBottomPadding:!0};this.ve={DataCatalogLineageRunDetailLink:141921};this.destroy=new _.Te;this.attributes=[];this.isSqlExpanded=this.bigQuerySpecMissingPermissions=!1;this.queryFormatter=new _.Abg}ngOnChanges(){this.tokenTableManager=
this.buildTableManager(this.process.name);this.attributes=this.process.attributes.filter(c=>!c.value||!lQl.includes(c.key));this.reservedSqlAttribute=this.process.attributes.find(c=>"sql"===c.key&&!!c.value);const {projectId:a,location:b}=CKl(this.process.name);this.projectId=a;this.location=b;this.bigQueryParentSpec=this.bigQuerySpec=void 0;"BIGQUERY"===this.process.origin.sourceType&&mQl(this)}ngOnDestroy(){this.destroy.next();this.destroy.complete()}buildTableManager(a){return new _.aGf({dataSource:({limit:b,
token:c})=>this.dataCatalogLineageApiService.listRuns(a,c,b).pipe(_.D(({runs:d,pageToken:e})=>({items:d,token:e,hasMoreResults:0!==d.length&&!!e}))),valueAccessor:(b,c)=>{switch(c){case "name":return b.name;case "displayName":return b.displayName;case "startTime":return b.startTime;case "endTime":return b.endTime;case "state":return b.state;default:return"-"}}})}respondToBigQueryError(a){7===a.errorCode?this.bigQuerySpecMissingPermissions=!0:this.snackBarService.open("Fetching BigQuery process metadata failed.");
this.changeDetector.markForCheck()}handleProcessChange(a){this.onProcessSelectionChange.emit(a.value)}};nQl.\u0275fac=function(a){return new (a||nQl)(_.A(IPl),_.A(_.Tu),_.A(_.gs),_.A(_.iC))};
nQl.\u0275cmp=_.m({type:nQl,selectors:[["dc-lineage-process-details"]],inputs:{process:"process",detailsPanelPosition:"detailsPanelPosition",inlineLayout:"inlineLayout",processList:"processList"},outputs:{onProcessSelectionChange:"onProcessSelectionChange"},features:[_.Od],decls:8,vars:2,consts:()=>[["detailsContent",""],["runsContent",""],["processSelector",""],"Name","Process type"," Show script context "," You do not have permission to view BigQuery process metadata in project \ufffd0\ufffd. ",
" More "," Select process ",["class","cfc-space-below-minus-2",4,"ngIf"],[4,"ngIf"],[1,"cfc-space-below-minus-2"],["label","Details"],[4,"ngTemplateOutlet"],["label","Runs"],["cfc-kv-list","",1,"cfc-width-full"],[4,"ngFor","ngForOf"],["class","cfc-gutter-minus-2",3,"checked","change",4,"ngIf"],["overflowVertical","hidden","language","sql",3,"content","hideCopyButton",4,"ngIf"],["class","cfc-flex-container cfc-flex-center-aligned cfc-flex-justify-center cfc-gutter-minus-2",4,"ngIf"],[1,"cfc-gutter-minus-2",
3,"change","checked"],["overflowVertical","hidden","language","sql",3,"content","hideCopyButton"],[1,"cfc-flex-container","cfc-flex-center-aligned","cfc-flex-justify-center","cfc-gutter-minus-2"],["type","warning"],["ariaLabel","Runs",3,"tableManager","rowsPerPage","pagination","layoutFixed","fillContainerWidth","fullBleedConfig","tableRendererV2"],["id","state","header","State","overflowMechanism","wrap","width","40px",3,"wrapHeader"],[4,"cfcTableTemplate"],"id;displayName;header;Display Name;overflowMechanism;truncate".split(";"),
["id","startTime","header","Start Time","overflowMechanism","truncate",4,"ngIf"],["id","endTime","header","End time","overflowMechanism","truncate",4,"ngIf"],"id action ariaLabel Action width 100px".split(" "),[3,"icon"],"id;startTime;header;Start Time;overflowMechanism;truncate".split(";"),"id;endTime;header;End time;overflowMechanism;truncate".split(";"),["type","button","color","primary","mat-button","",1,"cfc-button-small",3,"click","ve","veClick"],[1,"dc-lineage-process-details-select"],[3,"change",
"value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,b){a&1&&_.G(0,jMl,5,2,"mat-tab-group",9)(1,qMl,4,3,"ng-container",10)(2,yMl,11,6,"ng-template",null,0,_.yh)(4,IMl,9,13,"ng-template",null,1,_.yh)(6,KMl,6,2,"ng-template",null,2,_.yh);a&2&&(_.H("ngIf",!b.inlineLayout),_.y(),_.H("ngIf",b.inlineLayout))},dependencies:[_.bz,_.bA,_.Jy,_.hw,_.Gy,_.Oy,_.Py,_.mx,_.hx,_.NA,_.OA,_.MA,_.Ax,_.vx,_.wx,_.rx,_.BA,_.TZ,_.Gv,_.DB,_.Hv,_.Iv,_.ws,_.xs,_.Es,_.AA,_.iv,_.HA,_.AC,_.UC,_.zC,_.hD,_.Hs],
styles:["dl[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{padding-left:16px}dl[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{padding-right:16px}.dc-lineage-process-details-select[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px;padding-top:16px}"],changeDetection:0});var oQl=class{constructor(a){a.registerIconset("data_catalog","small",4);a.registerIconset("data_catalog","medium",2)}};oQl.\u0275fac=function(a){return new (a||oQl)(_.l(_.Tv))};oQl.\u0275mod=_.q({type:oQl});oQl.\u0275inj=_.k({imports:[_.Uv]});var WMl=function(a){return 3===(null==a?void 0:a.entityType)},XMl=function(a){return 1===(null==a?void 0:a.entityType)},YMl=function(a){return 2===(null==a?void 0:a.entityType)},jNl=function(a){return 3===(null==a?void 0:a.entityType)},kNl=function(a){return a.targetOpenEntity&&3===a.targetOpenEntity.entityType?-1<a.targetOpenEntity.fullyQualifiedName.indexOf("bigquery:sharded:"):!1},pQl=class{constructor(){this.dl={CONSOLE__DATA_CATALOG_DOCS_CONCEPTS_ABOUT_DATA_LINEAGE:cPl};this.lineageViewType=
1;this.onEnvironmentEvent=new _.ms;this.toggleDetailsPanelPosition=new _.ms;this.enableDataCatalogApi=new _.ms;this.enableDataLineageApi=new _.ms;this.retryFetchingDetails=new _.ms;this.onSelectedProcessChange=new _.ms;this.DataCatalogIconSetName="data_catalog";this.EntityType=FPl;this.LineageViewType=GPl;this.uniqueId=_.Em();this.loadingStatus=EPl;this.enablePermissions=_.Lp();this.iamCheckOperator=_.UD;this.TABLE_VIEW_EXPERIMENT_ENABLED=_.Xc(RPl);this.ve={DataCatalogLineageDetailsSourceTab:204626,
DataCatalogLineageDetailsProcessTab:204625,DataCatalogLineageDetailsTargetTab:204627,DataCatalogLineageEnableLink:141917}}isLineageApiEnabled(){return void 0===this.lineageApiNotEnabledError}isDataCatalogApiEnabled(){return void 0===this.dataCatalogApiNotEnabledError}isBillingEnabled(){return void 0===this.billingNotEnabledError}getProjectStubIamCompatible(a){return new _.Cj(a,0)}ngOnChanges(){var a,b=null!=(a=this.actionBarId)?a:"";a:{if(this.fetchedData){if(WMl(this.fetchedData)){a=this.fetchedData.data.shortName;
break a}if(XMl(this.fetchedData)){a=this.fetchedData.data.displayName||"Process";break a}}let c;a=3===(null==(c=this.targetOpenEntity)?void 0:c.entityType)&&DKl(this.targetOpenEntity.fullyQualifiedName,this.targetOpenEntity.displayName)?"Anonymous table":this.TABLE_VIEW_EXPERIMENT_ENABLED?"Details":"Node details"}this.actionBarConfig={id:b,title:a,focusInitialOnTitle:!0}}handleProcessChange(a){this.onSelectedProcessChange.emit(a)}};pQl.\u0275fac=function(a){return new (a||pQl)};
pQl.\u0275cmp=_.m({type:pQl,selectors:[["dc-lineage-details-panel"]],hostAttrs:[1,"cfc-flex-layout-column"],inputs:{host:"host",lineageViewType:"lineageViewType",detailsPanelPosition:"detailsPanelPosition",detailsLoadingStatus:"detailsLoadingStatus",fetchedData:"fetchedData",targetOpenEntity:"targetOpenEntity",actionBarId:"actionBarId",dataCatalogApiNotEnabledError:"dataCatalogApiNotEnabledError",isEnablingDataCatalogApi:"isEnablingDataCatalogApi",lineageApiNotEnabledError:"lineageApiNotEnabledError",
isEnablingDataLineageApi:"isEnablingDataLineageApi",billingNotEnabledError:"billingNotEnabledError"},outputs:{onEnvironmentEvent:"onEnvironmentEvent",toggleDetailsPanelPosition:"toggleDetailsPanelPosition",enableDataCatalogApi:"enableDataCatalogApi",enableDataLineageApi:"enableDataLineageApi",retryFetchingDetails:"retryFetchingDetails",onSelectedProcessChange:"onSelectedProcessChange"},features:[_.Od],decls:8,vars:2,consts:()=>[["detailsPanelTogglePosition",""],["detailsPanelHeader",""],["detailsPanelContent",
""],"Fully qualified name"," You need to enable Data Catalog API in project \ufffd#3\ufffd\ufffd0\ufffd\ufffd/#3\ufffd. "," Enable Data Catalog API "," You need to enable Data Lineage API in project \ufffd#4\ufffd\ufffd0\ufffd\ufffd/#4\ufffd. "," Enabling it may have \ufffd#7\ufffd billing implications. \ufffd/#7\ufffd"," Enable Data Lineage API "," Lineage requires billing account enabled in project \ufffd#4\ufffd\ufffd0\ufffd\ufffd/#4\ufffd. "," Retry "," Entry with this fully qualified name is not available in Data Catalog. ",
" Fetching BigQuery sharded table is not supported yet. "," Failed to load the process data. "," Select a node to see more details here. "," Select a table row to see more details here. "," Entry with this fully qualified name is not available in Data Catalog. "," Entry with this fully qualified name is not available in Data Catalog. "," Failed to load the process data. ",[4,"ngTemplateOutlet"],["mat-icon-button","","cfcTooltip","Toggle position of panel","aria-hidden","true",1,"dc-lineage-toggle-details-position",
3,"click"],["icon","toggle-bottom","size","small",3,"iconset",4,"ngIf"],["icon","toggle-right","size","small",3,"iconset",4,"ngIf"],["icon","toggle-bottom","size","small",3,"iconset"],["icon","toggle-right","size","small",3,"iconset"],[4,"ngIf"],[3,"onEnvironmentEvent","entry","isRoot","host","actionBarConfig"],[1,"cfc-action-bar-content-right"],[3,"process","actionBarConfig"],[3,"id","cfcTitle","cdkFocusInitialOnTitle"],[3,"flexContent","disablePadding"],[3,"isLoading","renderDuringLoading"],["cfc-kv-list",
"","class","cfc-width-full",4,"ngIf"],["type","informational",4,"ngIf"],["cfc-kv-list","",1,"cfc-width-full"],["type","warning","class","cfc-gutter-minus-2",4,"ngIf"],["class","cfc-gutter-minus-2",4,"ngIf"],["type","warning",1,"cfc-gutter-minus-2"],[3,"inProgress"],["mat-button","","color","primary","cfcDisable","",3,"click","cfcIamCheck","cfcIamOperator","cfcIamResource"],[3,"cfcDocLink"],["mat-button","","color","primary","cfcDisable","",3,"click","cfcIamCheck","cfcIamOperator","cfcIamResource",
"ve","veClick"],["mat-button","","color","primary",3,"click"],[1,"cfc-gutter-minus-2"],["type","informational"],[3,"onEnvironmentEvent","entry","isUnique","host"],[3,"process","detailsPanelPosition"],[1,"cfc-space-below-minus-2"],["label","Source",3,"ve","veClick"],[3,"entry","isUnique","inlineLayout","host","entryColumn","onEnvironmentEvent",4,"ngIf"],["label","Target",3,"ve","veClick"],["label","Process",3,"ve","veClick"],[3,"process","detailsPanelPosition","inlineLayout","processList","onProcessSelectionChange",
4,"ngIf"],[3,"onEnvironmentEvent","entry","isUnique","inlineLayout","host","entryColumn"],[3,"onProcessSelectionChange","process","detailsPanelPosition","inlineLayout","processList"]],template:function(a){a&1&&_.G(0,LMl,1,0,"ng-container",19)(1,MMl,1,0,"ng-container",19)(2,PMl,3,2,"ng-template",null,0,_.yh)(4,bNl,2,2,"ng-template",null,1,_.yh)(6,zNl,8,10,"ng-template",null,2,_.yh);if(a&2){a=_.hh(5);const b=_.hh(7);_.H("ngTemplateOutlet",a);_.y();_.H("ngTemplateOutlet",b)}},dependencies:[_.bz,_.bA,
_.eF,cQl,OPl,_.xs,_.Es,_.Jy,_.hw,_.jw,_.Gy,_.Ax,_.vx,_.wx,_.rx,_.qz,_.cB,_.VD,_.Gv,_.DB,_.HD,_.Hv,_.Jv,_.Iv,_.Pv,_.uA,nQl,jQl],encapsulation:2,changeDetection:0});var qQl=[[["","content","","graph",""]],[["","content","","table",""]],[["","details",""]]],rQl=class{constructor(){this.LineageViewType=GPl;this.defaultBottomDetailsPanelSize="25%";this.defaultRightDetailsPanelConfig={isResizable:!0,isMinimizable:!0,size:"370px",minSize:"370px"};this.lastBottomDetailsPanelSize=this.defaultBottomDetailsPanelSize;this.lastRightDetailsPanelConfig=Object.assign({},this.defaultRightDetailsPanelConfig)}ngOnChanges(a){a.detailsPanelPosition&&(this.defaultRightDetailsPanelConfig=
this.lastRightDetailsPanelConfig,this.defaultBottomDetailsPanelSize=this.lastBottomDetailsPanelSize)}handleBottomPanelResize(a){this.lastBottomDetailsPanelSize=a}getActionBarId(a){return`dc-data-lineage-action-bar-${"MAIN"===a?"main":"side"}-${this.actionBarSuffix}`}};rQl.\u0275fac=function(a){return new (a||rQl)};
rQl.\u0275cmp=_.m({type:rQl,selectors:[["dc-data-lineage-dynamic-panel-layout"]],viewQuery:function(a,b){a&1&&(_.ch(_.GW,5),_.ch(_.tT,5));if(a&2){let c;_.eh(c=_.gh())&&(b.rightPanelLayout=c.first);_.eh(c=_.gh())&&(b.bottomPanelLayout=c.first)}},hostAttrs:[1,"cfc-height-full"],inputs:{detailsPanelPosition:"detailsPanelPosition",detailsLoadingStatus:"detailsLoadingStatus",actionBarSuffix:"actionBarSuffix",showLineageGraph:"showLineageGraph",viewType:"viewType"},features:[_.Od],ngContentSelectors:["[content][graph]",
"[content][table]","[details]"],decls:6,vars:2,consts:()=>[["mainContent",""],["detailsContent",""],[4,"ngIf"],["class","dc-lineage-graph-wrapper cfc-height-full",3,"sidePanelConfig","sidePanelIsExpanded",4,"ngIf"],[1,"dc-lineage-graph-wrapper","cfc-height-full",3,"sidePanelConfig","sidePanelIsExpanded"],[3,"addNavButtonInFullScreen","actionBarId"],["cfcTitle","Data Lineage",3,"id","hideComponent"],[4,"ngTemplateOutlet"],["ariaLabel","Details",1,"dc-lineage-details-panel",3,"resize","actionBarId",
"addNavButtonInFullScreen"],["class","dc-lineage-graph-wrapper cfc-height-full",3,"sidePanelHeight","sidePanelIsExpanded",4,"ngIf"],[1,"dc-lineage-graph-wrapper","cfc-height-full",3,"sidePanelHeight","sidePanelIsExpanded"],["ariaLabel","Details",1,"dc-lineage-details-panel",3,"resize","actionBarId"]],template:function(a,b){a&1&&(_.Tg(qQl),_.G(0,DNl,2,1,"ng-container",2)(1,HNl,2,1,"ng-container",2)(2,KNl,2,2,"ng-template",null,0,_.yh)(4,LNl,1,0,"ng-template",null,1,_.yh));a&2&&(_.H("ngIf","RIGHT"===
b.detailsPanelPosition),_.y(),_.H("ngIf","BOTTOM"===b.detailsPanelPosition))},dependencies:[_.eF,_.AW,_.tT,_.sT,_.uT,_.xs,_.Es,_.GW,_.FW],encapsulation:2});var sQl=a=>[a],tQl=()=>[],uQl=(a,b,c)=>({assetNode:a,loadMoreNode:b,processNode:c}),MNl=function(a,b,c){a=a.id2NodeInfos.get(b.id);return"UPSTREAM"===c?"FETCHING"===a.upstreamLineageStatus:"FETCHING"===a.downstreamLineageStatus},i8=function(a,b){let c;return null==(c=a.id2NodeInfos.get(b))?void 0:c.fqn},bOl=function(a,b,c){return(a=a.id2NodeInfos.get(b.id))?"UPSTREAM"===c?"EXPANDED"===a.upstreamLineageStatus:"EXPANDED"===a.downstreamLineageStatus:!1},cOl=function(a,b){a=i8(a,b);({system:a}=BKl(a));
return a},nOl=function(a,b){switch(a.id2NodeInfos.get(b).origin.sourceType){case "BIGQUERY":return"BigQuery process";case "DATA_FUSION":return"Data Fusion process";case "COMPOSER":return"Cloud Composer process";case "LOOKER_STUDIO":return"Looker Studio process";case "DATAPROC":return"Dataproc process";case "VERTEX_AI":return"Vertex AI process";case "CUSTOM":return"Custom process";case "SOURCE_TYPE_UNSPECIFIED":return"Unspecified process";default:return"Unsupported process"}},vQl=function(a){return new _.A7(a,
"assetNode",175,42,{includeInStepCount:!1,hideEdgeMarkers:!1})},wQl=function(a,b=0){return`${b}:${a}`},BQl=function(a,b,c,d,e,f){var g=a.id2NodeInfos.get(b);const n=g.fqn,p=g.level;c=c.filter(u=>!a.allNodesRelationships.some(w=>{const z=i8(a,w.processNodeId);var C=i8(a,w.upstreamNodeId),E=i8(a,w.downstreamNodeId);w=u.detailedProcesses.some(J=>z===J.name);C=C===("UPSTREAM"===e?n:u.fullyQualifiedName);E=E===("UPSTREAM"===e?u.fullyQualifiedName:n);return w&&C&&E}));0===c.length&&n!==a.fqn&&a.snackBarService.open("UPSTREAM"===
e?"No more upstream lineage for this asset.":"No more downstream lineage for this asset.");"UPSTREAM"===e?g.upstreamLineageStatus=0===c.length&&f?"EMPTY":"EXPANDED":g.downstreamLineageStatus=0===c.length&&f?"EMPTY":"EXPANDED";xQl(a,{nodeId:b,links:c,direction:e,referenceLevel:p});const r=`LOAD_MORE|${e}|${b}`;f=g.level+("DOWNSTREAM"===e?1:-1);a.allFetchedNodes=a.allFetchedNodes.filter(u=>u.id!==r);a.allFetchedEdges=a.allFetchedEdges.filter(u=>u.from!==r&&u.to!==r);d&&(g=new _.A7(new _.z7(r,"artifact",
"NO_STATE_RUNTIME",{displayName:"Load more"}),"loadMoreNode",60,60,{includeInStepCount:!1,hideEdgeMarkers:!1}),yQl(a,{node:g,level:f,fqn:n,direction:e,pageToken:d}),zQl(a,"UPSTREAM"===e?{from:r,to:b,toMarkerStyle:"arrow"}:{from:b,to:r,toMarkerStyle:"arrow"}));AQl(a)},AQl=function(a){for(const b of a.id2NodeInfos.values())b.shown=void 0;for(const b of a.id2NodeInfos.values())CQl(a,b);a.visibleNodes=a.allFetchedNodes.filter(b=>a.id2NodeInfos.get(b.id).shown);a.visibleEdges=a.allFetchedEdges.filter(b=>
a.id2NodeInfos.get(b.from).shown&&"COLLAPSED"!==a.id2NodeInfos.get(b.from).downstreamLineageStatus&&a.id2NodeInfos.get(b.to).shown&&"COLLAPSED"!==a.id2NodeInfos.get(b.to).upstreamLineageStatus)},DQl=function(a,b,c,d=""){const e=""===d;a.fetchLineage(a.project,b,c,d).subscribe({next:({links:f,pageToken:g})=>{BQl(a,b,f,g,c,e)},error:f=>{7===f.errorCode?a.snackBarService.open("Fetching lineage failed due to missing permissions."):a.snackBarService.open("Fetching lineage failed. Please retry.")}})},CQl=
function(a,b){void 0===b.shown&&(b.shown=0===b.level?!0:b.parents.some(c=>{c=a.id2NodeInfos.get(c);CQl(a,c);return c.shown?0>b.level?"EXPANDED"===c.upstreamLineageStatus:"EXPANDED"===c.downstreamLineageStatus:!1}))},EQl=function(a,{node:b,fqn:c,level:d,direction:e}){a.id2NodeInfos.has(b.id)||(a.allFetchedNodes.push(b),a.id2NodeInfos.set(b.id,{type:"ASSET",fqn:c,level:d,parents:[],upstreamLineageStatus:"DOWNSTREAM"===e?"EMPTY":"UNFETCHED",downstreamLineageStatus:"DOWNSTREAM"===e?"UNFETCHED":"EMPTY"}))},
FQl=function(a,{node:b,fqn:c,level:d,origin:e}){a.id2NodeInfos.has(b.id)||(a.allFetchedNodes.push(b),a.id2NodeInfos.set(b.id,{type:"PROCESS",fqn:c,level:d,parents:[],upstreamLineageStatus:"EXPANDED",downstreamLineageStatus:"EXPANDED",origin:e}))},yQl=function(a,{node:b,level:c,fqn:d,direction:e,pageToken:f}){a.allFetchedNodes.push(b);a.id2NodeInfos.set(b.id,{type:"LOAD_MORE",level:c,parents:[],upstreamLineageStatus:"EXPANDED",downstreamLineageStatus:"EXPANDED",fqn:d,direction:e,pageToken:f})},GQl=
function(a,b,c){const d=a.id2NodeInfos.get(b);a=a.id2NodeInfos.get(c);0<=d.level&&d.level<a.level?a.parents.push(b):0>=a.level&&d.level<a.level&&d.parents.push(c)},zQl=function(a,b){a.allFetchedEdges.find(c=>c.from===b.from&&c.to===b.to)||(a.allFetchedEdges.push(b),GQl(a,b.from,b.to))},xQl=function(a,{nodeId:b,links:c,direction:d,referenceLevel:e=0}){e+="DOWNSTREAM"===d?1:-1;const f=e+("DOWNSTREAM"===d?1:-1);for(const p of c){c=wQl(p.fullyQualifiedName,f);var g=vQl(new _.z7(c,"execution","NO_STATE_RUNTIME",
{displayName:p.entityName}));EQl(a,{node:g,fqn:p.fullyQualifiedName,level:f,direction:d});for(const r of p.detailedProcesses||[]){g=wQl(r.name,e);const u=r.origin;var n=new _.z7(g,"execution","NO_STATE_RUNTIME",{displayName:""});n=new _.A7(n,"processNode",42,42,{includeInStepCount:!1,hideEdgeMarkers:!1});FQl(a,{node:n,fqn:r.name,level:e,origin:u});zQl(a,{from:"UPSTREAM"===d?c:g,to:"UPSTREAM"===d?g:c,toMarkerStyle:"arrow"});zQl(a,{from:"UPSTREAM"===d?g:b,to:"UPSTREAM"===d?b:g,toMarkerStyle:"arrow"});
a.allNodesRelationships.push({processNodeId:g,upstreamNodeId:"UPSTREAM"===d?b:c,downstreamNodeId:"DOWNSTREAM"===d?b:c})}}},HQl=function(a){if(a.selectedNode){var b=a.id2NodeInfos.get(a.selectedNode.node.id);a.visibleEdges="PROCESS"===b.type?a.visibleEdges.map(c=>{const d=i8(a,c.from),e=i8(a,c.to);return Object.assign({},c,{color:d===b.fqn||e===b.fqn?"":"gray"})}):a.visibleEdges.map(c=>Object.assign({},c,{color:""}))}else a.visibleEdges=a.visibleEdges.map(c=>Object.assign({},c,{color:""}))},IQl=function(){return(a,
b)=>{switch(b){case "graphState":return!1}}},JQl=class{constructor(a,b,c,d){this.dataCatalogLineageApiService=a;this.snackBarService=b;this.iconService=c;this.analyticsService=d;this.host=1;this.onChangeDetailsPanelEvent=new _.ms;this.onErrorEvent=new _.ms;this.destroy=new _.Te;this.dagreOptions=Object.assign({},_.UGl,{rankDirection:"LR",rankSeparation:130});this.dagFeatures=Object.assign({},_.MDl,{scrollToZoom:!0,collapsibleNodes:!1});this.theme=_.Hvl({edgeStyle:"snapped"});this.enableMinimap=!0;
this.zoom=1;this.expandedMode=!1;this.visibleNodes=[];this.visibleEdges=[];this.allFetchedNodes=[];this.allFetchedEdges=[];this.id2NodeInfos=new Map;this.linksLoadingStatus="NONE";this.FqnSystemNameType=DPl;this.DataCatalogIconSetName="data_catalog";this.OriginSourceType=dPl;this.allNodesRelationships=[];this.tableViewExperimentOn=_.Xc(RPl);this.LineageViewType=GPl;this.ve={DataCatalogLineageLoadMoreButton:141919,DataCatalogLineageViewLineageLink:141922,DataCatalogLineageCollapseButton:141916,DataCatalogLineageEnableLink:141917,
DataCatalogLineageProcessNode:141920,DataCatalogLineageRunDetailLink:141921,DataCatalogLineageExpandButton:141918,DataCatalogLineageAssetNode:141915};this.uniqueId=_.Em();c.registerIconset("shellgm2","small",6)}ngOnChanges(a){a.project?this.fetchData():a.fqn&&this.fetchData();a.fqn&&(this.selectedNode=void 0)}createRootNode(a){const b=wQl(a),c=vQl(new _.z7(b,"execution","NO_STATE_RUNTIME",{displayName:this.name}));this.allFetchedNodes=[c];this.allFetchedEdges=[];this.visibleNodes=[c];this.visibleEdges=
[];this.allNodesRelationships=[];this.id2NodeInfos=new Map;this.id2NodeInfos.set(b,{fqn:a,level:0,parents:[],upstreamLineageStatus:"UNFETCHED",downstreamLineageStatus:"UNFETCHED",type:"ASSET"});return this.id2NodeInfos.get(b)}fetchData(){if(this.fqn&&this.project){var a=wQl(this.fqn),b=_.fi().startGenericStopwatch(),c=this.createRootNode(this.fqn);this.analyticsService.sendEvent({type:"dcLineage",name:"fetchingInitialDataStarted"});this.linksLoadingStatus="LOADING";_.ef({upstream:this.fetchLineage(this.project,
a,"UPSTREAM"),downstream:this.fetchLineage(this.project,a,"DOWNSTREAM")}).pipe(_.eg(this.destroy)).subscribe({next:({upstream:d,downstream:e})=>{b.stop();this.analyticsService.sendEvent({type:"dcLineage",name:"fetchingInitialDataCompleted",metadata:{latency:b.elapsed(),linksCount:d.links.length+e.links.length}});BQl(this,a,e.links,e.pageToken,"DOWNSTREAM",!0);BQl(this,a,d.links,d.pageToken,"UPSTREAM",!0);this.onErrorEvent.emit({type:0});this.linksLoadingStatus="SUCCESS"},error:d=>{b.stop();this.analyticsService.sendEvent({type:"dcLineage",
name:"fetchingInitialDataFailed",metadata:{latency:b.elapsed()}});this.sendError(d);this.linksLoadingStatus="FAILURE";c.upstreamLineageStatus="UNFETCHED";c.downstreamLineageStatus="UNFETCHED"}})}}showExpandButton(a,b){return(a=this.id2NodeInfos.get(a.id))?"UPSTREAM"===b?"UNFETCHED"===a.upstreamLineageStatus||"FETCHING"===a.upstreamLineageStatus||"COLLAPSED"===a.upstreamLineageStatus:"UNFETCHED"===a.downstreamLineageStatus||"FETCHING"===a.downstreamLineageStatus||"COLLAPSED"===a.downstreamLineageStatus:
!1}collapseNode(a,b){a=this.id2NodeInfos.get(a.id);"UPSTREAM"===b?a.upstreamLineageStatus="COLLAPSED":a.downstreamLineageStatus="COLLAPSED";AQl(this)}expandNode(a,b){const c=this.id2NodeInfos.get(a.id);"UPSTREAM"===b?"UNFETCHED"===c.upstreamLineageStatus?DQl(this,a.id,"UPSTREAM"):(c.upstreamLineageStatus="EXPANDED",AQl(this)):"UNFETCHED"===c.downstreamLineageStatus?DQl(this,a.id,"DOWNSTREAM"):(c.downstreamLineageStatus="EXPANDED",AQl(this))}loadMore(a){a=this.id2NodeInfos.get(a.id);const b=a.level,
c=a.direction;DQl(this,wQl(a.fqn,"DOWNSTREAM"===c?b-1:b+1),c,a.pageToken)}fetchLineage(a,b,c,d=""){const e=_.fi().startGenericStopwatch();this.analyticsService.sendEvent({type:"dcLineage",name:"fetchingLinksStarted"});const f=this.id2NodeInfos.get(b);b=f.fqn;"UPSTREAM"===c?f.upstreamLineageStatus="FETCHING":f.downstreamLineageStatus="FETCHING";return this.dataCatalogLineageApiService.searchLinks(b,a,c,d,5).pipe(_.eg(this.destroy),_.hg(({links:g,unreachable:n})=>{e.stop();this.analyticsService.sendEvent({type:"dcLineage",
name:"fetchingLinksCompleted",metadata:{latency:e.elapsed(),linksCount:g.length}});0<n.length&&(g=_.jk("Unable to fetch lineage from following locations: {locations}",{locations:n.sort().join(", ")}),this.snackBarService.open(g))},()=>{e.stop();this.analyticsService.sendEvent({type:"dcLineage",name:"fetchingLinksFailed",metadata:{latency:e.elapsed()}});"UPSTREAM"===c?f.upstreamLineageStatus="UNFETCHED":f.downstreamLineageStatus="UNFETCHED"}))}selectNode(a){if(this.selectedNode&&i8(this,this.selectedNode.node.id)===
i8(this,a.id))this.selectedNode=void 0,this.onChangeDetailsPanelEvent.emit({eventType:0});else{this.selectedNode={node:a,path:[]};a=this.onChangeDetailsPanelEvent;var b=a.emit;var c=this.selectedNode;const d=i8(this,c.node.id);c={eventType:1,entityType:"ASSET"===this.id2NodeInfos.get(c.node.id).type?3:1,fullyQualifiedName:d,displayName:c.node.displayName};b.call(a,c)}HQl(this)}isTooltipEnabled(a){return 15<this.getDisplayName(a).length}ngOnDestroy(){this.destroy.next();this.destroy.complete()}getDisplayName(a){return DKl(i8(this,
a.id),a.displayName)?"Anonymous table":a.displayName}sendError(a){this.onErrorEvent.emit({type:1,error:a})}};JQl.\u0275fac=function(a){return new (a||JQl)(_.A(IPl),_.A(_.iC),_.A(_.Tv),_.A(_.Wt))};
JQl.\u0275cmp=_.m({type:JQl,selectors:[["dc-data-lineage-graph-view"]],hostAttrs:[1,"cfc-flex-layout-column","cfc-width-full"],inputs:{fqn:"fqn",project:"project",location:"location",name:"name",host:"host",lineageControlBar:"lineageControlBar"},outputs:{onChangeDetailsPanelEvent:"onChangeDetailsPanelEvent",onErrorEvent:"onErrorEvent"},features:[_.Od],decls:10,vars:26,consts:()=>[["assetNode",""],["loadMoreNode",""],["processNode",""],["assetDisplayName",""],[3,"disablePadding","flexContent"],[3,
"features","theme"],[3,"zoomChange","expandedChange","enableMinimapChange","nodes","labelGenerator","zoom","expanded","enableMinimap","leftAlignedCustomToolbarToggleTemplates","rightAlignMainControls"],["minimapPosition","bottom",3,"zoomChange","selectedNodeChange","zoom","nodes","edges","layout","collapsedArtifacts","enableMinimap","selectedNode","customNodeTemplates"],[1,"dc-asset-node-wrapper"],["class","dc-asset-upstream-progress-button",3,"inProgress",4,"ngIf"],["class","dc-lineage-action-button",
"mat-icon-button","","cfcTooltip","Collapse",3,"ve","veClick","click",4,"ngIf"],["role","button","tabindex","0",1,"dc-asset-name-wrapper","cfc-truncated-text",3,"click","focusin","cfcTooltip","cfcTooltipDisabled","ve","veClick"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"dc-asset-name"],["class","dc-asset-downstream-progress-button",3,"inProgress",4,"ngIf"],["class","dc-lineage-action-button","mat-icon-button","","cfcTooltip","Collapse",3,"ve","veClick","click",4,"ngIf"],[1,"dc-asset-upstream-progress-button",
3,"inProgress"],["mat-icon-button","","cfcTooltip","Expand",1,"dc-lineage-action-button",3,"click","ve","veClick"],["icon","add"],["mat-icon-button","","cfcTooltip","Collapse",1,"dc-lineage-action-button",3,"click","ve","veClick"],["icon","remove"],["icon","analytics-hub","iconset","shell",1,"dc-asset-icon"],["icon","BIGQUERY_SECTION","iconset","shelllogos","size","medium",1,"dc-asset-icon"],["icon","cloud-storage","iconset","shell",1,"dc-asset-icon"],["icon","SQL_SECTION","iconset","shelllogos",
"size","medium",1,"dc-asset-icon"],["icon","DATAPLEX_SECTION","iconset","shelllogos","size","medium",1,"dc-asset-icon"],["icon","data-studio","size","small",1,"dc-asset-icon",3,"iconset"],["icon","DATAPROC_METASTORE_SECTION","iconset","shelllogos","size","medium",1,"dc-asset-icon"],["icon","VERTEX_SECTION","iconset","shelllogos","size","medium",1,"dc-asset-icon"],[1,"dc-asset-downstream-progress-button",3,"inProgress"],["mat-icon-button","","cfcTooltip","Expand",1,"dc-lineage-action-button",3,"click",
"ve","veClick"],["mat-icon-button","","cfcTooltip","Collapse",1,"dc-lineage-action-button",3,"click","ve","veClick"],[1,"dc-load-more-node-wrapper",3,"focusin"],["mat-icon-button","","cfcTooltip","Load more",3,"click","ve","veClick"],["icon","more-horizontal"],["role","button","tabindex","0",1,"dc-process-node-wrapper",3,"click","focusin","cfcTooltip","ve","veClick"],["icon","BIGQUERY_SECTION","iconset","shelllogos","size","medium",1,"cfc-color-charts-category7"],["icon","DATA_FUSION_SECTION","iconset",
"shelllogos","size","medium",1,"cfc-color-charts-category7"],["icon","CLOUD_COMPOSER_SECTION","iconset","shelllogos","size","medium",1,"cfc-color-charts-category7"],["icon","data-studio","size","small",1,"cfc-color-charts-category7",3,"iconset"],["icon","DATAPROC_SECTION","iconset","shelllogos","size","medium",1,"cfc-color-charts-category7"],["icon","VERTEX_SECTION","iconset","shelllogos","size","medium",1,"cfc-color-charts-category7"],["icon","settings","size","small",1,"cfc-color-charts-category7"]],
template:function(a,b){if(a&1){const c=_.t();_.I(0,"cfc-panel-body",4)(1,"ai-dag-scaffold",5)(2,"ai-dag-toolbar",6);_.mh("zoomChange",function(d){_.v(c);_.lh(b.zoom,d)||(b.zoom=d);return _.x(d)})("expandedChange",function(d){_.v(c);_.lh(b.expandedMode,d)||(b.expandedMode=d);return _.x(d)})("enableMinimapChange",function(d){_.v(c);_.lh(b.enableMinimap,d)||(b.enableMinimap=d);return _.x(d)});_.K();_.I(3,"ai-dag-renderer",7);_.mh("zoomChange",function(d){_.v(c);_.lh(b.zoom,d)||(b.zoom=d);return _.x(d)})("selectedNodeChange",
function(d){_.v(c);_.lh(b.selectedNode,d)||(b.selectedNode=d);return _.x(d)});_.K();_.G(4,dOl,21,28,"ng-template",null,0,_.yh)(6,eOl,3,2,"ng-template",null,1,_.yh)(8,oOl,10,15,"ng-template",null,2,_.yh);_.K()()}if(a&2){a=_.hh(5);const c=_.hh(7),d=_.hh(9);_.H("disablePadding",!0)("flexContent",!0);_.y();_.H("features",b.dagFeatures)("theme",b.theme);_.y();_.H("nodes",b.visibleNodes)("labelGenerator",IQl());_.kh("zoom",b.zoom)("expanded",b.expandedMode)("enableMinimap",b.enableMinimap);_.H("leftAlignedCustomToolbarToggleTemplates",
b.tableViewExperimentOn?_.qh(19,sQl,b.lineageControlBar):_.ph(21,tQl))("rightAlignMainControls",b.tableViewExperimentOn);_.y();_.kh("zoom",b.zoom);_.H("nodes",b.visibleNodes)("edges",b.visibleEdges)("layout",b.dagreOptions)("collapsedArtifacts",!b.expandedMode)("enableMinimap",b.enableMinimap);_.kh("selectedNode",b.selectedNode);_.H("customNodeTemplates",_.sh(22,uQl,a,c,d))}},dependencies:[_.IIl,_.XIl,_.UIl,_.bz,_.bA,_.Jy,_.jw,_.Gy,_.xs,_.ys,_.zs,_.Gv,_.Pv,_.uA,_.$z],styles:["[_nghost-%COMP%]{height:100%}.dc-asset-node-wrapper[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:0;left:0;right:0;bottom:0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;background-color:var(--cm-sys-color-neutral-container,#fafafa);border:1px solid #e0e0e0;border-radius:6px;box-shadow:-1px 1px #e0e0e0;-webkit-transition:width .25s,height .25s,border .25s;transition:width .25s,height .25s,border .25s}.dc-process-node-wrapper[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:0;left:0;right:0;bottom:0;padding:1px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:var(--cm-sys-color-neutral-container,#fafafa);border:1px solid #e0e0e0;border-radius:6px;-webkit-transition:width .25s,height .25s,border .25s;transition:width .25s,height .25s,border .25s}.dc-node-selected[_ngcontent-%COMP%]{border:1px solid var(--cm-sys-color-selection,#3367d6)}.dc-asset-margin-left[_ngcontent-%COMP%]{margin-left:8px}.dc-asset-margin-right[_ngcontent-%COMP%]{margin-right:8px}.dc-asset-name-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:100%}.dc-asset-name[_ngcontent-%COMP%]{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dc-asset-icon[_ngcontent-%COMP%]{color:var(--cm-sys-color-charts-category1,#4285f4);fill:var(--cm-sys-color-charts-category1,#4285f4)}.dc-asset-icon[_ngcontent-%COMP%] + .dc-asset-name[_ngcontent-%COMP%]{margin-left:8px}.dc-lineage-action-button[_ngcontent-%COMP%]{--cm-button-flat-gap:0;margin-right:0}.dc-load-more-node-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;background-color:var(--cm-sys-color-neutral-container,#fafafa);border:1px solid #e0e0e0;border-radius:50%;-webkit-transition:width .25s,height .25s,border .25s;transition:width .25s,height .25s,border .25s}"]});var KQl=function(a){a.onExplorePanelSettingsChange.emit({column:a.selectedColumn,direction:a.selectedSearchDirection,dependencyType:void 0===a.selectedColumn?"DEPENDENCY_TYPE_UNSPECIFIED":a.selectedDependencyType});a.analyticsService.sendEvent({type:"dcLineage",name:"explorePanelFiltersChanged",metadata:{isCllRequested:void 0!==a.selectedColumn,direction:a.selectedSearchDirection,dependencyType:a.selectedDependencyType}})},LQl=class{constructor(a){this.analyticsService=a;this.columns=[];this.columnsLoadingStatus=
"LOADING";this.onExplorePanelSettingsChange=new _.ms;this.LoadingStatus=EPl;this.SearchDirection=xPl;this.DependencyType=yPl;this.columnSelectionSectionExpanded=this.searchDirectionSectionExpanded=this.dependencyTypeSectionExpanded=!0;this.selectedDependencyType="DEPENDENCY_TYPE_UNSPECIFIED";this.selectedSearchDirection="DOWNSTREAM";this.columnSelectorDisableTooltip=this.selectedColumn=void 0;this.columnSelectorDisabled=!1;this.ve={DataCatalogLineageExplorePanelApplyFiltersButton:204628}}ngOnChanges(a){a.columns&&
(this.selectedColumn=void 0,KQl(this));this.columnSelectorDisableTooltip=(this.columnSelectorDisabled="FAILURE"===this.columnsLoadingStatus||"SUCCESS"===this.columnsLoadingStatus&&0===this.columns.length)?"FAILURE"===this.columnsLoadingStatus?"Failed to load table columns.":"There are no columns to select.":void 0}};LQl.\u0275fac=function(a){return new (a||LQl)(_.A(_.Wt))};
LQl.\u0275cmp=_.m({type:LQl,selectors:[["dc-lineage-explore-lineage-panel"]],inputs:{columns:"columns",columnsLoadingStatus:"columnsLoadingStatus"},outputs:{onExplorePanelSettingsChange:"onExplorePanelSettingsChange"},features:[_.Od],decls:27,vars:19,consts:()=>[" Column selection ","Column name"," Direction "," Direction specifies the data flow of the Lineage data. You can either assess entries that are upstream (that feed data into the entry in focus) or downstream (that utilize or are derived from the selected entry). ",
" Upstream "," Downstream "," Apply\n"," Dependency type "," Analyze lineage based on the type of lineage "," All - include all lineage. "," Data transfer - include lineage where data was moved. "," Exact copy - include lineage where data was copied without any change. "," All "," Data transfer "," Exact copy ",[3,"unfoldedChange","unfolded"],["expandAriaLabel","Expand column selection section","collapseAriaLabel","Contract column selection section",1,"section-head","cfc-background-base"],["id","column-selection-heading",
3,"visualLevel","semanticLevel"],["type","error",4,"ngIf"],["aria-labelledby","column-selection-heading","noneOptionText","--- None ---",3,"change","value","isLoading","cfcDisable","cfcDisableTooltip","hasFilter"],[3,"value",4,"ngFor","ngForOf"],["expandAriaLabel","Expand search direction section","collapseAriaLabel","Contract search direction section",1,"section-head","cfc-background-base"],["id","search-direction-heading",3,"visualLevel","semanticLevel"],["ariaLabel","Help with search direction",
"dialogAriaLabel","More info about search direction"],["aria-labelledby","search-direction-heading",3,"change","value"],[3,"value"],[3,"unfolded","unfoldedChange",4,"ngIf"],["mat-raised-button","","color","primary",3,"click","ve","veClick"],["type","error"],["expandAriaLabel","Expand dependency type section","collapseAriaLabel","Contract dependency type section",1,"section-head","cfc-background-base"],["id","dependency-type-heading",3,"visualLevel","semanticLevel"],["ariaLabel","Help with dependency type",
"dialogAriaLabel","More info about dependency type"],[1,"cfc-text-caption"],["cfc-list","",1,"cfc-text-caption"],["aria-labelledby","dependency-type-heading",3,"change","cmDisabled","value"]],template:function(a,b){a&1&&(_.I(0,"form")(1,"cfc-unfold",15),_.P("unfoldedChange",function(c){b.columnSelectionSectionExpanded=c}),_.I(2,"cfc-unfold-header",16)(3,"cfc-heading",17),_.O(4,0),_.K()(),_.I(5,"cfc-unfold-hidden-content"),_.G(6,pOl,3,1,"cfc-message",18),_.I(7,"mat-form-field")(8,"mat-label"),_.O(9,
1),_.K(),_.I(10,"cfc-select",19),_.P("change",function(c){b.selectedColumn=""===c.value?void 0:c.value}),_.G(11,qOl,2,2,"mat-option",20),_.K()()()(),_.I(12,"cfc-unfold",15),_.P("unfoldedChange",function(c){b.searchDirectionSectionExpanded=c}),_.I(13,"cfc-unfold-header",21)(14,"cfc-heading",22),_.O(15,2),_.K(),_.I(16,"cfc-help-button",23),_.O(17,3),_.K()(),_.I(18,"cfc-unfold-hidden-content")(19,"mat-radio-group",24),_.P("change",function(c){b.selectedSearchDirection=c.value}),_.I(20,"mat-radio-button",
25),_.O(21,4),_.K(),_.I(22,"mat-radio-button",25),_.O(23,5),_.K()()()(),_.G(24,rOl,22,8,"cfc-unfold",26),_.K(),_.I(25,"button",27),_.P("click",function(){return KQl(b)}),_.O(26,6),_.K());if(a&2){let c;_.y();_.H("unfolded",b.columnSelectionSectionExpanded);_.y(2);_.H("visualLevel",5)("semanticLevel",3);_.y(3);_.H("ngIf",b.columnsLoadingStatus===b.LoadingStatus.FAILURE);_.y(4);_.H("value",null!==(c=b.selectedColumn)&&void 0!==c?c:"")("isLoading",b.columnsLoadingStatus===b.LoadingStatus.LOADING)("cfcDisable",
b.columnSelectorDisabled)("cfcDisableTooltip",b.columnSelectorDisableTooltip)("hasFilter",!0);_.y();_.H("ngForOf",b.columns);_.y();_.H("unfolded",b.searchDirectionSectionExpanded);_.y(2);_.H("visualLevel",5)("semanticLevel",3);_.y(5);_.H("value",b.selectedSearchDirection);_.y();_.H("value",b.SearchDirection.UPSTREAM);_.y(2);_.H("value",b.SearchDirection.DOWNSTREAM);_.y(2);_.H("ngIf",void 0!==b.selectedColumn);_.y();_.H("ve",b.ve.DataCatalogLineageExplorePanelApplyFiltersButton)("veClick",!0)}},dependencies:[_.bz,
_.bA,_.ws,_.xs,_.nA,_.mA,_.oA,_.kA,_.lA,_.Oy,_.Py,_.mx,_.hx,_.Jy,_.hw,_.Gy,_.IA,_.VC,_.jG,_.kG,_.lG,_.BA,_.AA,_.iv,_.HA,_.Hv,_.Iv,_.FB,_.oC],styles:["[_nghost-%COMP%]{padding-inline:24px}.section-head[_ngcontent-%COMP%]{margin-inline:-24px;padding-left:24px;padding-right:14px;line-height:40px}"],changeDetection:0});var MQl=()=>["rowID"],NQl=function(a,b){void 0===b.links?(3===b.errorCode&&b.message&&HPl.test(b.message)&&(a.isInvalidLocation=!0),a.onErrorEvent.emit({type:2,error:b}),a.linksLoadingStatus="FAILURE",a.clientTableManager.rows=[]):(a.displayColumnLevelData||(b.links=QKl(b.links)),a.clientTableManager.rows=b.links.map((c,d)=>{const e=1===a.host?MKl(c.source.fullyQualifiedName):void 0,f=1===a.host?MKl(c.target.fullyQualifiedName):void 0,g=NKl(c.source.fullyQualifiedName),n=NKl(c.target.fullyQualifiedName);
return Object.assign({},c,{rowID:`${d}`,sourceLink:e,targetLink:f,sourceEnvironmentEvent:0===a.host&&g?{type:0,entry:g,location:"NEW_TAB"}:void 0,targetEnvironmentEvent:0===a.host&&n?{type:0,entry:n,location:"NEW_TAB"}:void 0})}),a.onErrorEvent.emit({type:0}),a.linksLoadingStatus="SUCCESS",a.isInvalidLocation=!1)},OQl=class{constructor(a,b,c,d,e){this.analyticsService=a;this.dataCatalogGraphqlService=b;this.destroyRef=d;this.locale=e;this.host=1;this.onChangeDetailsPanelEvent=new _.ms;this.onErrorEvent=
new _.ms;this.onEnvironmentEvent=new _.ms;this.LineageViewType=GPl;this.LoadingStatus=EPl;this.icons={downloadIcon:_.DSg};this.fullBleedConfig={mode:"never"};this.columnsConfig=[{id:"source",accessor:f=>f.source.entityName},{id:"source column",accessor:f=>{let g;return null==(g=f.source.field)?void 0:g[0]}},{id:"source fqn",accessor:f=>f.source.fullyQualifiedName},{id:"target",accessor:f=>f.target.entityName},{id:"target column",accessor:f=>{let g;return null==(g=f.target.field)?void 0:g[0]}},{id:"target fqn",
accessor:f=>f.target.fullyQualifiedName},{id:"direction",accessor:f=>f.direction},{id:"dependency types",accessor:f=>f.dependencyInfo.map(g=>g.dependencyType)},{id:"depth",accessor:f=>f.depth}];this.linksLoadingStatus="NONE";this.displayColumnLevelData=!1;this.userFacingDependencyTypeName=OKl;this.userFacingSearchDirection=PKl;this.defaultExplorePanelConfig={isResizable:!0,isMinimizable:!0,size:"370px",minSize:"270px",maxSize:"500px"};Object.assign({},this.defaultExplorePanelConfig);this.settingsChanges$=
new _.Yf;this.assetChanges$=new _.Yf;this.fetchData$=_.We({settings:this.settingsChanges$,asset:this.assetChanges$});this.isInvalidLocation=!1;this.ve={DataCatalogLineageExplorePanel:204680,DataCatalogLineageListViewTargetBQLink:204633,DataCatalogLineageListViewSourceBQLink:204631,DataCatalogLineageListViewSourceLink:204632,DataCatalogLineageListViewTargetLink:204634,DataCatalogLineageExportCsvButton:204629};this.uniqueId=_.Em();this.clientTableManager=c.createTableManager();this.fetchData$.pipe(_.$i(this.destroyRef),
_.Df(0),_.F(f=>{this.clientTableManager.rows=void 0;this.linksLoadingStatus="LOADING";this.displayColumnLevelData=void 0!==f.settings.column;return this.fetchLineage(f)}),_.Df(0)).subscribe(f=>{NQl(this,f)})}ngOnChanges(a){if(a.project||a.fqn||a.location)this.retryFetching(),this.isInvalidLocation=!1}retryFetching(){this.assetChanges$.next({fqn:this.fqn,project:this.project,location:this.location})}selectedRowsChanged(a){if(0!==a.length){if(1<a.length)throw Error("It");a=a[0];var b=a.processes.map(e=>
{e=e.processName;const {processId:f}=CKl(e);return{name:e,id:f}}),c,d;this.onChangeDetailsPanelEvent.emit(Object.assign({},{eventType:1,entityType:2,sourceFqn:a.source.fullyQualifiedName,targetFqn:a.target.fullyQualifiedName,processFqn:a.processes[0].processName,sourceDisplayName:a.source.entityName,targetDisplayName:a.target.entityName,processDisplayName:a.processes[0].processName,processList:b},this.displayColumnLevelData&&{sourceColumn:null==(c=a.source.field)?void 0:c[0]},this.displayColumnLevelData&&
{targetColumn:null==(d=a.target.field)?void 0:d[0]}));this.analyticsService.sendEvent({type:"dcLineage",name:"listViewRowSelected",metadata:{isCllRow:this.displayColumnLevelData}})}}fetchLineage(a){const b=_.fi().startGenericStopwatch();this.analyticsService.sendEvent({type:"dcLineage",name:"fetchLineageListViewLinksStarted",metadata:{isCllRequest:void 0!==a.settings.column}});return this.dataCatalogGraphqlService.searchLineage({fullyQualifiedName:a.asset.fqn,projectId:a.asset.project,location:a.asset.location,
direction:a.settings.direction,dependencyType:a.settings.dependencyType,field:void 0===a.settings.column?null:[a.settings.column.column]}).pipe(_.Nf(),_.hg(c=>{b.stop();this.analyticsService.sendEvent({type:"dcLineage",name:"fetchLineageListViewLinksCompleted",metadata:{latency:b.elapsed(),linksCount:c.links.length,hasCllData:void 0!==a.settings.column}})}),_.uf(c=>{b.stop();this.analyticsService.sendEvent({type:"dcLineage",name:"fetchLineageListViewLinksFailed",metadata:{latency:b.elapsed(),isCllRequest:void 0!==
a.settings.column}});return _.B(c)}))}getActionBarId(a){return`dc-data-lineage-table-view-action-bar-${"MAIN"===a?"main":"side"}-${this.uniqueId}`}};OQl.\u0275fac=function(a){return new (a||OQl)(_.A(_.Wt),_.A(_.M_),_.A(_.yC),_.A(_.sf),_.A(_.wi))};
OQl.\u0275cmp=_.m({type:OQl,selectors:[["dc-data-lineage-table-view"]],viewQuery:function(a,b){a&1&&_.ch(_.q_,5);if(a&2){let c;_.eh(c=_.gh())&&(b.leftPanelLayout=c.first)}},hostAttrs:[1,"cfc-height-full","cfc-flex-container","cfc-flex-direction-column","cfc-flex-layout-column"],inputs:{fqn:"fqn",project:"project",location:"location",name:"name",columns:"columns",columnsLoadingStatus:"columnsLoadingStatus",lineageControlBar:"lineageControlBar",host:"host"},outputs:{onChangeDetailsPanelEvent:"onChangeDetailsPanelEvent",
onErrorEvent:"onErrorEvent",onEnvironmentEvent:"onEnvironmentEvent"},features:[_.Od],decls:27,vars:45,consts:()=>[" Failed to fetch lineage. "," Retry "," Lineage is not yet available in region: \ufffd0\ufffd ",["aria-label","Lineage page navigation",1,"reflect-graph-nav-padding"],[4,"ngTemplateOutlet"],[4,"ngIf"],[1,"cfc-flex-container","cfc-height-full",3,"sidePanelConfig","sidePanelIsExpanded"],["ariaLabel","Explore lineage",3,"actionBarId"],["cfcTitle","Explore lineage",3,"id"],[3,"flexContent",
"disablePadding","ve","veImpression"],[3,"onExplorePanelSettingsChange","columns","columnsLoadingStatus"],[3,"addNavButtonInFullScreen","actionBarId"],["cfcTitle","Table of results",3,"id","hideComponent"],[3,"disablePadding","flexContent"],[1,"cfc-scroll-vertical",3,"isLoading","renderDuringLoading"],["ariaLabel","table view for lineage",3,"selectedRowsChanged","tableManager","columnsConfig","showFilter","sortKeys","showColumnsChooser","pagination","showJumpToFirstAndLastPageButtons","selectionMode",
"showSelectionControls","hideTopBorder","fullBleedConfig","tableRendererV2"],["side","right",4,"ngIf"],["id","source","header","Source",3,"nonHideable"],[4,"cfcTableTemplate"],["id","source column","header","Source Column",3,"nonHideable",4,"ngIf"],["id","source fqn","header","Source FQN",3,"hidden"],["id","target","header","Target",3,"nonHideable"],["id","target column","header","Target Column",3,"nonHideable",4,"ngIf"],["id","target fqn","header","Target FQN",3,"hidden"],"id direction header Direction type non_filterable".split(" "),
["id","dependency types","header","Dependency types",3,"hidden"],["cfc-tag-bar","",4,"cfcTableTemplate"],"id depth header Depth type integer".split(" "),["class","cfc-space-last","type","error",4,"ngIf"],["type","error",1,"cfc-space-last"],["mat-button","","color","primary",3,"click"],["side","right"],["id","dc-lineage-list-csv-download-btn","mat-icon-button","","type","button","aria-label","Download all table rows as CSV","cfcTooltip","Download all table rows as CSV","cfcTooltipPosition","top",3,
"click","ve","veClick"],[3,"icon"],["fragment","lineage",3,"cfcRouterLink","queryParams","ve","veClick",4,"ngIf"],["cfcSemanticButton","","aria-label","Open lineage in new BigQuery tab",3,"ve","veClick","click",4,"ngIf"],["fragment","lineage",3,"cfcRouterLink","queryParams","ve","veClick"],["cfcSemanticButton","","aria-label","Open lineage in new BigQuery tab",3,"click","ve","veClick"],["id","source column","header","Source Column",3,"nonHideable"],["cfcSemanticButton","","aria-label","Open lineage in new BigQuery tab",
3,"ve","veClick","click",4,"ngIf"],["cfcSemanticButton","","aria-label","Open lineage in new BigQuery tab",3,"click","ve","veClick"],["id","target column","header","Target Column",3,"nonHideable"],["cfc-tag-bar",""],["cfc-tag","",4,"ngFor","ngForOf"],["cfc-tag",""]],template:function(a,b){a&1&&(_.I(0,"nav",3),_.G(1,sOl,1,0,"ng-container",4),_.K(),_.G(2,vOl,3,2,"div",5),_.I(3,"cfc-left-panel-layout",6)(4,"cfc-left-panel-content",7),_.L(5,"cfc-action-bar",8),_.I(6,"cfc-panel-body",9)(7,"dc-lineage-explore-lineage-panel",
10),_.P("onExplorePanelSettingsChange",function(c){b.settingsChanges$.next(c)}),_.K()()(),_.I(8,"cfc-main-panel-content",11),_.L(9,"cfc-action-bar",12),_.I(10,"cfc-panel-body",13)(11,"cfc-loader",14)(12,"cfc-table",15),_.P("selectedRowsChanged",function(c){return b.selectedRowsChanged(c)}),_.G(13,wOl,3,3,"cfc-exposed-filter",16),_.I(14,"cfc-table-column",17),_.G(15,AOl,4,3,"ng-container",18),_.K(),_.G(16,BOl,1,1,"cfc-table-column",19),_.L(17,"cfc-table-column",20),_.I(18,"cfc-table-column",21),_.G(19,
FOl,4,3,"ng-container",18),_.K(),_.G(20,GOl,1,1,"cfc-table-column",22),_.L(21,"cfc-table-column",23),_.I(22,"cfc-table-column",24),_.G(23,HOl,2,1,"ng-container",18),_.K(),_.I(24,"cfc-table-column",25),_.G(25,JOl,2,1,"ul",26),_.K(),_.L(26,"cfc-table-column",27),_.K()()()()());a&2&&(_.y(),_.H("ngTemplateOutlet",b.lineageControlBar),_.y(),_.H("ngIf",b.linksLoadingStatus===b.LoadingStatus.FAILURE),_.y(),_.H("sidePanelConfig",b.defaultExplorePanelConfig)("sidePanelIsExpanded",!0),_.y(),_.H("actionBarId",
b.getActionBarId("SIDE")),_.y(),_.H("id",b.getActionBarId("SIDE")),_.y(),_.H("flexContent",!0)("disablePadding",!0)("ve",b.ve.DataCatalogLineageExplorePanel)("veImpression",!0),_.y(),_.H("columns",b.columns)("columnsLoadingStatus",b.columnsLoadingStatus),_.y(),_.H("addNavButtonInFullScreen",!0)("actionBarId",b.getActionBarId("MAIN")),_.y(),_.H("id",b.getActionBarId("MAIN"))("hideComponent",!(null==b.leftPanelLayout?0:b.leftPanelLayout.shouldShowMainSwitchButton)),_.y(),_.H("disablePadding",!0)("flexContent",
!0),_.y(),_.H("isLoading",b.linksLoadingStatus===b.LoadingStatus.LOADING)("renderDuringLoading",!0),_.y(),_.H("tableManager",b.clientTableManager)("columnsConfig",b.columnsConfig)("showFilter",!0)("sortKeys",_.ph(44,MQl))("showColumnsChooser",!0)("pagination",!0)("showJumpToFirstAndLastPageButtons",!0)("selectionMode","single")("showSelectionControls",!1)("hideTopBorder",!0)("fullBleedConfig",b.fullBleedConfig)("tableRendererV2",!1),_.y(),_.H("ngIf",!!b.clientTableManager.rows),_.y(),_.H("nonHideable",
!0),_.y(),_.H("cfcTableTemplate","body"),_.y(),_.H("ngIf",b.displayColumnLevelData),_.y(),_.H("hidden",!0),_.y(),_.H("nonHideable",!0),_.y(),_.H("cfcTableTemplate","body"),_.y(),_.H("ngIf",b.displayColumnLevelData),_.y(),_.H("hidden",!0),_.y(2),_.H("cfcTableTemplate","body"),_.y(),_.H("hidden",!0),_.y(),_.H("cfcTableTemplate","body"))},dependencies:[_.bz,_.bA,_.eF,_.Jy,_.hw,_.jw,_.Gy,_.ws,_.xs,_.Es,LQl,_.a5e,_.vv,_.YNg,_.q_,_.Pv,_.AW,_.HD,_.Hv,_.Jv,_.Iv,_.Yz,_.UC,_.zC,_.AC,_.hD,_.SC,_.TC,_.$z],styles:[".reflect-graph-nav-padding[_ngcontent-%COMP%]{padding:.25em 1.25em;min-height:36px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;border-bottom:1px solid var(--cm-sys-color-hairline,rgba(0,0,0,.12))}"]});var QOl={setting:"DC_LINEAGE_DELAY_MESSAGE_CLOSED"};var PQl=new _.$r("45404016");var LOl=function(a){const b=a.lineageApiNotEnabledError;_.ef({datacCatalogApi:QQl(a,b),lineageApi:RQl(a,b)}).subscribe(()=>{NOl(a)})},NOl=function(a){let b,c;null==(b=a.graphView)||null==(c=b.fetchData)||c.call(b);let d,e;null==(d=a.tableView)||null==(e=d.retryFetching)||e.call(d)},SQl=function(a,b){const c=Number(b);return isFinite(c)&&c?_.B(c):a.projectService.getProject(b,!0).pipe(_.D(({numericProjectId:d})=>d),_.uf(()=>{a.snackBarService.open("Fetching lineage failed. Please retry.");return _.B(void 0)}))},
TQl=function(a){return a.basicTypesService.get(QOl).pipe(_.Gf(1),_.D(b=>{let c;return!!(null==b?0:null==(c=b.value)?0:c.boolVal)}),_.uf(()=>_.B(!1)))},UQl=function(a,b){_.G4k(b)?(b=b.message.match(_.F4k),a.dataCatalogApiNotEnabledError={env:(b[1]||"prod").toUpperCase(),projectRef:b[2]}):7===b.errorCode&&b.message&&FKl.test(b.message)?a.lineageApiNotEnabledError=GKl(b):_.I4k(b)?a.billingNotEnabledError=HKl(b):a.snackBarService.open("Fetching node details failed.")},VQl=function(a,b,c){const d=_.fi().startGenericStopwatch();
a.analyticsService.sendEvent({type:"dcLineage",name:"fetchingNodeDetailsStarted",metadata:{type:b}});return c.pipe(_.hg(()=>{d.stop();a.analyticsService.sendEvent({type:"dcLineage",name:"fetchingNodeDetailsCompleted",metadata:{type:b,latency:d.elapsed()}})},()=>{d.stop();a.analyticsService.sendEvent({type:"dcLineage",name:"fetchingNodeDetailsFailed",metadata:{type:b,latency:d.elapsed()}})}))},WQl=function(a,b){b=a.dataCatalogGraphqlService.getProcessDetails(b).pipe(_.D(c=>({entityType:1,data:c,additionalMatchingCount:0})));
return VQl(a,"process",b)},XQl=function(a,b){const c=_.Xc(_.Bmg),d=_.hTg(a.dataCatalogSearchRequestContextService).pipe(_.F(e=>a.dataCatalogGraphqlService.lookupEntries({fullyQualifiedName:b,includeOrgIds:e.orgIds||[],includeProjectIds:e.projectIds||[],pageToken:"",pageSize:2}).pipe(_.F(f=>{f=f.entries.map(g=>_.W4g(a.entryDetailsApiService,g.name,{useGraphQl:c}).pipe(_.D(({entry:n,entryInfo:p})=>wKl({apiEntry:n,tags:[],entryInfo:p}))));return _.ef(f).pipe(_.Bf([]))}))),_.D(e=>{if(0===e.length)throw Error("No data to display.");
return{entityType:3,data:e[0],additionalMatchingCount:e.length-1,isRoot:b===a.fqn}}));return VQl(a,"asset",d)},YQl=function(a,b){var c=CJl(b);c=a.entryDetailsApiService.dataCatalogApiService.entryLookups.lookup({linkedResource:c}).pipe(_.D(d=>({entityType:3,data:wKl({apiEntry:d,tags:[]}),additionalMatchingCount:0,isRoot:b===a.fqn})));return VQl(a,"asset",c)},$Ql=function(a,b){const c=ZQl(XQl(a,b.sourceFqn),3),d=ZQl(XQl(a,b.targetFqn),3);a=ZQl(WQl(a,b.processFqn),1);return _.ef([c,d,a])},ZQl=function(a,
b){return a.pipe(_.uf(c=>"No data to display."===c.message?_.B({entityType:b,data:null,additionalMatchingCount:0}):_.Ne(c)))},QQl=function(a,b){a.isEnablingDataCatalogApi=!0;return a.serviceUsageService.enableService(b.projectRef,_.J4k(b.env)).pipe(_.hg(()=>{a.isEnablingDataCatalogApi=!1;a.dataCatalogApiNotEnabledError=void 0},()=>{a.isEnablingDataCatalogApi=!1;a.dataCatalogApiNotEnabledError=void 0;a.snackBarService.open("Enabling Data Catalog API failed. Please retry.")}))},RQl=function(a,b){a.isEnablingDataLineageApi=
!0;return a.serviceUsageService.enableService(b.projectRef,IKl(b.env)).pipe(_.hg(()=>{a.isEnablingDataLineageApi=!1;a.lineageApiNotEnabledError=void 0},()=>{a.isEnablingDataLineageApi=!1;a.lineageApiNotEnabledError=void 0;a.snackBarService.open("Enabling Data Lineage API failed. Please retry.")}))},aRl=function(a){a.lastExpandDetailsPageEvent&&a.changeDetailsPanel$.next(a.lastExpandDetailsPageEvent)},bRl=class{get linksLoadingStatus(){var a;const b=null==(a=this.graphView)?void 0:a.linksLoadingStatus;
let c;a=null==(c=this.tableView)?void 0:c.linksLoadingStatus;return"FAILURE"===b||"FAILURE"===a?"FAILURE":"LOADING"===b||"LOADING"===a?"LOADING":"SUCCESS"===b&&"SUCCESS"===a?"SUCCESS":"NONE"}constructor(a,b,c,d,e,f,g,n,p){this.entryDetailsApiService=a;this.snackBarService=b;this.iconService=c;this.basicTypesService=d;this.analyticsService=e;this.serviceUsageService=f;this.projectService=g;this.dataCatalogGraphqlService=n;this.dataCatalogSearchRequestContextService=p;this.dl={CONSOLE__DATA_CATALOG_DOCS_CONCEPTS_ABOUT_DATA_LINEAGE:cPl};
this.defaultDetailsPanelPosition="RIGHT";this.host=1;this.onEnvironmentEvent=new _.ms;this.enablePermissions=_.Lp();this.iamCheckOperator=_.UD;this.destroy=new _.Te;this.changeDetailsPanel$=new _.Yf;this.rootAssetColumns=[];this.loadingStatus=EPl;this.rootAssetColumnsLoadingStatus=this.detailsLoadingStatus="NONE";this.isEnablingDataLineageApi=this.isEnablingDataCatalogApi=!1;this.detailsPanelPosition="RIGHT";this.fqn$=new _.Sh;this.project$=new _.Sh;this.projectNumber$=this.project$.pipe(_.F(r=>r?
SQl(this,r).pipe(_.cg(void 0)):_.B(void 0)),_.$f({bufferSize:1,refCount:!0}),_.eg(this.destroy));this.showLineageGraph$=_.We({fqn:this.fqn$,projectNumber:this.projectNumber$}).pipe(_.D(({fqn:r,projectNumber:u})=>!!u&&!!r));this.isDelayMessageDismissed$=new _.Sh(!1);this.isDelayMessageClosed$=_.We({closed:TQl(this),dismissed:this.isDelayMessageDismissed$}).pipe(_.D(({closed:r,dismissed:u})=>r||u));this.showDelayMessage$=_.We({projectNumber:this.projectNumber$,fqn:this.fqn$,messageClosed:this.isDelayMessageClosed$}).pipe(_.D(({projectNumber:r,
fqn:u,messageClosed:w})=>{const z=!!r,C=this.isBillingEnabled(r);r=this.isLineageApiEnabled(r);return z&&C&&r&&!!u&&!w}));this.DataCatalogIconSetName="data_catalog";this.LineageViewType=GPl;this.isLookupEntriesByFqnEnabled=_.Xc(PQl);this.viewType=1;this.TABLE_VIEW_EXPERIMENT_ENABLED=_.Xc(RPl);this.ve={DataCatalogLineageLoadMoreButton:141919,DataCatalogLineageViewLineageLink:141922,DataCatalogLineageCollapseButton:141916,DataCatalogLineageEnableLink:141917,DataCatalogLineageProcessNode:141920,DataCatalogLineageRunDetailLink:141921,
DataCatalogLineageExpandButton:141918,DataCatalogLineageAssetNode:141915};this.uniqueId=_.Em();c.registerIconset("shellgm2","small",6);this.TABLE_VIEW_EXPERIMENT_ENABLED&&this.showLineageGraph$.pipe(_.eg(this.destroy),_.F(()=>{if(!this.fqn)return _.B(void 0);this.rootAssetColumns=[];this.rootAssetColumnsLoadingStatus="LOADING";return this.fetchDetails({eventType:1,entityType:3,fullyQualifiedName:this.fqn,displayName:this.name}).pipe(_.hg({next:()=>{this.rootAssetColumnsLoadingStatus="SUCCESS"},error:()=>
{this.rootAssetColumnsLoadingStatus="FAILURE"}}),_.uf(r=>{"No data to display."===r.message&&(this.rootAssetColumns=[],this.rootAssetColumnsLoadingStatus="SUCCESS");UQl(this,r);return _.B(void 0)}))})).subscribe(r=>{void 0===r?this.rootAssetColumns=[]:(r=r.data,this.rootAssetColumns=mJl(r)?r.nestedSchema:[])});this.changeDetailsPanel$.pipe(_.eg(this.destroy),_.F(r=>{this.detailsLoadingStatus="LOADING";this.billingNotEnabledError=this.lineageApiNotEnabledError=this.dataCatalogApiNotEnabledError=void 0;
return this.fetchDetails(r).pipe(_.hg(()=>{this.detailsLoadingStatus="SUCCESS"},()=>{this.detailsLoadingStatus="FAILURE"}),_.uf(u=>{"No data to display."===u.message&&(this.detailsPanelFetchedData=void 0);UQl(this,u);return _.B(void 0)}))})).subscribe(r=>{this.detailsPanelFetchedData=r})}ngOnInit(){"undefined"!==typeof this.defaultDetailsPanelPosition&&(this.detailsPanelPosition=this.defaultDetailsPanelPosition);this.detailsPanelActionBarId=this.getActionBarId("SIDE")}ngOnChanges(a){a.project&&this.project$.next(this.project);
a.fqn&&(this.fqn$.next(this.fqn),this.detailsPanelFetchedData=this.lastExpandDetailsPageEvent=void 0,this.detailsLoadingStatus="NONE")}getProjectStubIamCompatible(a){return new _.Cj(a,0)}isLineageApiEnabled(a){return this.isApiEnabled(this.lineageApiNotEnabledError,a)}isDataCatalogApiEnabled(){return this.isApiEnabled(this.dataCatalogApiNotEnabledError,void 0)}isBillingEnabled(a){return this.isApiEnabled(this.billingNotEnabledError,a)}isApiEnabled(a,b){return void 0===a?!0:void 0===b?!1:a.projectRef!==
`${b}`&&a.projectRef!==this.project}fetchDetails(a){switch(a.entityType){case 1:return WQl(this,a.fullyQualifiedName);case 3:const {system:b}=BKl(a.fullyQualifiedName);return this.isLookupEntriesByFqnEnabled?XQl(this,a.fullyQualifiedName):"bigquery"===b?DKl(a.fullyQualifiedName,a.displayName)?_.Ne(Error("No data to display.")):YQl(this,a.fullyQualifiedName):_.Ne(Error("No data to display."));case 2:return $Ql(this,a).pipe(_.D(([c,d,e])=>{let f=void 0,g=void 0;a.sourceColumn&&c.data&&mJl(c.data)&&
(f=c.data.schema.find(n=>n.name===a.sourceColumn));a.targetColumn&&d.data&&mJl(d.data)&&(g=d.data.schema.find(n=>n.name===a.targetColumn));return{entityType:2,source:c,target:d,selectedProcess:e,sourceColumn:f,targetColumn:g,processList:a.processList}}));default:return _.Ne(Error("No data to display."))}}onChangeDetailsPanelEvent(a){var b;const c=null==(b=this.dynamicPanelLayout)?void 0:b.rightPanelLayout;let d;b=null==(d=this.dynamicPanelLayout)?void 0:d.bottomPanelLayout;0===a.eventType?(this.detailsPanelFetchedData=
this.lastExpandDetailsPageEvent=void 0,this.detailsLoadingStatus="NONE",c&&c.isSidePanelExpanded()&&c.toggleSidePanel(!1),b&&b.isSidePanelExpanded&&b.toggleSidePanelExpandedState()):(this.lastExpandDetailsPageEvent=a,this.changeDetailsPanel$.next(a),c&&!c.isSidePanelExpanded()&&c.toggleSidePanel(!0),b&&!b.isSidePanelExpanded&&b.toggleSidePanelExpandedState())}onErrorEvent(a){setTimeout(()=>{if(0===a.type)this.billingNotEnabledError=this.lineageApiNotEnabledError=void 0;else{var b=a.error;7===b.errorCode&&
b.message&&FKl.test(b.message)?this.lineageApiNotEnabledError=GKl(b):_.I4k(b)?this.billingNotEnabledError=HKl(b):7===b.errorCode?this.snackBarService.open("Fetching lineage failed due to missing permissions."):2!==a.type&&this.snackBarService.open("Fetching lineage failed. Please retry.")}},0)}ngOnDestroy(){this.expandDetailsPanelTimer&&clearTimeout(this.expandDetailsPanelTimer);this.destroy.next();this.destroy.complete()}toggleDetailsPanelPosition(){this.detailsPanelPosition="RIGHT"===this.detailsPanelPosition?
"BOTTOM":"RIGHT";"RIGHT"===this.detailsPanelPosition&&(this.expandDetailsPanelTimer=setTimeout(()=>{let a,b;null==(a=this.dynamicPanelLayout)||null==(b=a.rightPanelLayout)||b.toggleSidePanelExpandedState(!0)}))}enableDataLineageApi(){RQl(this,this.lineageApiNotEnabledError).subscribe(()=>{aRl(this)})}enableDataCatalogApi(){QQl(this,this.dataCatalogApiNotEnabledError).subscribe(()=>{aRl(this)})}getActionBarId(a){return`dc-data-lineage-action-bar-${"MAIN"===a?"main":"side"}-${this.uniqueId}`}isComposerProcessDetail(a){return"COMPOSER"===
a.origin.sourceType}onChangeViewType(a){this.viewType=a;null!=(a=this.tableView)&&(a.clientTableManager.table.resetSelectedRows(),a.onChangeDetailsPanelEvent.emit({eventType:0}));null!=(a=this.graphView)&&(a.selectedNode=void 0,a.onChangeDetailsPanelEvent.emit({eventType:0}),HQl(a))}};bRl.\u0275fac=function(a){return new (a||bRl)(_.A(_.o0),_.A(_.iC),_.A(_.Tv),_.A(_.Nx),_.A(_.Wt),_.A(_.SL),_.A(_.ex),_.A(_.M_),_.A(_.O_))};
bRl.\u0275cmp=_.m({type:bRl,selectors:[["dc-data-lineage-graph"]],viewQuery:function(a,b){a&1&&(_.ch(rQl,5),_.ch(JQl,5),_.ch(OQl,5));if(a&2){let c;_.eh(c=_.gh())&&(b.dynamicPanelLayout=c.first);_.eh(c=_.gh())&&(b.graphView=c.first);_.eh(c=_.gh())&&(b.tableView=c.first)}},hostAttrs:[1,"cfc-flex-layout-column","cfc-width-full"],inputs:{fqn:"fqn",project:"project",location:"location",name:"name",defaultDetailsPanelPosition:"defaultDetailsPanelPosition",host:"host"},outputs:{onEnvironmentEvent:"onEnvironmentEvent"},
features:[_.Od],decls:15,vars:33,consts:()=>[["lineageGraphControlBar",""],["lineageTableControlBar",""]," Lineage requires both Data Lineage API and Data Catalog API to be enabled in project \ufffd#5\ufffd\ufffd0\ufffd\ufffd/#5\ufffd. "," Enabling them may have \ufffd#8\ufffdbilling implications\ufffd/#8\ufffd. "," Enable required APIs "," Lineage requires billing account enabled in project \ufffd#5\ufffd\ufffd0\ufffd\ufffd/#5\ufffd. "," Retry "," Changes made in other systems may not be reflected immediately on lineage. ",
" Dismiss ",["class","cfc-gutter-minus-2",4,"ngIf"],[4,"ngIf"],["type","warning","class","cfc-space-last",4,"ngIf"],[3,"detailsPanelPosition","detailsLoadingStatus","actionBarSuffix","showLineageGraph","viewType"],["content","","graph","","aria-label","Graph View",1,"cfc-height-full"],[3,"onChangeDetailsPanelEvent","onErrorEvent","fqn","project","location","name","host","lineageControlBar"],["content","","table","","class","cfc-height-full cfc-flex-container cfc-flex-direction-column","aria-label",
"List View",4,"ngIf"],["details","",3,"onEnvironmentEvent","toggleDetailsPanelPosition","enableDataCatalogApi","enableDataLineageApi","retryFetchingSelectedNodeDetails","onSelectedProcessChange","host","lineageViewType","detailsPanelPosition","detailsLoadingStatus","fetchedData","targetOpenEntity","actionBarId","dataCatalogApiNotEnabledError","isEnablingDataCatalogApi","lineageApiNotEnabledError","isEnablingDataLineageApi","billingNotEnabledError"],[1,"cfc-gutter-minus-2"],["type","warning"],[3,"cfcDocLink"],
[3,"inProgress"],["mat-button","","color","primary","cfcDisable","",3,"click","cfcIamCheck","cfcIamOperator","cfcIamResource","ve","veClick"],["mat-button","","color","primary",3,"click"],["type","warning",1,"cfc-space-last"],["content","","table","","aria-label","List View",1,"cfc-height-full","cfc-flex-container","cfc-flex-direction-column"],[3,"onChangeDetailsPanelEvent","onErrorEvent","onEnvironmentEvent","fqn","project","location","name","host","columns","columnsLoadingStatus","lineageControlBar"],
[3,"onChangeViewType","parentPanelViewType","selectedViewType"]],template:function(a,b){if(a&1){const c=_.t();_.G(0,KOl,4,0,"div",9)(1,POl,3,2,"ng-container",10);_.V(2,"async");_.G(3,ROl,6,0,"cfc-message",11);_.V(4,"async");_.I(5,"dc-data-lineage-dynamic-panel-layout",12);_.V(6,"async");_.I(7,"article",13)(8,"dc-data-lineage-graph-view",14);_.P("onChangeDetailsPanelEvent",function(d){_.v(c);return _.x(b.onChangeDetailsPanelEvent(d))})("onErrorEvent",function(d){_.v(c);return _.x(b.onErrorEvent(d))});
_.K()();_.G(9,SOl,2,8,"article",15);_.I(10,"dc-lineage-details-panel",16);_.P("onEnvironmentEvent",function(d){_.v(c);return _.x(b.onEnvironmentEvent.emit(d))})("toggleDetailsPanelPosition",function(){_.v(c);return _.x(b.toggleDetailsPanelPosition())})("enableDataCatalogApi",function(){_.v(c);return _.x(b.enableDataCatalogApi())})("enableDataLineageApi",function(){_.v(c);return _.x(b.enableDataLineageApi())})("retryFetchingSelectedNodeDetails",function(){_.v(c);return _.x(aRl(b))})("onSelectedProcessChange",
function(d){_.v(c);b.lastExpandDetailsPageEvent&&b.changeDetailsPanel$.next(Object.assign({},b.lastExpandDetailsPageEvent,{processFqn:d}));return _.x(void 0)});_.K()();_.G(11,TOl,1,2,"ng-template",null,0,_.yh)(13,UOl,1,2,"ng-template",null,1,_.yh)}a&2&&(a=_.hh(12),_.H("ngIf",!b.project),_.y(),_.H("ngIf",_.W(2,27,b.projectNumber$)),_.y(2),_.H("ngIf",_.W(4,29,b.showDelayMessage$)),_.y(2),_.H("detailsPanelPosition",b.detailsPanelPosition)("detailsLoadingStatus",b.detailsLoadingStatus)("actionBarSuffix",
b.uniqueId)("showLineageGraph",!!_.W(6,31,b.showLineageGraph$))("viewType",b.viewType),_.y(3),_.H("fqn",b.fqn)("project",b.project)("location",b.location)("name",b.name)("host",b.host)("lineageControlBar",a),_.y(),_.H("ngIf",b.TABLE_VIEW_EXPERIMENT_ENABLED),_.y(),_.H("host",b.host)("lineageViewType",b.viewType)("detailsPanelPosition",b.detailsPanelPosition)("detailsLoadingStatus",b.detailsLoadingStatus)("fetchedData",b.detailsPanelFetchedData)("targetOpenEntity",b.lastExpandDetailsPageEvent)("actionBarId",
b.detailsPanelActionBarId)("dataCatalogApiNotEnabledError",b.dataCatalogApiNotEnabledError)("isEnablingDataCatalogApi",b.isEnablingDataCatalogApi)("lineageApiNotEnabledError",b.lineageApiNotEnabledError)("isEnablingDataLineageApi",b.isEnablingDataLineageApi)("billingNotEnabledError",b.billingNotEnabledError))},dependencies:[_.bz,_.bA,_.Jy,_.hw,_.Gy,_.xs,JQl,OQl,pQl,_.qz,_.cB,_.VD,JPl,_.Hv,_.Jv,_.Iv,_.uA,rQl,_.Fs],styles:["[_nghost-%COMP%]{height:100%}.dc-lineage-graph-wrapper[_ngcontent-%COMP%]{border-top:1px solid var(--cm-sys-color-hairline,rgba(0,0,0,.12))}dl[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{padding-left:16px}dl[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{padding-right:16px}"]});var cRl=[_.hF,_.Ky,_.Ms,_.pB,bQl,_.Uv,_.Vv,_.RM,_.iB,_.bB,_.hB],dRl=class{};dRl.\u0275fac=function(a){return new (a||dRl)};dRl.\u0275mod=_.q({type:dRl});dRl.\u0275inj=_.k({imports:[cRl]});var eRl=class{};eRl.\u0275fac=function(a){return new (a||eRl)};eRl.\u0275mod=_.q({type:eRl});eRl.\u0275inj=_.k({imports:[_.hF,_.UA,_.Ky,_.Qy,_.PA,_.Cx,_.UZ,_.Uv,_.HB,_.Vv,_.bB,_.dD,_.iD,_.GC]});var fRl=[_.hF,dRl,_.UA,_.Ms,_.Ky,_.Cx,_.pB,_.eB,_.WD,_.Uv,_.HB,_.KD,_.Vv,_.KE,_.$C,eRl],gRl=class{};gRl.\u0275fac=function(a){return new (a||gRl)};gRl.\u0275mod=_.q({type:gRl});gRl.\u0275inj=_.k({imports:[_.UA,fRl]});var hRl=class{};hRl.\u0275fac=function(a){return new (a||hRl)};hRl.\u0275mod=_.q({type:hRl});hRl.\u0275inj=_.k({providers:[{provide:_.jt,useValue:{DataLineageGraphView:JQl}}],imports:[_.JIl,_.YIl,_.VIl,_.UA,_.Ky,_.Ms,_.Uv,_.KE,_.$C,_.hB]});var iRl=[_.Ms,_.pA,_.Qy,_.Ky,_.pB,_.YC,_.FG,_.dD,_.Vv,_.HB,_.pC],jRl=class{};jRl.\u0275fac=function(a){return new (a||jRl)};jRl.\u0275mod=_.q({type:jRl});jRl.\u0275inj=_.k({imports:[_.UA,iRl]});var kRl=[_.hF,_.UA,_.Ky,_.Ms,jRl,_.FC,_.wv,_.r_,_.KD,_.Vv,_.bB,_.hu,_.iD,_.GC,_.sF,_.hB],lRl=class{};lRl.\u0275fac=function(a){return new (a||lRl)};lRl.\u0275mod=_.q({type:lRl});lRl.\u0275inj=_.k({imports:[_.UA,kRl]});var mRl=class{};mRl.\u0275fac=function(a){return new (a||mRl)};mRl.\u0275mod=_.q({type:mRl,id:"pm_data_lineage_graph"});mRl.\u0275inj=_.k({providers:[{provide:_.jt,useValue:{DataLineageGraph:bRl}}],imports:[_.hF,_.UA,_.BW,_.vT,_.Ky,_.Cx,_.Ms,oQl,hRl,lRl,gRl,_.pB,_.eB,_.WD,_.Uv,LPl,_.HB,_.KD,_.Vv,_.KE,_.$C,_.HW,_.hB]});_.lg(mRl,"pm_data_lineage_graph");
_.ai();
}catch(e){_._DumpException(e)}
}).call(this,this.default_r_tvffkgi);
// Google Inc.
